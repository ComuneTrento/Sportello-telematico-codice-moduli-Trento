{% import 'utils.html' as utils %}
{% import 'build_service.html' as service %}



<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- compare in: M2204-AUTORIZZAZIONE-DEROGA-ACUSTICA-CANTIERI
                 M47010-DICHIARAZIONE-ULTIMAZIONE-LAVORI
                 M47011-TRASM-DOC-INTEG
                 M47561-COMUNICAZIONE-OPERE-LIBERE-->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

{% macro titolare( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", ruoli=["Persona fisica", "Titolare", "Legale rappresentante", "Amministratore di condominio", "Responsabile unico del procedimento", "Procuratore legale"], visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do AventeTitoloNonImportarePresente.append('0') %}
{% endif %}


<table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; {{ visibility_intestazione }}">
  <tbody>
    <tr class="Rigaintestazione">
      <td colspan="5">
        <p style="line-height: 1.6;"><b>DATI DEL TITOLARE:</b></p>
      </td>
    </tr>
    <tr class="Rigaintestazione">
      <td style="width: 40%; border-left:0px; border-right:0px">
        <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}</p>
      </td>
      <td style="width:3%; border-left:0px; border-right:0px">
        <p class="Labeltabella">{{ carica_campi|safe }}</p>
      </td>
      <td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
        <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
          {{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
        </span>
      </td>
      <td style="width:27%; border-left:0px; border-right:0px">
        <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory_enabled="true"/>
      </td>
      <td style="width:25%; border-left:0px; border-right:0px">
        <button type="button" class="real-button" id="RecuperaDatiAnagr">Carica dati anagrafici</button>
      </td>
    </tr>
  </tbody>
  
  {{ service.getPersonaREST( prefix + '_CodiceFiscale','TipoContesto', 'TipoLista',  {
      prefix + '_DataNascita':  'datanascita',
      prefix + '_Nome':  'nome',
      prefix + '_Cognome':  'cognome',
      prefix + '_Sesso':  'sesso',
      prefix + '_Nazionalita':  'stato',
      prefix + '_Cittadinanza':  'nazionalita',
      prefix + '_CodiceFamiglia':  'codiceFamiglia',
      prefix + '_CodiceVia':  'codiceVia',
      prefix + '_ProvinciaResidenza' : 'provincia',
      prefix + '_ComuneResidenza' : 'citta',
      prefix + '_ViaResidenza' : 'indirizzo',
      prefix + '_CivicoResidenza' : 'numeroCivico',
      prefix + '_BarraResidenza' : 'barra',
      prefix + '_CAPResidenza' : 'cap',
      prefix + '_Nazione' : 'nazione',
      prefix + '_LuogoNascita' : 'comuneNascita',
      prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
      prefix + '_MatricolaAnagrafe' : 'matricola',
    },
    '#RecuperaDatiAnagr:click','true') }}

</table>

<br>

<div type="Anagrafica_persona_fisica">
  <table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="3">
          <p class="Labelcella" style="line-height:1.6;">Cognome</p>
        </td>
        <td>
          <p class="Labelcella" style="line-height:1.6;">Nome</p>
        </td>
      </tr>
      <tr>
        <td colspan="3">
          <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome" />
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:15%;">
          <p class="Labelcella" style="line-height:1.6;">Data di nascita</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Sesso</p>
        </td>
        <td style="width: 26%;">
          <p class="Labelcella" style="line-height:1.6;">Cittadinanza</p>
        </td>
        <td style="width: 50%;">
          <p class="Labelcella" style="line-height:1.6;">Luogo di nascita</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita" />
        </td>
        <td>
          <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso" >
            <option value=""></option>
            <option value="M">M</option>
            <option value="F">F</option>
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Cittadinanza" name="{{ prefix }}_Cittadinanza" style="width:100%;" label="Nazionalità"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita" />
        </td>
      </tr>
    </tbody>
  </table>
</div>

<br>

<div class="simpatico-block simpatico-query-and-answer">
  <div type="Residenza_persona_fisica">
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
      <tbody>
        <tr class="Rigaintestazione">
          <td colspan="6">
            <p style="line-height: 1.6;"><b>Residente a:</b></p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:9%;">
            <p class="Labelcella" style="line-height:1.6;">Provincia</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella" style="line-height:1.6;">Comune</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella" style="line-height:1.6;">Indirizzo</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella" style="line-height:1.6;">Civico</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella" style="line-height:1.6;">Barra</p>
          </td>
          <td style="width:16%;">
            <p class="Labelcella" style="line-height:1.6;">CAP</p>
          </td>
        </tr>
        <tr>
          <td>
            {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
          </td>
          <td>
            <input class="" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" maxlength="40" style="width:100%;" label="Via di residenza" mandatory_enabled="true" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" format="number" label="Civico di residenza" maxlength="10" mandatory_enabled="true" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_BarraResidenza" name="{{ prefix }}_BarraResidenza" style="width:100%;" enabled="true" label="Barra di residenza" maxlength="3" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza" enabled="#{{ prefix }}_CodiceFiscale.value() != '' and #{{ prefix }}_ProvinciaResidenza.value() != 'EE'" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
          </td>
        </tr>
      </tbody>
    </table>

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td style="width:16.5%;">
            <p class="Labelcella" style="line-height:1.6;">Telefono fisso</p>
          </td>
          <td style="width:16.5%;">
            <p class="Labelcella" style="line-height:1.6;">Cellulare</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella" style="line-height:1.6;">E-mail<i> (posta elettronica ordinaria)</i></p>
          </td>
          <td>
            <p class="Labelcella" style="line-height:1.6;">E-mail PEC<i> (domicilio digitale)</i></p>
          </td>
        </tr>
        <tr>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Fisso" name="{{ prefix }}_Fisso" label="Telefono fisso" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory="#fisso_obbligatorio.checked()"/>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Telefono" name="{{ prefix }}_Telefono" label="Telefono cellulare" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory="#cellulare_obbligatorio.checked()"/>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_EMail" name="{{ prefix }}_EMail" label="E-mail ordinaria" style="width:100%;" format="email" maxlength="60" enabled="true" mandatory="#mail_obbligatoria.checked()"/>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_EMailPEC" name="{{ prefix }}_EMailPEC" label="E-mail PEC" style="width:100%;" format="pec" maxlength="60" enabled="true" mandatory="#pec_obbligatoria.checked()"/>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<br>

<table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey">
  <tbody>
    <tr class="Rigaintestazione">
      <td colspan="5">
        <p style="line-height: 1.6;"><b>Ruolo del titolare</b></p>
      </td>
    </tr>
    <tr>
      <td colspan="5">
        <select class="inputNormal" id="{{ prefix }}_Ruolo" name="{{ prefix }}_Ruolo" style="width:100%;" mandatory_enabled="true" label="Ruolo del titolare">
          <option value=""></option>
          {% for ruolo in ruoli %}
          <option value="{{ ruolo }}">{{ ruolo }}</option>
          {% endfor %}
        </select>
      </td>
    </tr>
  </tbody>
</table>

<br>

<div class="simpatico-block simpatico-query-and-answer">
  <table class="Modulo" style="border:1px solid grey">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="3">
          <p class="Labelcella" style="line-height:1.6;">Denominazione/Ragione sociale (questa sezione deve essere compilata se il dichiarante non è la persona fisica)</p>
        </td>
        <td colspan="2">
          <p class="Labelcella" style="line-height:1.6;">Tipologia</p>
        </td>
      </tr>
      <tr mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Responsabile unico del procedimento', 'Titolare omonima ditta individuale' ])">
        <td colspan="3">
          <input class="" id="{{ prefix }}_Denominazione" name="{{ prefix }}_Denominazione" style="width:100%" label="Denominazione/Ragione sociale"/>
        </td>
        <td colspan="2">
          {{ utils.tipologiaimpresa( prefix + '_TipologiaImpresa' )}}
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td colspan="5">
          <p class="Labelcella" style="line-height:1.6;">Sede legale</p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Civico</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella" style="line-height:1.6;">CAP</p>
        </td>
      </tr>
      <tr mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Responsabile unico del procedimento', 'Titolare omonima ditta individuale' ])">
        <td>
          {{ utils.provincie( prefix + '_ProvinciaSede', label="Provincia della sede legale") }}
        </td>
        <td>
          <select class="inputNormal" id="{{ prefix }}_ComuneSede" name="{{ prefix }}_ComuneSede" style="width:100%" label="Comune della sede legale" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaSede.value(), '{{ prefix }}_ComuneSede')">
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaSede" name="{{ prefix }}_ViaSede" style="width:100%;" label="Indirizzo della sede legale"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoSede" name="{{ prefix }}_CivicoSede" style="width:100%;" label="Civico della sede legale" maxlength="10"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPSede" name="{{ prefix }}_CAPSede" style="width:100%;" format="cap" label="CAP della sede legale" enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Titolare omonima ditta individuale' ])" mandatory="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Titolare omonima ditta individuale' ]) and #{{ prefix }}_ProvinciaSede.value() != 'EE'"/>
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Responsabile unico del procedimento', 'Titolare omonima ditta individuale' ])">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:50%;">
          <p class="Labelcella" style="line-height:1.6;">Codice Fiscale / Partita IVA </p>
        </td>
        <td style="width:50%;">
          <p class="Labelcella" style="line-height:1.6;">E-mail PEC (domicilio digitale)</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_CFPI" name="{{ prefix }}_CFPI" label="Codice fiscale" style="width:100%;" format="cfpiva"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_APEC" name="{{ prefix }}_APEC" label="PEC Azienda" style="width:100%;" format="pec" />
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td>
          <p class="Labelcella" style="line-height:1.6;">Telefono fisso</p>
        </td>
        <td>
          <p class="Labelcella" style="line-height:1.6;">Cellulare</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_Tel_FissoSede" name="{{ prefix }}_Tel_FissoSede" label="Tel_Fisso della sede legale" style="width:100%;" mandatory="false"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_TelefonoSede" name="{{ prefix }}_TelefonoSede" label="Telefono della sede legale" style="width:100%;"/>
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="margin-top:-1px; border:1px solid grey;">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:50%">
          <p class="Labelcella" style="line-height:1.6;">Iscrizione al Registro Imprese della Camera di Commercio</p>
        </td>
        <td style="width:9%">
          <p class="Labelcella" style="line-height:1.6;">Provincia</p>
        </td>
        <td style="width:41%">
          <p class="Labelcella" style="line-height:1.6;">Numero iscrizione</p>
        </td>
      </tr>
      <tr>
        <td>
          <select class="inputNormal" id="{{ prefix }}_Attributi_IscrittoCCIAA" name="{{ prefix }}_Attributi_IscrittoCCIAA" label="Iscrizione al Registro Imprese della Camera di Commercio" style="width:100%" mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Titolare omonima ditta individuale' ])">
            <option value=""></option>
            <option value="iscritto">iscritto</option>
            <option value="in attesa di iscrizione">in attesa di iscrizione</option>
            <option value="non tenuto all'iscrizione">non tenuto all'iscrizione</option>
          </select>
        </td>
        <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto','in attesa di iscrizione' ])">
          {{ utils.provincie( prefix + '_Attributi_CCIAAProv', label="Provincia iscrizione al Registro Imprese della Camera di Commercio") }}
        </td>
        <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto' ])">
          <input class="" id="{{ prefix }}_Attributi_CCIAANumero" name="{{ prefix }}_Attributi_CCIAANumero" label="Numero iscrizione al Registro Imprese della Camera di Commercio" style="width:100%"/>
        </td>
      </tr>
    </tbody>
  </table>

	<input id="{{ prefix }}_Attributi_CCIAAProv_categoria" 		name="{{ prefix }}_Attributi_CCIAAProv_categoria" 		type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_CCIAAProv_nome" 			name="{{ prefix }}_Attributi_CCIAAProv_nome" 			type="hidden" value="Provincia registro imprese Camera Commercio"/>
	<input id="{{ prefix }}_Attributi_CCIAANumero_categoria" 	name="{{ prefix }}_Attributi_CCIAANumero_categoria" 	type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_CCIAANumero_nome" 		name="{{ prefix }}_Attributi_CCIAANumero_nome" 			type="hidden" value="Numero iscrizione registro imprese Camera Commerci"/>
	<input id="{{ prefix }}_Attributi_IscrittoCCIAA_categoria" 	name="{{ prefix }}_Attributi_IscrittoCCIAA_categoria" 	type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_IscrittoCCIAA_nome" 		name="{{ prefix }}_Attributi_IscrittoCCIAA_nome" 		type="hidden" value="Iscrizione registro imprese Camera Commercio"/>
</div>
{%- endmacro %}

<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- compare in: M47500-SEGNALAZIONE-CERTIFICATA-INIZIO-ATTIVITA
                 M47750-AUTORIZZAZIONE-CPC
                 M2301-AUTORIZZAZIONE-SCARICO-INSED-CIV
                 M47005-COMUNICAZIONE-INIZIO-LAVORI -->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

{% macro titolare_segnatura( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", ruoli=["Persona fisica", "Titolare", "Legale rappresentante", "Amministratore di condominio", "Responsabile unico del procedimento", "Procuratore legale"], visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do AventeTitoloNonImportarePresente.append('0') %}
{% endif %}


<table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; {{ visibility_intestazione }}">
  <tbody>
    <tr class="Rigaintestazione">
      <td colspan="5">
        <p style="line-height: 1.6;"><b>DATI DEL TITOLARE:</b></p>
      </td>
    </tr>
    <tr class="Rigaintestazione">
      <td style="width: 40%; border-left:0px; border-right:0px">
        <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}</p>
      </td>
      <td style="width:3%; border-left:0px; border-right:0px">
        <p class="Labeltabella">{{ carica_campi|safe }}</p>
      </td>
      <td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
        <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
          {{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
        </span>
      </td>
      <td style="width:27%; border-left:0px; border-right:0px">
        <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory_enabled="true"/>
      </td>
      <td style="width:25%; border-left:0px; border-right:0px">
        <button type="button" class="real-button" id="RecuperaDatiAnagr">Carica dati anagrafici</button>
      </td>
    </tr>
  </tbody>
  
  {{ service.getPersonaREST( prefix + '_CodiceFiscale','TipoContesto', 'TipoLista',  {
      prefix + '_DataNascita':  'datanascita',
      prefix + '_Nome':  'nome',
      prefix + '_Cognome':  'cognome',
      prefix + '_Sesso':  'sesso',
      prefix + '_Nazionalita':  'stato',
      prefix + '_Cittadinanza':  'nazionalita',
      prefix + '_CodiceFamiglia':  'codiceFamiglia',
      prefix + '_CodiceVia':  'codiceVia',
      prefix + '_ProvinciaResidenza' : 'provincia',
      prefix + '_ComuneResidenza' : 'citta',
      prefix + '_ViaResidenza' : 'indirizzo',
      prefix + '_CivicoResidenza' : 'numeroCivico',
      prefix + '_BarraResidenza' : 'barra',
      prefix + '_CAPResidenza' : 'cap',
      prefix + '_Nazione' : 'nazione',
      prefix + '_LuogoNascita' : 'comuneNascita',
      prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
      prefix + '_MatricolaAnagrafe' : 'matricola',
    },
    '#RecuperaDatiAnagr:click','true') }}

</table>

<br>

<div type="Anagrafica_persona_fisica">
  <table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="3">
          <p class="Labelcella" style="line-height:1.6;">Cognome</p>
        </td>
        <td>
          <p class="Labelcella" style="line-height:1.6;">Nome</p>
        </td>
      </tr>
      <tr>
        <td colspan="3">
          <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome" />
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:15%;">
          <p class="Labelcella" style="line-height:1.6;">Data di nascita</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Sesso</p>
        </td>
        <td style="width: 26%;">
          <p class="Labelcella" style="line-height:1.6;">Cittadinanza</p>
        </td>
        <td style="width: 50%;">
          <p class="Labelcella" style="line-height:1.6;">Luogo di nascita</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita" />
        </td>
        <td>
          <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso" >
            <option value=""></option>
            <option value="M">M</option>
            <option value="F">F</option>
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Cittadinanza" name="{{ prefix }}_Cittadinanza" style="width:100%;" label="Nazionalità"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita" />
        </td>
      </tr>
    </tbody>
  </table>
</div>

<br>

<div class="simpatico-block simpatico-query-and-answer">
  <div type="Residenza_persona_fisica">
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
      <tbody>
        <tr class="Rigaintestazione">
          <td colspan="6">
            <p style="line-height: 1.6;"><b>Residente a:</b></p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:9%;">
            <p class="Labelcella" style="line-height:1.6;">Provincia</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella" style="line-height:1.6;">Comune</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella" style="line-height:1.6;">Indirizzo</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella" style="line-height:1.6;">Civico</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella" style="line-height:1.6;">Barra</p>
          </td>
          <td style="width:16%;">
            <p class="Labelcella" style="line-height:1.6;">CAP</p>
          </td>
        </tr>
        <tr>
          <td>
            {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
          </td>
          <td>
            <input class="" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" maxlength="40" style="width:100%;" label="Via di residenza" mandatory_enabled="true" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" format="number" label="Civico di residenza" maxlength="10" mandatory_enabled="true" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_BarraResidenza" name="{{ prefix }}_BarraResidenza" style="width:100%;" enabled="true" label="Barra di residenza" maxlength="3" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza" enabled="#{{ prefix }}_CodiceFiscale.value() != '' and #{{ prefix }}_ProvinciaResidenza.value() != 'EE'" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
          </td>
        </tr>
      </tbody>
    </table>

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td style="width:16.5%;">
            <p class="Labelcella" style="line-height:1.6;">Telefono fisso</p>
          </td>
          <td style="width:16.5%;">
            <p class="Labelcella" style="line-height:1.6;">Cellulare</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella" style="line-height:1.6;">E-mail<i> (posta elettronica ordinaria)</i></p>
          </td>
          <td>
            <p class="Labelcella" style="line-height:1.6;">E-mail PEC<i> (domicilio digitale)</i></p>
          </td>
        </tr>
        <tr>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Fisso" name="{{ prefix }}_Fisso" label="Telefono fisso" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory="#fisso_obbligatorio.checked()"/>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Telefono" name="{{ prefix }}_Telefono" label="Telefono cellulare" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory="#cellulare_obbligatorio.checked()"/>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Segnatura_EMail" name="{{ prefix }}_Segnatura_EMail" label="E-mail ordinaria" style="width:100%;" format="email" maxlength="60" enabled="true" mandatory="#mail_obbligatoria.checked()"/>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Segnatura_EMailPEC" name="{{ prefix }}_Segnatura_EMailPEC" label="E-mail PEC" style="width:100%;" format="pec" maxlength="60" enabled="true" mandatory="#pec_obbligatoria.checked()"/>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<br>

<table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey">
  <tbody>
    <tr class="Rigaintestazione">
      <td colspan="5">
        <p style="line-height: 1.6;"><b>Ruolo del titolare</b></p>
      </td>
    </tr>
    <tr>
      <td colspan="5">
        <select class="inputNormal" id="{{ prefix }}_Ruolo" name="{{ prefix }}_Ruolo" style="width:100%;" mandatory_enabled="true" label="Ruolo del titolare">
          <option value=""></option>
          {% for ruolo in ruoli %}
          <option value="{{ ruolo }}">{{ ruolo }}</option>
          {% endfor %}
        </select>
      </td>
    </tr>
  </tbody>
</table>

<br>

<div class="simpatico-block simpatico-query-and-answer">
  <table class="Modulo" style="border:1px solid grey">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="3">
          <p class="Labelcella" style="line-height:1.6;">Denominazione/Ragione sociale (questa sezione deve essere compilata se il dichiarante non è la persona fisica)</p>
        </td>
        <td colspan="2">
          <p class="Labelcella" style="line-height:1.6;">Tipologia</p>
        </td>
      </tr>
      <tr mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Responsabile unico del procedimento', 'Titolare omonima ditta individuale', 'Persona Giuridica' ])">
        <td colspan="3">
          <input class="" id="{{ prefix }}_Denominazione" name="{{ prefix }}_Denominazione" style="width:100%" label="Denominazione/Ragione sociale"/>
        </td>
        <td colspan="2">
          {{ utils.tipologiaimpresa( prefix + '_TipologiaImpresa' )}}
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td colspan="5">
          <p class="Labelcella" style="line-height:1.6;">Sede legale</p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Civico</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella" style="line-height:1.6;">CAP</p>
        </td>
      </tr>
      <tr mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Responsabile unico del procedimento', 'Titolare omonima ditta individuale', 'Persona Giuridica' ])">
        <td>
          {{ utils.provincie( prefix + '_ProvinciaSede', label="Provincia della sede legale") }}
        </td>
        <td>
          <select class="inputNormal" id="{{ prefix }}_ComuneSede" name="{{ prefix }}_ComuneSede" style="width:100%" label="Comune della sede legale" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaSede.value(), '{{ prefix }}_ComuneSede')">
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaSede" name="{{ prefix }}_ViaSede" style="width:100%;" label="Indirizzo della sede legale"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoSede" name="{{ prefix }}_CivicoSede" style="width:100%;" label="Civico della sede legale" maxlength="10"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPSede" name="{{ prefix }}_CAPSede" style="width:100%;" format="cap" label="CAP della sede legale" enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Titolare omonima ditta individuale', 'Persona Giuridica' ])" mandatory="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Titolare omonima ditta individuale' ]) and #{{ prefix }}_ProvinciaSede.value() != 'EE'"/>
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Responsabile unico del procedimento', 'Titolare omonima ditta individuale', 'Persona Giuridica' ])">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:50%;">
          <p class="Labelcella" style="line-height:1.6;">Codice Fiscale / Partita IVA </p>
        </td>
        <td style="width:50%;">
          <p class="Labelcella" style="line-height:1.6;">E-mail PEC (domicilio digitale)</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_CFPI" name="{{ prefix }}_CFPI" label="Codice fiscale" style="width:100%;" format="cfpiva"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_APEC" name="{{ prefix }}_APEC" label="PEC Azienda" style="width:100%;" format="pec" />
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td>
          <p class="Labelcella" style="line-height:1.6;">Telefono fisso</p>
        </td>
        <td>
          <p class="Labelcella" style="line-height:1.6;">Cellulare</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_Tel_FissoSede" name="{{ prefix }}_Tel_FissoSede" label="Tel_Fisso della sede legale" style="width:100%;" mandatory="false"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_TelefonoSede" name="{{ prefix }}_TelefonoSede" label="Telefono della sede legale" style="width:100%;"/>
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="margin-top:-1px; border:1px solid grey;">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:50%">
          <p class="Labelcella" style="line-height:1.6;">Iscrizione al Registro Imprese della Camera di Commercio</p>
        </td>
        <td style="width:9%">
          <p class="Labelcella" style="line-height:1.6;">Provincia</p>
        </td>
        <td style="width:41%">
          <p class="Labelcella" style="line-height:1.6;">Numero iscrizione</p>
        </td>
      </tr>
      <tr>
        <td>
          <select class="inputNormal" id="{{ prefix }}_Attributi_IscrittoCCIAA" name="{{ prefix }}_Attributi_IscrittoCCIAA" label="Iscrizione al Registro Imprese della Camera di Commercio" style="width:100%" mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Titolare omonima ditta individuale', 'Persona Giuridica' ])">
            <option value=""></option>
            <option value="iscritto">iscritto</option>
            <option value="in attesa di iscrizione">in attesa di iscrizione</option>
            <option value="non tenuto all'iscrizione">non tenuto all'iscrizione</option>
          </select>
        </td>
        <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto','in attesa di iscrizione' ])">
          {{ utils.provincie( prefix + '_Attributi_CCIAAProv', label="Provincia iscrizione al Registro Imprese della Camera di Commercio") }}
        </td>
        <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto' ])">
          <input class="" id="{{ prefix }}_Attributi_CCIAANumero" name="{{ prefix }}_Attributi_CCIAANumero" label="Numero iscrizione al Registro Imprese della Camera di Commercio" style="width:100%"/>
        </td>
      </tr>
    </tbody>
  </table>

	<input id="{{ prefix }}_Attributi_CCIAAProv_categoria" 		name="{{ prefix }}_Attributi_CCIAAProv_categoria" 		type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_CCIAAProv_nome" 			name="{{ prefix }}_Attributi_CCIAAProv_nome" 			type="hidden" value="Provincia registro imprese Camera Commercio"/>
	<input id="{{ prefix }}_Attributi_CCIAANumero_categoria" 	name="{{ prefix }}_Attributi_CCIAANumero_categoria" 	type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_CCIAANumero_nome" 		name="{{ prefix }}_Attributi_CCIAANumero_nome" 			type="hidden" value="Numero iscrizione registro imprese Camera Commerci"/>
	<input id="{{ prefix }}_Attributi_IscrittoCCIAA_categoria" 	name="{{ prefix }}_Attributi_IscrittoCCIAA_categoria" 	type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_IscrittoCCIAA_nome" 		name="{{ prefix }}_Attributi_IscrittoCCIAA_nome" 		type="hidden" value="Iscrizione registro imprese Camera Commercio"/>
</div>
{%- endmacro %}


<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- compare in: M1866-ACCETTAZIONE-NIDO
                 M1876-ISCRIZIONE-NIDO
                 M1451-RICHIESTA-RIDUZIONE-TARI-ISEE
                 M5101-RILASCIO-ELENCO-TITOLI-EDILIZI
                 M2305-NULLAOSTA-SCARICO-INSED-CIV 
                 -->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

{% macro richiedente( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}



<table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; {{ visibility_intestazione }}">
  <tbody>
    <tr class="Rigaintestazione">
      <td style="width: 40%; border-left:0px; border-right:0px">
        <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}</p>
      </td>
      <td style="width:3%; border-left:0px; border-right:0px">
        <p class="Labeltabella">{{ carica_campi|safe }}</p>
      </td>
      <td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
        <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
          {{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
        </span>
      </td>
      <td style="width:27%; border-left:0px; border-right:0px">
        <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory_enabled="true"/>
      </td>
      <td style="width:25%; border-left:0px; border-right:0px">
        <button type="button" class="real-button" id="RecuperaDatiAnagr">Carica dati anagrafici</button>
      </td>
    </tr>
  </tbody>

  {{ service.getPersonaREST( prefix + '_CodiceFiscale','TipoContesto', 'TipoLista',  {
    prefix + '_DataNascita':  'datanascita',
    prefix + '_Nome':  'nome',
    prefix + '_Cognome':  'cognome',
    prefix + '_Sesso':  'sesso',
    prefix + '_Nazionalita':  'stato',
    prefix + '_Cittadinanza':  'nazionalita',
    prefix + '_CodiceFamiglia':  'codiceFamiglia',
    prefix + '_CodiceVia':  'codiceVia',
    prefix + '_ProvinciaResidenza' : 'provincia',
    prefix + '_ComuneResidenza' : 'citta',
    prefix + '_ViaResidenza' : 'indirizzo',
    prefix + '_CivicoResidenza' : 'numeroCivico',
    prefix + '_BarraResidenza' : 'barra',
    prefix + '_CAPResidenza' : 'cap',
    prefix + '_Nazione' : 'nazione',
    prefix + '_LuogoNascita' : 'comuneNascita',
    prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
    prefix + '_MatricolaAnagrafe' : 'matricola',
  },
  '#RecuperaDatiAnagr:click','true') }}
</table>

<br>

<table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
  <tbody>
    <tr class="Rigaintestazione">
      <td colspan="5">
        <p style="line-height: 1.6;"><b>Dati anagrafici:</b></p>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td colspan="3">
        <p class="Labelcella" style="line-height:1.6;">Cognome</p>
      </td>
      <td colspan="2">
        <p class="Labelcella" style="line-height:1.6;">Nome</p>
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
      </td>
      <td colspan="2">
        <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td style="width:15%;">
        <p class="Labelcella" style="line-height:1.6;">Data di nascita</p>
      </td>
      <td style="width:9%;">
        <p class="Labelcella" style="line-height:1.6;">Sesso</p>
      </td>
      <td style="width: 26%;">
        <p class="Labelcella" style="line-height:1.6;">Cittadinanza</p>
      </td>
      <td style="width: 40%;">
        <p class="Labelcella" style="line-height:1.6;">Luogo di nascita</p>
      </td>
      <td style="width: 10%;">
        <p class="Labelcella" style="line-height:1.6;">Provincia</p>
      </td>
    </tr>
    <tr>
      <td>
        <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
      </td>
      <td>
        <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
          <option value=""></option>
          <option value="M">M</option>
          <option value="F">F</option>
        </select>
      </td>
      <td>
        <input class="" id="{{ prefix }}_Cittadinanza" name="{{ prefix }}_Cittadinanza" style="width:100%;" label="Nazionalità"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
      </td>
      <td>
        {{ utils.provincie( prefix + '_ProvinciaNascita', label="Provincia di nascita") }}
      </td>
    </tr>
  </tbody>
</table>

<br>

<div class="simpatico-block simpatico-query-and-answer">
  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
    <tbody>
      <tr class="Rigaintestazione">
        <td colspan="6">
          <p style="line-height: 1.6;"><b>Residente a:</b></p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Civico</p>
        </td>
    		<td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Barra</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella" style="line-height:1.6;">CAP</p>
        </td>
      </tr>
      <tr>
        <td>
          {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
        </td>
        <td>
          <input class="" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" maxlength="40" style="width:100%;" label="Via di residenza" mandatory_enabled="true" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" format="number" label="Civico di residenza" maxlength="10" mandatory_enabled="true" />
        </td>
  	  	<td>
          <input class="" id="{{ prefix }}_BarraResidenza" name="{{ prefix }}_BarraResidenza" style="width:100%;" label="Barra di residenza" maxlength="3" enabled="true" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza" enabled="#{{ prefix }}_CodiceFiscale.value() != '' and #{{ prefix }}_ProvinciaResidenza.value() != 'EE'" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
		<tbody>
			<tr class="Rigaintestazioneridotta">
 				<td style="width:16.5%;">
 					<p class="Labelcella" style="line-height:1.6;">Telefono fisso</p>
 				</td>
 				<td style="width:16.5%;">
 					<p class="Labelcella" style="line-height:1.6;">Cellulare</p>
 				</td>
 				<td style="width:33%;">
 					<p class="Labelcella" style="line-height:1.6;">E-mail<i> (posta elettronica ordinaria)</i></p>
 				</td>
 				<td>
 					<p class="Labelcella" style="line-height:1.6;">E-mail PEC<i> (domicilio digitale)</i></p>
 				</td>
 			</tr>
 			<tr>
        <td>
          <input class="inputNormal" id="{{ prefix }}_Fisso" name="{{ prefix }}_Fisso" label="Telefono fisso" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory="#fisso_obbligatorio.checked()"/>
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_Telefono" name="{{ prefix }}_Telefono" label="Telefono cellulare" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory="#cellulare_obbligatorio.checked()"/>
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_EMail" name="{{ prefix }}_EMail" label="E-mail ordinaria" style="width:100%;" format="email" maxlength="60" enabled="true" mandatory="#mail_obbligatoria.checked()"/>
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_EMailPEC" name="{{ prefix }}_EMailPEC" label="E-mail PEC" style="width:100%;" format="pec" maxlength="60" enabled="true" mandatory="#pec_obbligatoria.checked()"/>
        </td>
 			</tr>
 		</tbody>
  </table>

</div>

<input type="hidden" id="AventeTitolo_CodiceFamiglia" name="AventeTitolo_CodiceFamiglia"/>
<input type="hidden" id="AventeTitolo_CodiceVia" name="AventeTitolo_CodiceVia"/>
<input type="hidden" id="AventeTitolo_MatricolaAnagrafe" name="AventeTitolo_MatricolaAnagrafe"/>
<input type="hidden" id="AventeTitolo_CodiceComuneNascita" name="AventeTitolo_CodiceComuneNascita"/>

{%- endmacro %}

<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- compare in: M0403-RICHIESTA-UTILIZZO-SALE-PALAZZO-GEREMIA
                 DOMANDA DI LOCAZIONE ALLOGGIO DI EDILIZIA PUBBLICA E CONTRIBUTO INTEGRATIVO ALL’AFFITTO-->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

{% macro richiedente_email_obbligatoria( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}



<table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; {{ visibility_intestazione }}">
  <tbody>
    <tr class="Rigaintestazione">
      <td style="width: 40%; border-left:0px; border-right:0px">
        <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}</p>
      </td>
      <td style="width:3%; border-left:0px; border-right:0px">
        <p class="Labeltabella">{{ carica_campi|safe }}</p>
      </td>
      <td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
        <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
          {{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
        </span>
      </td>
      <td style="width:27%; border-left:0px; border-right:0px">
        <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory_enabled="true" readonly/>
      </td>
      <td style="width:25%; border-left:0px; border-right:0px">
        <button type="button" class="real-button" id="RecuperaDatiAnagr">Carica dati anagrafici</button>
      </td>
    </tr>
  </tbody>

  {{ service.getPersonaREST( prefix + '_CodiceFiscale','TipoContesto', 'TipoLista',  {
    prefix + '_DataNascita':  'datanascita',
    prefix + '_Nome':  'nome',
    prefix + '_Cognome':  'cognome',
    prefix + '_Sesso':  'sesso',
    prefix + '_Nazionalita':  'stato',
    prefix + '_Cittadinanza':  'nazionalita',
    prefix + '_CodiceFamiglia':  'codiceFamiglia',
    prefix + '_CodiceVia':  'codiceVia',
    prefix + '_ProvinciaResidenza' : 'provincia',
    prefix + '_ComuneResidenza' : 'citta',
    prefix + '_ViaResidenza' : 'indirizzo',
    prefix + '_CivicoResidenza' : 'numeroCivico',
    prefix + '_BarraResidenza' : 'barra',
    prefix + '_CAPResidenza' : 'cap',
    prefix + '_Nazione' : 'nazione',
    prefix + '_LuogoNascita' : 'comuneNascita',
    prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
    prefix + '_MatricolaAnagrafe' : 'matricola',
  },
  '#RecuperaDatiAnagr:click','true') }}
</table>

<br>

<table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
  <tbody>
    <tr class="Rigaintestazione">
      <td colspan="5">
        <p style="line-height: 1.6;"><b>Dati anagrafici:</b></p>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td colspan="3">
        <p class="Labelcella" style="line-height:1.6;">Cognome</p>
      </td>
      <td colspan="2">
        <p class="Labelcella" style="line-height:1.6;">Nome</p>
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
      </td>
      <td colspan="2">
        <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td style="width:15%;">
        <p class="Labelcella" style="line-height:1.6;">Data di nascita</p>
      </td>
      <td style="width:9%;">
        <p class="Labelcella" style="line-height:1.6;">Sesso</p>
      </td>
      <td style="width: 26%;">
        <p class="Labelcella" style="line-height:1.6;">Cittadinanza</p>
      </td>
      <td style="width: 40%;">
        <p class="Labelcella" style="line-height:1.6;">Luogo di nascita</p>
      </td>
      <td style="width: 10%;">
        <p class="Labelcella" style="line-height:1.6;">Provincia</p>
      </td>
    </tr>
    <tr>
      <td>
        <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
      </td>
      <td>
        <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
          <option value=""></option>
          <option value="M">M</option>
          <option value="F">F</option>
        </select>
      </td>
      <td>
        <input class="" id="{{ prefix }}_Cittadinanza" name="{{ prefix }}_Cittadinanza" style="width:100%;" label="Nazionalità"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
      </td>
      <td>
        {{ utils.provincie( prefix + '_ProvinciaNascita', label="Provincia di nascita") }}
      </td>
    </tr>
  </tbody>
</table>

<br>

<div class="simpatico-block simpatico-query-and-answer">
  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
    <tbody>
      <tr class="Rigaintestazione">
        <td colspan="6">
          <p style="line-height: 1.6;"><b>Residente a:</b></p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Civico</p>
        </td>
    		<td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Barra</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella" style="line-height:1.6;">CAP</p>
        </td>
      </tr>
      <tr>
        <td>
          {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
        </td>
        <td>
          <input class="" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" maxlength="40" style="width:100%;" label="Via di residenza" mandatory_enabled="true" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" format="number" label="Civico di residenza" maxlength="10" mandatory_enabled="true" />
        </td>
  	  	<td>
          <input class="" id="{{ prefix }}_BarraResidenza" name="{{ prefix }}_BarraResidenza" style="width:100%;" label="Barra di residenza" maxlength="3" enabled="true" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza" enabled="#{{ prefix }}_CodiceFiscale.value() != '' and #{{ prefix }}_ProvinciaResidenza.value() != 'EE'" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
		<tbody>
			<tr class="Rigaintestazioneridotta">
 				<td style="width:16.5%;">
 					<p class="Labelcella" style="line-height:1.6;">Telefono fisso</p>
 				</td>
 				<td style="width:16.5%;">
 					<p class="Labelcella" style="line-height:1.6;">Cellulare</p>
 				</td>
 				<td style="width:33%;">
 					<p class="Labelcella" style="line-height:1.6;">E-mail<i> (posta elettronica ordinaria)</i></p>
 				</td>
 				<td>
 					<p class="Labelcella" style="line-height:1.6;">E-mail PEC<i> (domicilio digitale)</i></p>
 				</td>
 			</tr>
 			<tr>
        <td>
          <input class="inputNormal" id="{{ prefix }}_Fisso" name="{{ prefix }}_Fisso" label="Telefono fisso" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory="#fisso_obbligatorio.checked()"/>
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_Telefono" name="{{ prefix }}_Telefono" label="Telefono cellulare" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory="#cellulare_obbligatorio.checked()"/>
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_EMail" name="{{ prefix }}_EMail" label="E-mail ordinaria" style="width:100%;" format="email" maxlength="60" enabled="true" mandatory="#{{ prefix }}_EMailPEC.value().length == 0 ? true:false"/>
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_EMailPEC" name="{{ prefix }}_EMailPEC" label="E-mail PEC" style="width:100%;" format="pec" maxlength="60" enabled="true" mandatory="#{{ prefix }}_EMail.value().length == 0 ? true:false"/>
        </td>
 			</tr>
 		</tbody>
  </table>

</div>

<input type="hidden" id="AventeTitolo_CodiceFamiglia" name="AventeTitolo_CodiceFamiglia"/>
<input type="hidden" id="AventeTitolo_CodiceVia" name="AventeTitolo_CodiceVia"/>
<input type="hidden" id="AventeTitolo_MatricolaAnagrafe" name="AventeTitolo_MatricolaAnagrafe"/>
<input type="hidden" id="AventeTitolo_CodiceComuneNascita" name="AventeTitolo_CodiceComuneNascita"/>

{%- endmacro %}



<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- compare in: M1114-ISCRIZIONE-ALBO-SCRUTATORI
                 M1115-ISCRIZIONE-ALBO-PRESIDENTE-SEGGIO
                 M1128-CANCELLAZIONE-ALBO-SCRUTATORI
                 M1128bis-CANCELLAZIONE-ALBO-PRESIDENTI
                 M1144-DISPONIBILITA-SCRUTATORE
                 M1145-DISPONIBILITA-PRESIDENTE-SEGGIO
                 -->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

{% macro richiedente_elettorale( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}


<table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; {{ visibility_intestazione }}">
  <tbody>
    <tr>
      <td style="width: 40%; border-left:0px; border-right:0px; background-color: #eeeeee;">
        <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}</p>
      </td>
      <td style="width:3%; border-left:0px; border-right:0px; background-color: #eeeeee;">
        <p class="Labeltabella">{{ carica_campi|safe }}</p>
      </td>
      <td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px; background-color: #eeeeee;">
        <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
          {{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
        </span>
      </td>
      <td style="width:27%; border-left:0px; border-right:0px">
        <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory_enabled="true" readonly/>
      </td>
      <td style="width:25%; border-left:0px; border-right:0px; background-color: #eeeeee;">
        <button type="button" class="real-button" id="RecuperaDatiAnagr">Carica dati anagrafici</button>
      </td>
    </tr>
  </tbody>

  {{ service.getPersonaREST( prefix + '_CodiceFiscale','TipoContesto', 'TipoLista',  {
    prefix + '_DataNascita':  'datanascita',
    prefix + '_Nome':  'nome',
    prefix + '_Cognome':  'cognome',
    prefix + '_Sesso':  'sesso',
    prefix + '_Nazionalita':  'stato',
    prefix + '_Cittadinanza':  'nazionalita',
    prefix + '_CodiceFamiglia':  'codiceFamiglia',
    prefix + '_CodiceVia':  'codiceVia',
    prefix + '_ProvinciaResidenza' : 'provincia',
    prefix + '_ComuneResidenza' : 'citta',
    prefix + '_ViaResidenza' : 'indirizzo',
    prefix + '_CivicoResidenza' : 'numeroCivico',
    prefix + '_CAPResidenza' : 'cap',
    prefix + '_Nazione' : 'nazione',
    prefix + '_LuogoNascita' : 'comuneNascita',
    prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
    prefix + '_MatricolaAnagrafe' : 'matricola',
  },
  '#RecuperaDatiAnagr:click','true') }}
</table>

<br>

<table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
  <tbody>
    <tr class="Rigaintestazione">
      <td colspan="4">
        <p style="line-height: 1.6;"><b>Dati anagrafici:</b></p>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td colspan="3">
        <p class="Labelcella" style="line-height:1.6;">Cognome</p>
      </td>
      <td>
        <p class="Labelcella" style="line-height:1.6;">Nome</p>
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td style="width:15%;">
        <p class="Labelcella" style="line-height:1.6;">Data di nascita</p>
      </td>
      <td style="width:9%;">
        <p class="Labelcella" style="line-height:1.6;">Sesso</p>
      </td>
      <td style="width: 26%;">
        <p class="Labelcella" style="line-height:1.6;">Cittadinanza</p>
      </td>
      <td style="width: 50%;">
        <p class="Labelcella" style="line-height:1.6;">Luogo di nascita</p>
      </td>
    </tr>
    <tr>
      <td>
        <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
      </td>
      <td>
        <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
          <option value=""></option>
          <option value="M">M</option>
          <option value="F">F</option>
        </select>
      </td>
      <td>
        <input class="" id="{{ prefix }}_Cittadinanza" name="{{ prefix }}_Cittadinanza" style="width:100%;" label="Nazionalità"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
      </td>
    </tr>
  </tbody>
</table>

<br>

<div class="simpatico-block simpatico-query-and-answer">
  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
    <tbody>
      <tr class="Rigaintestazione">
        <td colspan="6">
          <p style="line-height: 1.6;"><b>Residente a:</b></p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Civico</p>
        </td>
    		<td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Barra</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella" style="line-height:1.6;">CAP</p>
        </td>
      </tr>
      <tr>
        <td>
          {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
        </td>
        <td>
          <input class="" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" maxlength="40" style="width:100%;" label="Via di residenza" mandatory_enabled="true" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" format="number" label="Civico di residenza" maxlength="10" mandatory_enabled="true" />
        </td>
  	  	<td>
          <input class="" id="BarraResidenza" name="BarraResidenza" style="width:100%;" label="Barra di residenza" maxlength="3" enabled="true" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza" enabled="#{{ prefix }}_CodiceFiscale.value() != '' and #{{ prefix }}_ProvinciaResidenza.value() != 'EE'" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
		<tbody>
			<tr class="Rigaintestazioneridotta">
 				<td style="width:16.5%;">
 					<p class="Labelcella" style="line-height:1.6;">Telefono fisso</p>
 				</td>
 				<td style="width:16.5%;">
 					<p class="Labelcella" style="line-height:1.6;">Cellulare</p>
 				</td>
 				<td style="width:33%;">
 					<p class="Labelcella" style="line-height:1.6;">E-mail<i> (posta elettronica ordinaria)</i></p>
 				</td>
 				<td>
 					<p class="Labelcella" style="line-height:1.6;">E-mail PEC<i> (domicilio digitale)</i></p>
 				</td>
 			</tr>
 			<tr>
        <td>
          <input class="inputNormal" id="{{ prefix }}_Fisso" name="{{ prefix }}_Fisso" label="Telefono fisso" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory="#fisso_obbligatorio.checked()"/>
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_Telefono" name="{{ prefix }}_Telefono" label="Telefono cellulare" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory="#cellulare_obbligatorio.checked()"/>
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_EMail" name="{{ prefix }}_EMail" label="E-mail ordinaria" style="width:100%;" format="email" maxlength="60" enabled="true" mandatory="#mail_obbligatoria.checked()"/>
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_EMailPEC" name="{{ prefix }}_EMailPEC" label="E-mail PEC" style="width:100%;" format="pec" maxlength="60" enabled="true" mandatory="#pec_obbligatoria.checked()"/>
        </td>
 			</tr>
 		</tbody>
  </table>

  <table class="Modulo" style="border: 1px solid grey">
    <tbody>
      <tr>
        <td style="background-color: #eeeeee;">
          <p style="line-height: 1.6; font-size: 95%; text-align: center;"><b>N.B.: I contatti forniti saranno utilizzati <u>esclusivamente a fini istituzionali</u></b></p>
        </td>
      </tr>
    </tbody>
  </table>

</div>

<input type="hidden" id="AventeTitolo_CodiceFamiglia" name="AventeTitolo_CodiceFamiglia"/>
<input type="hidden" id="AventeTitolo_CodiceVia" name="AventeTitolo_CodiceVia"/>
<input type="hidden" id="AventeTitolo_MatricolaAnagrafe" name="AventeTitolo_MatricolaAnagrafe"/>
<input type="hidden" id="AventeTitolo_CodiceComuneNascita" name="AventeTitolo_CodiceComuneNascita"/>

{%- endmacro %}


<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- compare in: M1462-IMIS
                 M0801-ACCESSO-CONSULTAZIONE-ATTI-EDILIZIA -->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

{% macro richiedente_nomail( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}


    <table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; {{ visibility_intestazione }}">
      <tbody>
        <tr class="Rigaintestazione">
          <td style="width: 40%; border-left:0px; border-right:0px">
            <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
  					</p>
          </td>
  				<td style="width:3%; border-left:0px; border-right:0px">
            <p class="Labeltabella">{{ carica_campi|safe }}</p>
          </td>
  				<td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
  					<span style="pd4ml-visibility: hidden; pd4ml-display: none;">
  						{{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
  					</span>
          </td>
          <td style="width:27%; border-left:0px; border-right:0px">
            <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory="true" readonly/>
          </td>
  				<td style="width:25%; border-left:0px; border-right:0px">
            <button type="button" class="real-button" id="RecuperaDatiAnagr">Carica dati anagrafici</button>
          </td>
        </tr>
      </tbody>

      {{ service.getPersonaREST( prefix + '_CodiceFiscale','TipoContesto', 'TipoLista',  {
        prefix + '_DataNascita':  'datanascita',
        prefix + '_Nome':  'nome',
        prefix + '_Cognome':  'cognome',
        prefix + '_Sesso':  'sesso',
        prefix + '_Nazionalita':  'stato',
        prefix + '_Cittadinanza':  'nazionalita',
        prefix + '_CodiceFamiglia':  'codiceFamiglia',
        prefix + '_CodiceVia':  'codiceVia',
        prefix + '_ProvinciaResidenza' : 'provincia',
        prefix + '_ComuneResidenza' : 'citta',
        prefix + '_ViaResidenza' : 'indirizzo',
        prefix + '_CivicoResidenza' : 'numeroCivico',
        prefix + '_BarraResidenza' : 'barra',
        prefix + '_CAPResidenza' : 'cap',
        prefix + '_Nazione' : 'nazione',
        prefix + '_LuogoNascita' : 'comuneNascita',
        prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
        prefix + '_MatricolaAnagrafe' : 'matricola',
      },
      '#RecuperaDatiAnagr:click','false') }}
    </table>

    <br>

    <div type="Anagrafica_persona_fisica">
    <table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; margin-top:-1px" >
      <tbody>
        <tr class="Rigaintestazione">
          <td colspan="4">
            <p style="line-height: 1.6;"><b>Dati anagrafici:</b></p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td colspan="3">
            <p class="Labelcella" style="line-height:1.6;">Cognome</p>
          </td>
          <td>
            <p class="Labelcella" style="line-height:1.6;">Nome</p>
          </td>
        </tr>
        <tr>
          <td colspan="3">
            <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome" mandatory="true" readonly/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome" mandatory="true" readonly/>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:15%;">
            <p class="Labelcella" style="line-height:1.6;">Data di nascita</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella" style="line-height:1.6;">Sesso</p>
          </td>
          <td style="width: 26%;">
            <p class="Labelcella" style="line-height:1.6;">Cittadinanza</p>
          </td>
          <td style="width: 50%;">
            <p class="Labelcella" style="line-height:1.6;">Luogo di nascita</p>
          </td>
        </tr>
        <tr>
          <td>
            <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita" mandatory="true" readonly/>
          </td>
          <td>
            <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso" mandatory="true" readonly>
              <option value=""></option>
              <option value="M">M</option>
              <option value="F">F</option>
            </select>
          </td>
          <td>
            <input class="" id="{{ prefix }}_Cittadinanza" name="{{ prefix }}_Cittadinanza" style="width:100%;" label="Nazionalità" mandatory="false"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita" mandatory="true" readonly/>
          </td>
        </tr>
      </tbody>
    </table>

    <br>

    <div class="simpatico-block simpatico-query-and-answer">
<div type="Residenza_persona_fisica">
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
      <tbody>
        <tr class="Rigaintestazione">
          <td colspan="6">
            <p style="line-height: 1.6;"><b>Residente a:</b></p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:9%;">
            <p class="Labelcella" style="line-height:1.6;">Provincia</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella" style="line-height:1.6;">Comune</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella" style="line-height:1.6;">Indirizzo</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella" style="line-height:1.6;">Civico</p>
          </td>
  				<td style="width:9%;">
            <p class="Labelcella" style="line-height:1.6;">Barra</p>
          </td>
          <td style="width:16%;">
            <p class="Labelcella" style="line-height:1.6;">CAP</p>
          </td>
        </tr>
        <tr>
          <td>
            {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
          </td>
          <td>
            <input class="" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" maxlength="40" style="width:100%;" label="Via di residenza" mandatory_enabled="true"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" format="number" label="Civico di residenza" maxlength="10" mandatory_enabled="true" />
          </td>
  				<td>
            <input class="" id="{{ prefix }}_BarraResidenza" name="{{ prefix }}_BarraResidenza" style="width:100%;" label="Barra di residenza" maxlength="3" enabled="true" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza" enabled="#{{ prefix }}_CodiceFiscale.value() != '' and #{{ prefix }}_ProvinciaResidenza.value() != 'EE'" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
          </td>
        </tr>
      </tbody>
    </table>

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
  		<tbody>
  			<tr class="Rigaintestazioneridotta">
  				<td>
  					<p class="Labelcella" style="line-height:1.6;">
  						Telefono fisso
  					</p>
  				</td>
  				<td>
  					<p class="Labelcella" style="line-height:1.6;">
  						Cellulare
  					</p>
  				</td>
  			</tr>
  			<tr>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Fisso" name="{{ prefix }}_Fisso" label="Telefono fisso" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory="#fisso_obbligatorio.checked()"/>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Telefono" name="{{ prefix }}_Telefono" label="Telefono cellulare" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory="#cellulare_obbligatorio.checked()"/>
          </td>
  			</tr>
  		</tbody>
    </table>

</div>
</div>
{%- endmacro %}


<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- compare in: M1462-IMIS
                 M0801-ACCESSO-CONSULTAZIONE-ATTI-EDILIZIA -->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

{% macro richiedente_nomail_CDU( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}


    <table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; {{ visibility_intestazione }}">
      <tbody>
        <tr class="Rigaintestazione">
          <td style="width: 40%; border-left:0px; border-right:0px">
            <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
  					</p>
          </td>
  				<td style="width:3%; border-left:0px; border-right:0px">
            <p class="Labeltabella">{{ carica_campi|safe }}</p>
          </td>
  				<td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
  					<span style="pd4ml-visibility: hidden; pd4ml-display: none;">
  						{{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
  					</span>
          </td>
          <td style="width:27%; border-left:0px; border-right:0px">
            <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory="true" readonly/>
          </td>
  				<td style="width:25%; border-left:0px; border-right:0px">
            <button type="button" class="real-button" id="RecuperaDatiAnagr">Carica dati anagrafici</button>
          </td>
        </tr>
      </tbody>

      {{ service.getPersonaREST( prefix + '_CodiceFiscale','TipoContesto', 'TipoLista',  {
        prefix + '_DataNascita':  'datanascita',
        prefix + '_Nome':  'nome',
        prefix + '_Cognome':  'cognome',
        prefix + '_Sesso':  'sesso',
        prefix + '_Nazionalita':  'stato',
        prefix + '_Cittadinanza':  'nazionalita',
        prefix + '_CodiceFamiglia':  'codiceFamiglia',
        prefix + '_CodiceVia':  'codiceVia',
        prefix + '_ProvinciaResidenza' : 'provincia',
        prefix + '_ComuneResidenza' : 'citta',
        prefix + '_ViaResidenza' : 'indirizzo',
        prefix + '_CivicoResidenza' : 'numeroCivico',
        prefix + '_BarraResidenza' : 'barra',
        prefix + '_CAPResidenza' : 'cap',
        prefix + '_Nazione' : 'nazione',
        prefix + '_LuogoNascita' : 'comuneNascita',
        prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
        prefix + '_MatricolaAnagrafe' : 'matricola',
      },
      '#RecuperaDatiAnagr:click','false') }}
    </table>

    <br>

    <div type="Anagrafica_persona_fisica">
    <table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; margin-top:-1px" >
      <tbody>
        <tr class="Rigaintestazione">
          <td colspan="4">
            <p style="line-height: 1.6;"><b>Dati anagrafici:</b></p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td colspan="3">
            <p class="Labelcella" style="line-height:1.6;">Cognome</p>
          </td>
          <td>
            <p class="Labelcella" style="line-height:1.6;">Nome</p>
          </td>
        </tr>
        <tr>
          <td colspan="3">
            <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome" mandatory="true" readonly/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome" mandatory="true" readonly/>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:15%;">
            <p class="Labelcella" style="line-height:1.6;">Data di nascita</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella" style="line-height:1.6;">Sesso</p>
          </td>
          <td style="width: 26%;">
            <p class="Labelcella" style="line-height:1.6;">Cittadinanza</p>
          </td>
          <td style="width: 50%;">
            <p class="Labelcella" style="line-height:1.6;">Luogo di nascita</p>
          </td>
        </tr>
        <tr>
          <td>
            <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita" mandatory="true" readonly/>
          </td>
          <td>
            <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso" mandatory="true" readonly>
              <option value=""></option>
              <option value="M">M</option>
              <option value="F">F</option>
            </select>
          </td>
          <td>
            <input class="" id="{{ prefix }}_Cittadinanza" name="{{ prefix }}_Cittadinanza" style="width:100%;" label="Nazionalità" mandatory="false"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita" mandatory="true" readonly/>
          </td>
        </tr>
      </tbody>
    </table>

    <br>

    <div class="simpatico-block simpatico-query-and-answer">
<div type="Residenza_persona_fisica">
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
      <tbody>
        <tr class="Rigaintestazione">
          <td colspan="6">
            <p style="line-height: 1.6;"><b>Residente a:</b></p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:9%;">
            <p class="Labelcella" style="line-height:1.6;">Provincia</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella" style="line-height:1.6;">Comune</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella" style="line-height:1.6;">Indirizzo</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella" style="line-height:1.6;">Civico</p>
          </td>
  				<td style="width:9%;">
            <p class="Labelcella" style="line-height:1.6;">Barra</p>
          </td>
          <td style="width:16%;">
            <p class="Labelcella" style="line-height:1.6;">CAP</p>
          </td>
        </tr>
        <tr>
          <td>
            {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
          </td>
          <td>
            <input class="" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" maxlength="40" style="width:100%;" label="Via di residenza" mandatory_enabled="true"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" format="number" label="Civico di residenza" maxlength="10" mandatory_enabled="true" />
          </td>
  				<td>
            <input class="" id="{{ prefix }}_BarraResidenza" name="{{ prefix }}_BarraResidenza" style="width:100%;" label="Barra di residenza" maxlength="3" enabled="true" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza" enabled="#{{ prefix }}_CodiceFiscale.value() != '' and #{{ prefix }}_ProvinciaResidenza.value() != 'EE'" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
          </td>
        </tr>
      </tbody>
    </table>

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
  		<tbody>
  			<tr class="Rigaintestazioneridotta">
  				<td>
  					<p class="Labelcella" style="line-height:1.6;">
  						Telefono fisso
  					</p>
  				</td>
  				<td>
  					<p class="Labelcella" style="line-height:1.6;">
  						Cellulare
  					</p>
  				</td>
  			</tr>
  			<tr>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Fisso" name="{{ prefix }}_Fisso" label="Telefono fisso" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory_enabled="#{{ prefix }}_Telefono.value() == ''"/>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Telefono" name="{{ prefix }}_Telefono" label="Telefono cellulare" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory_enabled="#{{ prefix }}_Fisso.value() == ''"/>
          </td>
  			</tr>
  		</tbody>
    </table>

</div>
</div>
{%- endmacro %}



<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- compare in: M1103-DICHIARAZIONE-RESIDENZA
                 M1103-MSEC01-ALTRI-FAM
                 M1103-MSEC07-ALTRI-FAM-ALLEGATO_A
                 M1103-MSEC08-ALTRI-FAM-ALLEGATO_B -->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

{% macro richiedente_cambio_res( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", visibility_icona_load="visibility:visibility" , carica_campi="") -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}


<table class="Modulo" style="border:1px solid grey; {{ visibility_intestazione }}">
  <tbody>
    <tr class="Rigaintestazione">
      <td style="width: 40%; border-left:0px; border-right:0px">
        <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}</p>
      </td>
      <td style="width:3%; border-left:0px; border-right:0px">
        <p class="Labeltabella">{{ carica_campi|safe }}</p>
      </td>
      <td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
        <span style="pd4ml-visibility: hidden; pd4ml-display: none; {{ visibility_icona_load }}">
          {{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
        </span>
      </td>
      <td style="width:27%; border-left:0px; border-right:0px">
        <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory_enabled="true"/>
      </td>
      <td style="width:25%; border-left:0px; border-right:0px">
        <button type="button" class="real-button" id="RecuperaDatiAnagr">Carica dati anagrafici</button>
      </td>
    </tr>
  </tbody>

  {{ service.getPersonaREST( prefix + '_CodiceFiscale','TipoContesto', 'TipoLista',  {
    prefix + '_DataNascita':  'datanascita',
    prefix + '_Nome':  'nome',
    prefix + '_Cognome':  'cognome',
    prefix + '_Sesso':  'sesso',
    prefix + '_Nazionalita':  'stato',
    prefix + '_Cittadinanza':  'nazionalita',
    prefix + '_CodiceFamiglia':  'codiceFamiglia',
    prefix + '_CodiceVia':  'codiceVia',
    prefix + '_ProvinciaResidenza' : 'provincia',
    prefix + '_ComuneResidenza' : 'citta',
    prefix + '_ViaResidenza' : 'indirizzo',
    prefix + '_CivicoResidenza' : 'numeroCivico',
    prefix + '_BarraResidenza' : 'barra',
    prefix + '_CAPResidenza' : 'cap',
    prefix + '_Nazione' : 'nazione',
    prefix + '_LuogoNascita' : 'comuneNascita',
    prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
    prefix + '_MatricolaAnagrafe' : 'matricola',
  },
  '#RecuperaDatiAnagr:click','true') }}
</table>

<br>

<table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
  <tbody>
    <tr class="Rigaintestazioneridotta">
      <td colspan="3">
        <p class="Labelcella" style="line-height:1.6;">Cognome</p>
      </td>
      <td colspan="2">
        <p class="Labelcella" style="line-height:1.6;">Nome</p>
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
      </td>
      <td colspan="2">
        <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td style="width:15%;">
        <p class="Labelcella" style="line-height:1.6;">Data di nascita</p>
      </td>
      <td style="width:10%;">
        <p class="Labelcella" style="line-height:1.6;">Sesso</p>
      </td>
      <td style="width: 25%;">
        <p class="Labelcella" style="line-height:1.6;">Cittadinanza</p>
      </td>
      <td style="width: 30%;">
        <p class="Labelcella" style="line-height:1.6;">Luogo di nascita</p>
      </td>
      <td style="width: 20%;">
        <p class="Labelcella" style="line-height:1.6;">Stato civile</p>
      </td>
    </tr>
    <tr>
      <td>
        <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
      </td>
      <td>
        <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
          <option value=""></option>
          <option value="M">M</option>
          <option value="F">F</option>
        </select>
      </td>
      <td>
        {{ utils.stato( prefix + '_Cittadinanza', label='Cittadinanza')}}
      </td>
      <td>
        <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
      </td>
      <td>
        <select class="inputNormal" id="{{ prefix }}_Statocivile" name="{{ prefix }}_Statocivile" style="width:100%" label="Stato civile" mandatory="false">
            <option value=""></option>
            <option value="celibe">Celibe/nubile</option>
            <option value="coniugato">Coniugato/a</option>
            <option value="divorziato">Divorziato/a (libero/a di stato)</option>
            <option value="vedovo">Vedovo/a</option>
          </select>
      </td>
    </tr>
  </tbody>
</table>

<table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
  <tbody>
    <tr class="Rigaintestazioneridotta">
      <td style="width:13%;">
        <p class="Labelcella" style="line-height:1.6;">
          Telefono
        </p>
      </td>
      <td style="width:15%;">
        <p class="Labelcella" style="line-height:1.6;">
          Numero cellulare
        </p>
      </td>
      <td style="width:30%;">
        <p class="Labelcella" style="line-height:1.6;">E-mail<i> (posta elettronica ordinaria)</i></p>
      </td>
      <td style="width:30%;">
        <p class="Labelcella" style="line-height:1.6;">E-mail PEC<i> (domicilio digitale)</i></p>
      </td>
    </tr>
    <tr>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Fisso" name="{{ prefix }}_Fisso" label="Telefono fisso" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory="#fisso_obbligatorio.checked()"/>
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Telefono" name="{{ prefix }}_Telefono" label="Telefono cellulare" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory="#cellulare_obbligatorio.checked()"/>
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_EMail" name="{{ prefix }}_EMail" label="E-mail ordinaria" style="width:100%;" format="email" maxlength="60" enabled="true" mandatory="#mail_obbligatoria.checked()"/>
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_EMailPEC" name="{{ prefix }}_EMailPEC" label="E-mail PEC" style="width:100%;" format="pec" maxlength="60" enabled="true" mandatory="#pec_obbligatoria.checked()"/>
      </td>
    </tr>
  </tbody>
</table>

<!--
<table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
  <tbody style="display: none; pd4ml-visibility: hidden; pd4ml-display: none;">
    <tr class="Rigaintestazioneridotta" >
      <td style="vertical-align: top; text-align: center; width: 4%;" rowspan="3">
        <input id="check_minorenne" name="check_minorenne" type="checkbox" dynamic_check="menoDiXAnni(#{{ prefix }}_DataNascita.value(), 18)" enabled="menoDiXAnni(#{{ prefix }}_DataNascita.value(), 18)"/>
      </td>
      <td colspan="2">
        <p style="line-height: 1.6;"><b>Il/La dichiarante è minorenne ed è:</b></p>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: center; text-align: center; width: 4%;">
        <div id="poss_carta_id" name="poss_carta_id" mandatory_enabled="#check_minorenne.checked()" label="Minorenne in possesso di carta di identità"> </div>
        <input id="poss_carta_id1" name="poss_carta_id" group="poss_carta_id" type="radio" value="1"/>
      </td>
      <td>
        <p style="line-height: 1.6;">in possesso di un documento di identità</p>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: center; text-align: center; width: 4%;">
        <input id="poss_carta_id2" name="poss_carta_id" group="poss_carta_id" type="radio" value="2"/>
      </td>
      <td>
        <p style="line-height: 1.6;">NON in possesso di un documento di identità</p>
      </td>        
    </tr>
  </tbody>
</table>
-->
<br>

<table class="Modulo" style="border: 1px solid grey">
  <tbody>
    <tr class="Rigaintestazioneridotta">
      <td colspan="2">
        <p style="line-height: 1.6;"><b>Tipologia di occupazione</b></p>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: center; text-align: center; width: 4%;">
        <div id="{{ prefix }}_TipoLavoro" name="{{ prefix }}_TipoLavoro" mandatory_enabled="true" label="Situazione lavorativa del dichiarante"> </div>
        <input id="{{ prefix }}_TipoLavoro1" name="{{ prefix }}_TipoLavoro" type="radio" value="1"/>
      </td>
      <td>
        <div id="{{ prefix }}_blocco_occupazione" name="{{ prefix }}_blocco_occupazione" mandatory_enabled="#{{ prefix }}_TipoLavoro1.checked()">
          <p style="line-height: 1.6;">Occupato/a: <select class="inputNormal" id="{{ prefix }}_Posizionelavorativa" name="{{ prefix }}_Posizionelavorativa" style="width:100%" label="Posizione lavorativa" enabled="#{{ prefix }}_TipoLavoro1.checked()">
                          <option value=""></option>
                          <option value="Imprenditore">Imprenditore / Libero professionista</option>
                          <option value="Dirigente">Dirigente / Impiegato</option>
                          <option value="Lavoratore">Lavoratore in proprio</option>
                          <option value="Operaio">Operaio e assimilati</option>
                          <option value="Coadiuvante">Coadiuvante</option>
                        </select>
          </p>
        </div>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: center; text-align: center; width: 4%;">
        <input id="{{ prefix }}_TipoLavoro2" name="{{ prefix }}_TipoLavoro" type="radio" value="2"/>
      </td>
      <td>
        <div id="{{ prefix }}_blocco_disoccupazione" name="{{ prefix }}_blocco_disoccupazione" mandatory_enabled="#{{ prefix }}_TipoLavoro2.checked()">
          <p style="line-height: 1.6; text-align: left">Non occupato/a: 
            <select class="inputNormal" id="{{ prefix }}_TipoPosizionelavorativa_nonocc" name="{{ prefix }}_TipoPosizionelavorativa_nonocc" style="width:100%" label="Tipo Posizione lavorativa" enabled="#{{ prefix }}_TipoLavoro2.checked()">
                                  <option value=""></option>
                                  <option value="Casalinga">Casalinga</option>
                                  <option value="Studente">Studente</option>
                                  <option value="Disoccupato_primaocc">Disoccupato/In cerca di prima occupazione</option>
                                  <option value="Pensionato">Pensionato/Ritirato dal lavoro</option>
                                  <option value="Altro">Altra condizione non professionale</option>
            </select>
          </p>
        </div>
      </td>
    </tr>
  </tbody>
</table>

<br>

<table class="Modulo" style="border: 1px solid grey">
  <tbody>
    <tr class="Rigaintestazioneridotta">
      <td colspan="2">
        <p style="line-height: 1.6;"><b>Titolo di studio</b></p>
      </td>
    </tr>
    <tr>
      <td>
        <select class="inputNormal" id="{{ prefix }}_titolo_studio" name="{{ prefix }}_titolo_studio" style="width:100%" label="Titolo di studio">
          <option value=""></option>
          <option value="No_Elementare">Nessun titolo/Lic. Elementare</option>
          <option value="Media">Lic. Media</option>
          <option value="Diploma">Diploma</option>
          <option value="Laurea_triennale">Laurea triennale</option>
          <option value="Laurea">Laurea</option>
          <option value="Dottorato">Dottorato</option>
        </select>
      </td>
    </tr>
  </tbody>
</table>

<br>

<table class="Modulo" style="border: 1px solid grey">
  <tbody>
    <tr class="Rigaintestazioneridotta">
      <td colspan="4">
        <p style="line-height: 1.6;"><b>Dettagli patente di guida Italiana</b></p>
      </td>
    </tr>
    <tr>
      <td colspan="2">
        <p style="line-height: 1.6;">Possesso patente di guida:</p>
      </td>
      <div id="{{ prefix }}_check_patente" name="{{ prefix }}_check_patente" label="In possesso di patente" mandatory_enabled="true"> 
        <td>
          <p style="line-height: 1.6;"> <input id="{{ prefix }}_patente_SI" name="{{ prefix }}_check_patente" type="radio" value="1"/> SI </p>
        </td>
        <td>
          <p style="line-height: 1.6;"> <input id="{{ prefix }}_patente_NO" name="{{ prefix }}_check_patente" type="radio" value="2"/> NO </p>
        </td>
      </div>
    </tr>
    <!--
    <tr>
      <td>
        <p style="line-height: 1.6;"> <a href="https://www.patentati.it/blog/articoli-patente/come-si-legge-la-patente-di-guida.html" target="_blank">Numero patente</a>: </p>
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Numero_patente" label="Numero patente del dichiarante" name="{{ prefix }}_Numero_patente" maxlength="10" style="width: 100%;" enabled="#{{ prefix }}_patente_SI.checked()"/>
      </td>
      <td>
        <p style="line-height: 1.6;"> Data rilascio: </p>
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Data_rilascio_patente" label="Data di rilascio della patente del dichiarante" name="{{ prefix }}_Data_rilascio_patente" style="width: 100%;" type="date" enabled="#{{ prefix }}_patente_SI.checked()"/>       
      </td>
    </tr>
    <tr>
      <td>
        <p style="line-height: 1.6;"> Organo di rilascio: </p>
      </td>
      <td>
        <select class="inputNormal" id="{{ prefix }}_Organorilasciopatente" name="{{ prefix }}_Organorilasciopatente" style="width:100%" label="Organo di rilascio della patente" enabled="#{{ prefix }}_patente_SI.checked()">
            <option value=""></option>
            <option value="Prefettura">Prefettura</option>
            <option value="MCTC">M.C.T.C.</option>
            <option value="UCO">U.C.O.</option>
        </select>
      </td>
      <td>
        <p style="line-height: 1.6;"> Provincia: </p>
      </td>
      <td enabled="#{{ prefix }}_patente_SI.checked()">
          {{ utils.provincie_patente( prefix + '_provrilasciopatente', 'Provincia di rilascio della patente' )}}
      </td>
    </tr>
    -->
    <!--
    <tr>
      <td colspan="4">
        <input id="{{ prefix }}_Tipo_patente1" name="{{ prefix }}_Tipo_patente1" type="checkbox" value="1"/>AM &nbsp; &nbsp; &nbsp; &nbsp; <input id="{{ prefix }}_Tipo_patente2" name="{{ prefix }}_Tipo_patente2" type="checkbox" value="2"/>A1 &nbsp; &nbsp; &nbsp; &nbsp; <input id="{{ prefix }}_Tipo_patente3" name="{{ prefix }}_Tipo_patente3" type="checkbox" value="3"/>A2 &nbsp; &nbsp; &nbsp; &nbsp; <input id="{{ prefix }}_Tipo_patente4" name="{{ prefix }}_Tipo_patente4" type="checkbox" value="4"/>A<br><br>
        <input id="{{ prefix }}_Tipo_patente5" name="{{ prefix }}_Tipo_patente5" type="checkbox" value="5"/>B1 &nbsp; &nbsp; &nbsp; &nbsp; <input id="{{ prefix }}_Tipo_patente6" name="{{ prefix }}_Tipo_patente6" type="checkbox" value="6"/>B &nbsp; &nbsp; &nbsp; &nbsp; <input id="{{ prefix }}_Tipo_patente7" name="{{ prefix }}_Tipo_patente7" type="checkbox" value="7"/>BE<br><br>
        <input id="{{ prefix }}_Tipo_patente8" name="{{ prefix }}_Tipo_patente8" type="checkbox" value="8"/>C1 &nbsp; &nbsp; &nbsp; &nbsp; <input id="{{ prefix }}_Tipo_patente9" name="{{ prefix }}_Tipo_patente9" type="checkbox" value="9"/>C1E &nbsp; &nbsp; &nbsp; &nbsp; <input id="{{ prefix }}_Tipo_patente10" name="{{ prefix }}_Tipo_patente10" type="checkbox" value="10"/>C &nbsp; &nbsp; &nbsp; &nbsp; <input id="{{ prefix }}_Tipo_patente11" name="{{ prefix }}_Tipo_patente11" type="checkbox" value="11"/>CE<br><br>
        <input id="{{ prefix }}_Tipo_patente12" name="{{ prefix }}_Tipo_patente12" type="checkbox" value="12"/>D1 &nbsp; &nbsp; &nbsp; &nbsp; <input id="{{ prefix }}_Tipo_patente13" name="{{ prefix }}_Tipo_patente13" type="checkbox" value="13"/>D1E &nbsp; &nbsp; &nbsp; &nbsp; <input id="{{ prefix }}_Tipo_patente14" name="{{ prefix }}_Tipo_patente14" type="checkbox" value="14"/>D &nbsp; &nbsp; &nbsp; &nbsp; <input id="{{ prefix }}_Tipo_patente15" name="{{ prefix }}_Tipo_patente15" type="checkbox" value="15"/>DE<br><br>
        
        <input id="controllo_patente_A" name="controllo_patente_A" dynamic_value="(#{{ prefix }}_Tipo_patente1.checked() || #{{ prefix }}_Tipo_patente2.checked() || #{{ prefix }}_Tipo_patente3.checked() || #{{ prefix }}_Tipo_patente4.checked()) ? 'SI':'NO'" type="hidden">
        <input id="controllo_patente_B" name="controllo_patente_B" dynamic_value="(#{{ prefix }}_Tipo_patente5.checked() || #{{ prefix }}_Tipo_patente6.checked() || #{{ prefix }}_Tipo_patente7.checked()) ? 'SI':'NO'" type="hidden">
        <input id="controllo_patente_C" name="controllo_patente_C" dynamic_value="(#{{ prefix }}_Tipo_patente8.checked() || #{{ prefix }}_Tipo_patente9.checked() || #{{ prefix }}_Tipo_patente10.checked() || #{{ prefix }}_Tipo_patente11.checked()) ? 'SI':'NO'" type="hidden">
        <input id="controllo_patente_D" name="controllo_patente_D" dynamic_value="(#{{ prefix }}_Tipo_patente12.checked() || #{{ prefix }}_Tipo_patente13.checked() || #{{ prefix }}_Tipo_patente14.checked() || #{{ prefix }}_Tipo_patente15.checked()) ? 'SI':'NO'" type="hidden">

        <div id="#{{ prefix }}_dati_patente" name="#{{ prefix }}dati_patente" mandatory_enabled="#controllo_patente_A.value() == 'SI' || #controllo_patente_B.value() == 'SI' || #controllo_patente_C.value() == 'SI' || #controllo_patente_D.value() == 'SI'">
          <p style="line-height: 1.6;"><a href="https://www.patentati.it/blog/articoli-patente/come-si-legge-la-patente-di-guida.html" target="_blank">Numero</a>: <input class="inputNormal" id="{{ prefix }}_Numero_patente" label="Numero patente del dichiarante" name="{{ prefix }}_Numero_patente" style="width:15%" maxlength="10" enabled="true"/> 
            --- Data rilascio: <input class="inputNormal" id="{{ prefix }}_Data_rilascio_patente" label="Data di rilascio della patente del dichiarante" name="{{ prefix }}_Data_rilascio_patente" size="7" format="date" enabled="true"/> 
            --- Organo di rilascio: <select class="inputNormal" id="{{ prefix }}_Organorilasciopatente" name="{{ prefix }}_Organorilasciopatente" style="width:12%" label="Organo di rilascio della patente">
                                      <option value=""></option>
                                      <option value="Prefettura">Prefettura</option>
                                      <option value="MCTC">M.C.T.C.</option>
                                      <option value="UCO">U.C.O.</option>
                                  </select>
            --- Provincia: {{ utils.provincie_patente( prefix + '_provrilasciopatente', 'Provincia di rilascio della patente' )}}
          </p><br>
        </div>
      </td>
    </tr>
    -->
    <tr class="Rigaintestazioneridotta">
      <td colspan="4">
        <p style="line-height: 1.6;"><b>Dati veicolo</b></p>
      </td>
    </tr>
    <tr mandatory_enabled="true">
      <td colspan="2">
        <p style="line-height: 1.6;">Possesso veicoli:</p>
      </td>
      <div id="{{ prefix }}_check_veicoli" name="{{ prefix }}_check_veicoli" label="In possesso di veicolo" mandatory_enabled="true"> 
      <td>
        <p style="line-height: 1.6;"> <input id="{{ prefix }}_veicoli_SI" name="{{ prefix }}_check_veicoli" type="radio" value="1"/> SI </p>
      </td>
      <td>
        <p style="line-height: 1.6;"> <input id="{{ prefix }}_veicoli_NO" name="{{ prefix }}_check_veicoli" type="radio" value="2"/> NO </p>
      </td>
    </tr>
    <!--
    <tr class="Rigaintestazioneridotta">
      <td colspan="4">
        <p style="line-height: 1.6;"><b>Targhe veicoli immatricolati in Italia in qualità di proprietario/comproprietario, usufruttuario/locatario</b></p>
      </td>
    </tr>
    <tr enabled="#{{ prefix }}_veicoli_SI.checked()">
      <td>
        <p style="line-height: 1.6;">Autoveicoli:</p>
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Targaauto1" label="Targa auto 1 del dichiarante" name="{{ prefix }}_Targaauto1" style="width:100%;"/>
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Targaauto2" label="Targa auto 2 del dichiarante" name="{{ prefix }}_Targaauto2" style="width:100%;"/>    
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Targaauto3" label="Targa auto 3 del dichiarante" name="{{ prefix }}_Targaauto3" style="width:100%;"/>
      </td>
    </tr>
    <tr enabled="#{{ prefix }}_veicoli_SI.checked()">
      <td>
        <p style="line-height: 1.6;">Rimorchi:</p>
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Targarimorchio1" label="Targa rimorchio 1 del dichiarante" name="{{ prefix }}_Targarimorchio1" style="width:100%;"/>
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Targarimorchio2" label="Targa rimorchio 2 del dichiarante" name="{{ prefix }}_Targarimorchio2" style="width:100%;"/>    
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Targarimorchio3" label="Targa rimorchio 3 del dichiarante" name="{{ prefix }}_Targarimorchio3" style="width:100%;"/>
      </td>
    </tr>
    <tr enabled="#{{ prefix }}_veicoli_SI.checked()">
      <td>
        <p style="line-height: 1.6;">Motoveicoli/Ciclomotori:</p>
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Targamoto1" label="Targa moto 1 del dichiarante" name="{{ prefix }}_Targamoto1" style="width:100%;"/>
      </td>
       <td>
        <input class="inputNormal" id="{{ prefix }}_Targamoto2" label="Targa moto 2 del dichiarante" name="{{ prefix }}_Targamoto2" style="width:100%;"/>    
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Targamoto3" label="Targa moto 3 del dichiarante" name="{{ prefix }}_Targamoto3" style="width:100%;"/>
      </td>
    </tr>
    -->
  </tbody>
</table>

{%- endmacro %}



<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- compare in: GEN-CERT-ENERG-EL
                 GEN-DIR-LAV-EL -->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

{% macro professionista( prefix='Referente1', intestazione="Il sottoscritto professionista abilitato", Solo1="Professionista", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", carica_campi="", visibility_intestazione="visibility:visibility", albo="provinciale", dati_studio_obbligatori="si") -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}

<div type="Anagrafica_professionista">

  <input id="{{ prefix }}_Titolo" name="{{ prefix }}_Titolo" type="hidden" value="professionista"/>
  <input id="{{ prefix }}_Ruolo" name="{{ prefix }}_Ruolo" type="hidden" value="professionista"/>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
    <tbody>
      <tr class="Rigaintestazione">
        <td style="border-right:0px" colspan="4">
          <p style="line-height:1.6;"><b>{{ intestazione|safe }}</b></p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:13%">
          <p class="Labelcella" style="line-height:1.6;">Titolo</p>
        </td>
        <td style="width:31%">
          <p class="Labelcella" style="line-height:1.6;">Cognome</p>
        </td>
        <td>
          <p class="Labelcella" style="line-height:1.6;">Nome</p>
        </td>
        <td style="width:25%">
          <p class="Labelcella" style="line-height:1.6;">Codice Fiscale</p>
        </td>
      </tr>
      <tr>
        <td>
          <select class="inputNormal" id="{{ prefix }}_TitoloPersona" name="{{ prefix }}_TitoloPersona" style="width:100%;" label="Titolo del professionista">
            <option value=""></option>
            <option value="Sig.">Sig.</option>
            <option value="Sig.ra">Sig.ra</option>
            <option value="Dott.">Dott.</option>
            <option value="Dott.ssa">Dott.ssa</option>
            <option value="Prof.">Prof.</option>
            <option value="Prof.ssa">Prof.ssa</option>
            <option value="Arch.">Arch.</option>
            <option value="Ing.">Ing.</option>
            <option value="Comm.">Comm.</option>
            <option value="Avv.">Avv.</option>
            <option value="Geom.">Geom.</option>
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome del professionista"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome del professionista"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del professionista"/>
        </td>
      </tr>
	  </tbody>
  </table>
  
  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="true">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:24%;">
          <p class="Labelcella" style="line-height:1.6;">Data di nascita</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Sesso (M/F)</p>
        </td>
        <td style="width: 33%;">
          <p class="Labelcella" style="line-height:1.6;">Nazionalità del progettista</p>
        </td>
        <td style="width: 34%;">
          <p class="Labelcella" style="line-height:1.6;">Luogo di nascita</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data nascita del professionista"/>
        </td>
        <td>
          <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso del professionista">
            <option value=""></option>
            <option value="M">M</option>
            <option value="F">F</option>
          </select>
        </td>
        <td>
          {{ utils.nazionalita( prefix + '_Cittadinanza', 'Cittadinanza' )}}
        </td>
        <td>
          <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Lugo di nascita del professionista"/>
        </td>
      </tr>
		</tbody>
  </table>
  
  {% if albo == 'provinciale'%}
	<table class="Modulo" style="border:1px solid grey; margin-top:-1px;" enabled="true">
    <tbody>
	    <tr class="Rigaintestazioneridotta">
				<td style="width:24%">
					<p class="Labelcella" style="line-height:1.6;">Partita IVA</p>
				</td>
				<td style="width:42%">
					<p class="Labelcella" style="line-height:1.6;">Albo o Ordine</p>
				</td>
				<td style="width:9%">
					<p class="Labelcella" style="line-height:1.6;">Provincia</p>
				</td>
				<td style="width:25%">
					<p class="Labelcella" style="line-height:1.6;">Numero iscrizione</p>
				</td>
			</tr>
			<tr>
				<td>
					<input style="width: 100%" id="{{ prefix }}_PartitaIVA" class="inputNormal" name="{{ prefix }}_PartitaIVA" format="cfpiva" label="Partita IVA del professionista" mandatory="false"/>
				</td>
				<td mandatory="#{{ prefix }}_DatiProfessionistaObbligatori.checked()">
					{{ utils.albi( prefix + '_Attributi_Albo' )}}
				</td>
				<td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
					{{ utils.provincie( prefix + '_Attributi_DellaProvincia', label="Provincia iscrizione Albo") }}
				</td>
				<td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
					<input style="width: 100%" id="{{ prefix }}_Attributi_AlNumero" class="inputNormal" name="{{ prefix }}_Attributi_AlNumero" label="Numero iscrizione Albo"/>
				</td>
			</tr>
		</tbody>
  </table>
  {% endif %}
  
  {% if albo == 'regionale'%}
	<table class="Modulo" style="border:1px solid grey; margin-top:-1px;" enabled="true">
    <tbody>
	  	<tr class="Rigaintestazioneridotta">
				<td style="width:24%">
					<p class="Labelcella" style="line-height:1.6;">Partita IVA</p>
				</td>
				<td style="width:40%">
					<p class="Labelcella" style="line-height:1.6;">Albo o Ordine</p>
				</td>
				<td>
					<p class="Labelcella" style="line-height:1.6;">Regione</p>
				</td>
				<td style="width:16%">
					<p class="Labelcella" style="line-height:1.6;">Numero iscrizione</p>
				</td>
			</tr>
			<tr>
				<td>
					<input style="width: 100%" id="{{ prefix }}_PartitaIVA" class="inputNormal" name="{{ prefix }}_PartitaIVA" format="cfpiva" label="Partita IVA del professionista" mandatory="false"/>
				</td>
				<td mandatory="true">
					{{ utils.albi( prefix + '_Attributi_Albo' )}}
				</td>
				<td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
					{{ utils.regioni( prefix + '_DellaRegione', label="Regione iscrizione Albo") }}
				</td>
				<td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
					<input style="width: 100%" id="{{ prefix }}_Attributi_AlNumero" class="inputNormal" name="{{ prefix }}_Attributi_AlNumero" label="Numero iscrizione Albo"/>
				</td>
			</tr>
		</tbody>
  </table>
  {% endif %}
  
  {% if dati_studio_obbligatori == 'si'%}
  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="true">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="5" style="width: 100%;">
          <p class="Labelcella" style="line-height:1.6;">Studio Professionale</p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Civico</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella" style="line-height:1.6;">CAP</p>
        </td>
      </tr>
      <tr>
        <td>
		    	{{ utils.provincie( prefix + '_ProvinciaStudio', label="Provincia dello studio") }}
        </td>
        <td>
					<select class="inputNormal" id="{{ prefix }}_ComuneStudio" name="{{ prefix }}_ComuneStudio" style="width:100%" label="Comune dello studio del professionista" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaStudio.value(), '{{ prefix }}_ComuneStudio')"></select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaStudio" name="{{ prefix }}_ViaStudio" style="width:100%;" label="Indirizzo dello studio del professionista"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoStudio" name="{{ prefix }}_CivicoStudio" style="width:100%;" label="Civico dello studio del professionista" maxlength="10"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPStudio" name="{{ prefix }}_CAPStudio" style="width:100%;" format="cap" label="CAP dello studio del professionista" enabled="#{{ prefix }}_ProvinciaStudio.value() != 'EE'"/>
        </td>
      </tr>
    </tbody>
  </table>
  {% endif %}

  {% if dati_studio_obbligatori == 'no'%}
  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" enabled="true">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="5" style="width: 100%;">
          <p class="Labelcella" style="line-height:1.6;">Studio Professionale</p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Civico</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella" style="line-height:1.6;">CAP</p>
        </td>
      </tr>
      <tr>
        <td>
  				{{ utils.provincie( prefix + '_ProvinciaStudio', label="Provincia dello studio") }}
        </td>
        <td>
					<select class="inputNormal" id="{{ prefix }}_ComuneStudio" name="{{ prefix }}_ComuneStudio" style="width:100%" label="Comune dello studio del professionista" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaStudio.value(), '{{ prefix }}_ComuneStudio')"></select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaStudio" name="{{ prefix }}_ViaStudio" style="width:100%;" label="Indirizzo dello studio del professionista"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoStudio" name="{{ prefix }}_CivicoStudio" style="width:100%;" label="Civico dello studio del professionista" maxlength="10"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPStudio" name="{{ prefix }}_CAPStudio" style="width:100%;" format="cap" label="CAP dello studio del professionista" enabled="true"/>
        </td>
      </tr>
    </tbody>
  </table>
  {% endif %}

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:20%;">
          <p class="Labelcella" style="line-height:1.6;">Telefono fisso</p>
        </td>
        <td style="width:20%;">
          <p class="Labelcella" style="line-height:1.6;">Cellulare</p>
        </td>
        <td style="width:28%;">
          <p class="Labelcella" style="line-height:1.6;">E-mail<i> (posta elettronica ordinaria)</i></p>
        </td>
        <td style="width:32%;">
          <p class="Labelcella" style="line-height:1.6;">E-mail PEC<i> (domicilio digitale)</i></p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="inputNormal" id="{{ prefix }}_Tel_FissoStudio" name="{{ prefix }}_Tel_FissoStudio" label="Telefono fisso" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory="#fisso_obbligatorio.checked()"/>
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_TelefonoStudio" name="{{ prefix }}_TelefonoStudio" label="Telefono cellulare" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory="#cellulare_obbligatorio.checked()"/>
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_EMailStudio" name="{{ prefix }}_EMailStudio" label="E-mail del professionista" style="width:100%;" format="email" maxlength="60" enabled="true" mandatory="#mail_obbligatoria.checked()"/>
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_EMailPECStudio" name="{{ prefix }}_EMailPECStudio" label="E-mail PEC" style="width:100%;" format="pec" maxlength="60" enabled="true" mandatory="#pec_tecnico_obbligatoria.checked()"/>
        </td>
      </tr>
    </tbody>
  </table>                  

	<input id="{{ prefix }}_Attributi_Albo_categoria" 			name="{{ prefix }}_Attributi_Albo_categoria" 		   type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_Albo_nome" 				name="{{ prefix }}_Attributi_Albo_nome" 			   type="hidden" value="Albo professionale"/>
	<input id="{{ prefix }}_Attributi_AlNumero_categoria" 		name="{{ prefix }}_Attributi_AlNumero_categoria"	   type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_AlNumero_nome" 			name="{{ prefix }}_Attributi_AlNumero_nome" 		   type="hidden" value="Numero iscrizione Albo professionale"/>
	<input id="{{ prefix }}_Attributi_DellaProvincia_categoria" name="{{ prefix }}_Attributi_DellaProvincia_categoria" type="hidden" value="Altri dati"/>
  <input id="{{ prefix }}_Attributi_DellaProvincia_nome" 		name="{{ prefix }}_Attributi_DellaProvincia_nome" 	   type="hidden" value="Provincia Albo professionale"/>
   
</div>

{%- endmacro %}



<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- compare in: M47005-COMUNICAZIONE-INIZIO-LAVORI 
                 M47010-DICHIARAZIONE-ULTIMAZIONE-LAVORI
                 M47010-MSEC05-SCAGI-SEZIONE-A
                 M47010-MSEC06-SCAGI-SEZIONE-A-AU
                 M47010-MSEC07-SCAGI-SEZIONE-A-EL
                 M47010-MSEC08-CONFORMITA-IMPIANTI
                 M47010-MSEC09-CONFORMITA-IMPIANTI-AU
                 M47010-MSEC10-CONFORMITA-IMPIANTI-EL
                 M47011-TRASM-DOC-INTEG
                 M47500-SEGNALAZIONE-CERTIFICATA-INIZIO-ATTIVITA
                 M47561-COMUNICAZIONE-OPERE-LIBERE
                 M47675-DICHIARAZIONE-CONFORMITA-IMPIANTI (x2)
                 M47750-AUTORIZZAZIONE-CPC
                 M2301-AUTORIZZAZIONE-SCARICO-INSED-CIV
                 M2305-NULLAOSTA-SCARICO-INSED-CIV
                 -->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

{% macro professionista_direttore_lavori( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}


<table class="Modulo" style="border:1px solid grey; {{ visibility_intestazione }}">
  <tbody>
    <tr class="Rigaintestazione">
      <td style="width: 40%; border-left:0px; border-right:0px">
        <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}</p>
      </td>
      <td style="width:3%; border-left:0px; border-right:0px">
        <p class="Labeltabella">{{ carica_campi|safe }}</p>
      </td>
      <td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
        <span style="pd4ml-visibility: hidden; pd4ml-display: none;">{{ utils.recupero_dati( prefix, visibility_carica_dati ) }}</span>
      </td>
      <td style="width:27%; border-left:0px; border-right:0px">
        <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory="#{{ prefix }}_checkobbligatorio.checked()" enabled="#{{ prefix }}_checkabilitato.checked()"/>
      </td>
      <td style="width:25%; border-left:0px; border-right:0px">
        <button type="button" class="real-button" id="{{ prefix }}_RecuperaDatiAnagr">Carica dati anagrafici</button>
      </td>
    </tr>
  </tbody>

  <input type="hidden" name="{{ prefix }}_codicefiscalerecuperodati" id="{{ prefix }}_codicefiscalerecuperodati" dynamic_value="#{{ prefix }}_CodiceFiscale.value()"/>

  {{ service.getPersonaREST( prefix + '_codicefiscalerecuperodati','TipoContesto', 'TipoLista',  {
    prefix + '_DataNascita':  'datanascita',
    prefix + '_Nome':  'nome',
    prefix + '_Cognome':  'cognome',
    prefix + '_Sesso':  'sesso',
    prefix + '_Nazionalita':  'stato',
    prefix + '_Cittadinanza':  'nazionalita',
    prefix + '_CodiceFamiglia':  'codiceFamiglia',
    prefix + '_CodiceVia':  'codiceVia',
    prefix + '_ProvinciaResidenza' : 'provincia',
    prefix + '_ComuneResidenza' : 'citta',
    prefix + '_ViaResidenza' : 'indirizzo',
    prefix + '_CivicoResidenza' : 'numeroCivico',
    prefix + '_BarraResidenza' : 'barra',
    prefix + '_CAPResidenza' : 'cap',
    prefix + '_Nazione' : 'nazione',
    prefix + '_LuogoNascita' : 'comuneNascita',
    prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
    prefix + '_MatricolaAnagrafe' : 'matricola',
    },
    '#' + prefix + '_RecuperaDatiAnagr:click','false') }}
</table>



<div type="Anagrafica_professionista">

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory="#{{ prefix }}_checkobbligatorio.checked()" enabled="#{{ prefix }}_checkabilitato.checked()">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:15%">
          <p class="Labelcella" style="line-height:1.6;">Titolo</p>
        </td>
        <td style="width:25%">
          <p class="Labelcella" style="line-height:1.6;">Cognome</p>
        </td>
        <td style="width:25%">
          <p class="Labelcella" style="line-height:1.6;">Nome</p>
        </td>
        <td style="width:35%">
          <p class="Labelcella" style="line-height:1.6;">Indirizzo PEC</p>
        </td>
      </tr>
      <tr>
        <td>
          <select class="inputNormal" id="{{ prefix }}_TitoloPersona" name="{{ prefix }}_TitoloPersona" style="width:100%;" label="Titolo del {{ prefix }}">
            <option value=""></option>
            <option value="Sig.">Sig.</option>
            <option value="Sig.r.">Sig.ra</option>
            <option value="Dott.">Dott.</option>
            <option value="Dott.ssa">Dott.ssa</option>
            <option value="Arch.">Arch.</option>
            <option value="Ing.">Ing.</option>
            <option value="Comm.">Perito</option>
            <option value="Geom.">Geom.</option>
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome del {{ prefix }}"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome del {{ prefix }}"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_EMailPEC" name="{{ prefix }}_EMailPEC" format="pec" style="width:100%" label="PEC del {{ prefix }}"/>
        </td>
      </tr>
    </tbody>
  </table>
</div>
{%- endmacro %}



<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- compare in: GEN-PROGETTISTA
                 GEN-PROGETTISTA-DIRLAV
                 -->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

{% macro professionista_dirlav( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}


<table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; {{ visibility_intestazione }}">
  <tbody>
    <tr class="Rigaintestazione">
      <td style="width: 40%; border-left:0px; border-right:0px">
        <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}</p>
      </td>
      <td style="width:3%; border-left:0px; border-right:0px">
        <p class="Labeltabella">{{ carica_campi|safe }}</p>
      </td>
      <td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
        <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
          {{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
        </span>
      </td>
      <td style="width:27%; border-left:0px; border-right:0px">
        <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory_enabled="true"/>
      </td>
      <td style="width:25%; border-left:0px; border-right:0px">
        <button type="button" class="real-button" id="RecuperaDatiAnagr1">Carica dati anagrafici</button>
      </td>
    </tr>
  </tbody>

  {{ service.getPersonaREST( prefix + '_CodiceFiscale','TipoContesto', 'TipoLista',  {
    prefix + '_DataNascita':  'datanascita',
    prefix + '_Nome':  'nome',
    prefix + '_Cognome':  'cognome',
    prefix + '_Sesso':  'sesso',
    prefix + '_Nazionalita':  'stato',
    prefix + '_Cittadinanza':  'nazionalita',
    prefix + '_CodiceFamiglia':  'codiceFamiglia',
    prefix + '_CodiceVia':  'codiceVia',
    prefix + '_ProvinciaResidenza' : 'provincia',
    prefix + '_ComuneResidenza' : 'citta',
    prefix + '_ViaResidenza' : 'indirizzo',
    prefix + '_CivicoResidenza' : 'numeroCivico',
    prefix + '_BarraResidenza' : 'barra',
    prefix + '_CAPResidenza' : 'cap',
    prefix + '_Nazione' : 'nazione',
    prefix + '_LuogoNascita' : 'comuneNascita',
    prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
    prefix + '_MatricolaAnagrafe' : 'matricola',
    },
    '#RecuperaDatiAnagr1:click','true') }}
</table>

<br>

<div class="Modulo simpatico-block simpatico-query-and-answer">
<table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
  <tbody>
    <tr class="Rigaintestazione">
      <td colspan="4">
        <p style="line-height: 1.6;"><b>Dati anagrafici:</b></p>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td style="width:15%">
        <p class="Labelcella" style="line-height:1.6;">Titolo</p>
      </td>
      <td colspan="2" style="width:45%;">
        <p class="Labelcella" style="line-height:1.6;">Cognome</p>
      </td>
      <td style="width:40%;">
        <p class="Labelcella" style="line-height:1.6;">Nome</p>
      </td>
    </tr>
    <tr>
      <td>
        <select class="inputNormal" id="{{ prefix }}_TitoloPersona" name="{{ prefix }}_TitoloPersona" style="width:100%;" label="Titolo del progettista">
          <option value=""></option>
          <option value="Sig.">Sig.</option>
          <option value="Sig.ra">Sig.ra</option>
          <option value="Dott.">Dott.</option>
          <option value="Dott.ssa">Dott.ssa</option>
          <option value="Arch.">Arch.</option>
          <option value="Ing.">Ing.</option>
          <option value="Comm.">Perito</option>
          <option value="Geom.">Geom.</option>
        </select>
      </td>
      <td colspan="2">
        <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome del progettista"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome del progettista"/>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td style="width:15%;">
        <p class="Labelcella" style="line-height:1.6;">Data di nascita</p>
      </td>
      <td style="width:10%;">
        <p class="Labelcella" style="line-height:1.6;">Sesso</p>
      </td>
      <td style="width: 35%;">
        <p class="Labelcella" style="line-height:1.6;">Cittadinanza</p>
      </td>
      <td style="width: 40%;">
        <p class="Labelcella" style="line-height:1.6;">Luogo di nascita</p>
      </td>
    </tr>
    <tr>
      <td>
        <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
      </td>
      <td>
        <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
          <option value=""></option>
          <option value="M">M</option>
          <option value="F">F</option>
        </select>
      </td>
      <td>
        {{ utils.nazionalita( prefix + '_Cittadinanza', 'Cittadinanza' )}}
      </td>
      <td>
        <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
      </td>
    </tr>
  </tbody>
</table>

<table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
  <tbody>
    <tr class="Rigaintestazioneridotta">
      <td style="width:24%">
        <p class="Labelcella" style="line-height:1.6;">Partita IVA</p>
      </td>
      <td style="width:42%">
        <p class="Labelcella" style="line-height:1.6;">Albo o Ordine</p>
      </td>
      <td style="width:9%">
        <p class="Labelcella" style="line-height:1.6;">Provincia</p>
      </td>
      <td style="width:15%">
        <p class="Labelcella" style="line-height:1.6;">Numero iscrizione</p>
      </td>
      <td style="width:10%">
        <p class="Labelcella" style="line-height:1.6;">Sezione</p>
      </td>
    </tr>
    <tr>
      <td>
        <input style="width: 100%" id="{{ prefix }}_PartitaIVA" class="inputNormal" name="{{ prefix }}_PartitaIVA" format="cfpiva" label="Partita IVA" enabled="true"/>
      </td>
      <td mandatory="true">
        {{ utils.albi( prefix + '_Attributi_Albo' )}}
      </td>
      <td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
        {{ utils.provincie( prefix + '_Attributi_DellaProvincia', label="Provincia iscrizione Albo") }}
      </td>
      <td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
        <input style="width: 100%" id="{{ prefix }}_Attributi_AlNumero" class="inputNormal" name="{{ prefix }}_Attributi_AlNumero" label="Numero iscrizione Albo"/>
      </td>
      <td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
        <input style="width: 100%" id="{{ prefix }}_Attributi_Sezione" class="inputNormal" name="{{ prefix }}_Attributi_Sezione" label="Sezione iscrizione Albo"/>
      </td>
    </tr>
  </tbody>
</table>
</div>

<br>

<div class="simpatico-block simpatico-query-and-answer">
<table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
  <tbody>
    <tr class="Rigaintestazione">
      <td colspan="6">
        <p style="line-height: 1.6;"><b>Con studio in:</b></p>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td style="width:9%;">
        <p class="Labelcella" style="line-height:1.6;">Provincia</p>
      </td>
      <td style="width:33%;">
        <p class="Labelcella" style="line-height:1.6;">Comune</p>
      </td>
      <td style="width:33%;">
        <p class="Labelcella" style="line-height:1.6;">Indirizzo</p>
      </td>
      <td style="width:9%;">
        <p class="Labelcella" style="line-height:1.6;">Civico</p>
      </td>
      <td style="width:9%;">
        <p class="Labelcella" style="line-height:1.6;">Barra</p>
      </td>
      <td style="width:16%;">
        <p class="Labelcella" style="line-height:1.6;">CAP</p>
      </td>
    </tr>
    <tr>
      <td>
        {{ utils.provincie( prefix + '_ProvinciaStudio', label="Provincia dello studio") }}
      </td>
      <td>
        <input class="" id="{{ prefix }}_ComuneStudio" name="{{ prefix }}_ComuneStudio" style="width:100%" label="Comune dello Studio" mandatory="#{{ prefix }}_ProvinciaStudio.value() != 'EE'" />
      </td>
      <td>
        <input class="" id="{{ prefix }}_ViaStudio" name="{{ prefix }}_ViaStudio" maxlength="40" style="width:100%;" label="Via dello Studio" mandatory_enabled="true" />
      </td>
      <td>
        <input class="" id="{{ prefix }}_CivicoStudio" name="{{ prefix }}_CivicoStudio" style="width:100%;" format="number" label="Civico dello Studio" maxlength="10" mandatory_enabled="true" />
      </td>
      <td>
        <input class="" id="{{ prefix }}_BarraStudio" name="{{ prefix }}_BarraStudio" style="width:100%;" label="Barra dello Studio" maxlength="3" enabled="true" />
      </td>
      <td>
        <input class="" id="{{ prefix }}_CAPStudio" name="{{ prefix }}_CAPStudio" style="width:100%;" format="cap" label="CAP dello Studio" enabled="#{{ prefix }}_ProvinciaStudio.value() != 'EE'" mandatory="#{{ prefix }}_ProvinciaStudio.value() != 'EE'" />
      </td>
    </tr>
  </tbody>
</table>
    

<table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
  <tbody>
    <tr class="Rigaintestazioneridotta">
      <td style="width:30%;">
        <p class="Labelcella" style="line-height:1.6;">Recapito telefonico</p>
       </td>
      <td style="width:70%;">
        <p class="Labelcella" style="line-height:1.6;">E-mail PEC</p>
      </td>
     </tr>
     <tr>
       <td>
        <input class="inputNormal" id="{{ prefix }}_Recapito_telefonico" name="{{ prefix }}_Recapito_telefonico" label="Recapito telefonico" style="width:100%" maxlength="13" enabled="true" mandatory="#recapito_obbligatorio.checked()"/>
      </td>
      <td>
        <input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" name="{{ prefix }}_EMailPEC" label="PEC del progettista" style="width:100%;" maxlength="60" enabled="true" mandatory="#pec_tecnico_obbligatoria.checked()"/>
      </td>
    </tr>
  </tbody>
</table>
</div>

{%- endmacro %}


<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- compare in: M47010-MSEC14-CONF-ACUST -->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->


{% macro professionista_nomail( prefix='Referente1') -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}

<div type="Anagrafica_professionista">

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px" >
    <tbody>
      <tr class="Rigaintestazione">
        <td style="border-right:0px" colspan="4">
          <p style="line-height:1.6;"><b>Il/La sottoscritto/a</b></p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:13%">
          <p class="Labelcella" style="line-height:1.6;">Titolo</p>
        </td>
        <td style="width:31%">
          <p class="Labelcella" style="line-height:1.6;">Cognome</p>
        </td>
        <td>
          <p class="Labelcella" style="line-height:1.6;">Nome</p>
        </td>
        <td style="width:25%">
          <p class="Labelcella" style="line-height:1.6;">Codice Fiscale</p>
        </td>
      </tr>
      <tr>
        <td>
          <select class="inputNormal" id="{{ prefix }}_TitoloPersona" name="{{ prefix }}_TitoloPersona" style="width:100%;" label="Titolo del professionista" mandatory_enabled="true">
            <option value=""></option>
            <option value="Sig.">Sig.</option>
            <option value="Sig.ra">Sig.ra</option>
            <option value="Dott.">Dott.</option>
            <option value="Dott.ssa">Dott.ssa</option>
            <option value="Prof.">Prof.</option>
            <option value="Prof.ssa">Prof.ssa</option>
            <option value="Arch.">Arch.</option>
            <option value="Ing.">Ing.</option>
            <option value="Comm.">Comm.</option>
            <option value="Avv.">Avv.</option>
            <option value="Geom.">Geom.</option>
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome del professionista" mandatory_enabled="true"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome del professionista" mandatory_enabled="true"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del professionista" mandatory_enabled="true"/>
        </td>
      </tr>
	  </tbody>
  </table>
  
  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:25%;">
          <p class="Labelcella" style="line-height:1.6;">Data di nascita</p>
        </td>
        <td style="width: 75%;">
          <p class="Labelcella" style="line-height:1.6;">Luogo di nascita</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data nascita del professionista" mandatory_enabled="true"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Lugo di nascita del professionista" mandatory_enabled="true"/>
        </td>
      </tr>
		</tbody>
  </table>
  
	<table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
    <tbody>
	    <tr class="Rigaintestazioneridotta">
				<td style="width:42%">
					<p class="Labelcella" style="line-height:1.6;">Albo o Ordine</p>
				</td>
				<td style="width:9%">
					<p class="Labelcella" style="line-height:1.6;">Provincia</p>
				</td>
				<td style="width:25%">
					<p class="Labelcella" style="line-height:1.6;">Numero iscrizione</p>
				</td>
			</tr>
			<tr>
				<td mandatory_enabled="true">
					{{ utils.albi( prefix + '_Attributi_Albo' )}}
				</td>
				<td mandatory_enabled="true"> 
					{{ utils.provincie( prefix + '_Attributi_DellaProvincia', label="Provincia iscrizione Albo") }}
				</td>
				<td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
					<input style="width: 100%" id="{{ prefix }}_Attributi_AlNumero" class="inputNormal" name="{{ prefix }}_Attributi_AlNumero" label="Numero iscrizione Albo"/>
				</td>
			</tr>
		</tbody>
  </table>
   
</div>

{%- endmacro %}


















<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- compare in: M47622-CERTIFICATO-CONFORMITA-EDIFICI-ESISTENTI -->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

{% macro titolare_conf_edifici( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}



<table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; {{ visibility_intestazione }}">
  <tbody>
    <tr class="Rigaintestazione">
      <td style="width: 40%; border-left:0px; border-right:0px">
        <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}</p>
      </td>
      <td style="width:3%; border-left:0px; border-right:0px">
        <p class="Labeltabella">{{ carica_campi|safe }}</p>
      </td>
      <td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
        <span style="pd4ml-visibility: hidden; pd4ml-display: none;">{{ utils.recupero_dati( prefix, visibility_carica_dati ) }}</span>
      </td>
      <td style="width:27%; border-left:0px; border-right:0px">
        <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory_enabled="true"/>
      </td>
      <td style="width:25%; border-left:0px; border-right:0px">
        <button type="button" class="real-button" id="RecuperaDatiAnagr">Carica dati anagrafici</button>
      </td>
    </tr>
  </tbody>

  <input type="hidden" name="codicefiscalerecuperodati" id="codicefiscalerecuperodati" dynamic_value="#{{ prefix }}_CodiceFiscale.value()"/>

  {{ service.getPersonaREST( 'codicefiscalerecuperodati','TipoContesto', 'TipoLista',  {
    prefix + '_DataNascita':  'datanascita',
    prefix + '_Nome':  'nome',
    prefix + '_Cognome':  'cognome',
    prefix + '_Sesso':  'sesso',
    prefix + '_Nazionalita':  'stato',
    prefix + '_Cittadinanza':  'nazionalita',
    prefix + '_CodiceFamiglia':  'codiceFamiglia',
    prefix + '_CodiceVia':  'codiceVia',
    prefix + '_ProvinciaResidenza' : 'provincia',
    prefix + '_ComuneResidenza' : 'citta',
    prefix + '_ViaResidenza' : 'indirizzo',
    prefix + '_CivicoResidenza' : 'numeroCivico',
    prefix + '_BarraResidenza' : 'barra',
    prefix + '_CAPResidenza' : 'cap',
    prefix + '_Nazione' : 'nazione',
    prefix + '_LuogoNascita' : 'comuneNascita',
    prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
    prefix + '_MatricolaAnagrafe' : 'matricola',
    prefix + '_CodiceFiscale_Prof' : 'codiceFiscale',
    },
    '#RecuperaDatiAnagr:click','false') }}
</table>

<br>

<div class="Modulo simpatico-block simpatico-query-and-answer">
  <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
    <tbody>
      <tr class="Rigaintestazione">
        <td colspan="4">
          <p style="line-height: 1.6;"><b>Dati anagrafici:</b></p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:13%">
          <p class="Labelcella" style="line-height:1.6;">Titolo</p>
        </td>
        <td style="width:31%">
          <p class="Labelcella" style="line-height:1.6;">Cognome</p>
        </td>
        <td>
          <p class="Labelcella" style="line-height:1.6;">Nome</p>
        </td>
        <td style="width:25%">
          <p class="Labelcella" style="line-height:1.6;">Codice Fiscale</p>
        </td>
      </tr>
      <tr>
        <td>
          <select class="inputNormal" id="{{ prefix }}_TitoloPersona" name="{{ prefix }}_TitoloPersona" style="width:100%;" label="Titolo del progettista">
            <option value=""></option>
            <option value="Dott.">Dott.</option>
            <option value="Dott.ssa">Dott.ssa</option>
            <option value="Arch.">Arch.</option>
            <option value="Ing.">Ing.</option>
            <option value="Comm.">Perito</option>
            <option value="Geom.">Geom.</option>
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome del progettista"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome del progettista"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CodiceFiscale_Prof" name="{{ prefix }}_CodiceFiscale_Prof" style="width:100%" format="cf" label="Il codice fiscale del progettista"/>
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:24%">
          <p class="Labelcella" style="line-height:1.6;">Partita IVA</p>
        </td>
        <td style="width:42%">
          <p class="Labelcella" style="line-height:1.6;">Albo o Ordine</p>
        </td>
        <td style="width:9%">
          <p class="Labelcella" style="line-height:1.6;">Provincia</p>
        </td>
        <td style="width:15%">
          <p class="Labelcella" style="line-height:1.6;">Numero iscrizione</p>
        </td>
        <td style="width:10%">
          <p class="Labelcella" style="line-height:1.6;">Sezione</p>
        </td>
      </tr>
      <tr>
        <td>
          <input style="width: 100%" id="{{ prefix }}_PartitaIVA" class="inputNormal" name="{{ prefix }}_PartitaIVA" format="cfpiva" label="Partita IVA" enabled="true"/>
        </td>
        <td mandatory="true">
          {{ utils.albi( prefix + '_Attributi_Albo' )}}
        </td>
        <td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
          {{ utils.provincie( prefix + '_Attributi_DellaProvincia', label="Provincia iscrizione Albo") }}
        </td>
        <td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
          <input style="width: 100%" id="{{ prefix }}_Attributi_AlNumero" class="inputNormal" name="{{ prefix }}_Attributi_AlNumero" label="Numero iscrizione Albo"/>
        </td>
        <td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
          <input style="width: 100%" id="{{ prefix }}_Attributi_Sezione" class="inputNormal" name="{{ prefix }}_Attributi_Sezione" label="Sezione iscrizione Albo"/>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<br>

<div class="simpatico-block simpatico-query-and-answer">
  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
    <tbody>
      <tr class="Rigaintestazione">
        <td colspan="6">
          <p style="line-height: 1.6;"><b>Con studio in:</b></p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Civico</p>
        </td>
				<td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Barra</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella" style="line-height:1.6;">CAP</p>
        </td>
      </tr>
      <tr>
        <td>
          {{ utils.provincie( prefix + '_ProvinciaStudio', label="Provincia dello studio") }}
        </td>
        <td>
          <input class="" id="{{ prefix }}_ComuneStudio" name="{{ prefix }}_ComuneStudio" style="width:100%" label="Comune dello Studio" mandatory="#{{ prefix }}_ProvinciaStudio.value() != 'EE'" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaStudio" name="{{ prefix }}_ViaStudio" maxlength="40" style="width:100%;" label="Via dello Studio" mandatory_enabled="true" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoStudio" name="{{ prefix }}_CivicoStudio" style="width:100%;" format="number" label="Civico dello Studio" maxlength="10" mandatory_enabled="true" />
        </td>
    		<td>
          <input class="" id="{{ prefix }}_BarraStudio" name="{{ prefix }}_BarraStudio" style="width:100%;" label="Barra dello Studio" maxlength="3" enabled="true" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPStudio" name="{{ prefix }}_CAPStudio" style="width:100%;" format="cap" label="CAP dello Studio" enabled="#{{ prefix }}_CodiceFiscale.value() != '' and #{{ prefix }}_ProvinciaStudio.value() != 'EE'" mandatory="#{{ prefix }}_ProvinciaStudio.value() != 'EE'" />
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
    <tbody>
  	  <tr class="Rigaintestazioneridotta">
  			<td style="width:30%;">
  				<p class="Labelcella" style="line-height:1.6;">Recapito telefonico</p>
 				</td>
				<td style="width:70%;">
  				<p class="Labelcella" style="line-height:1.6;">E-mail PEC</p>
  			</td>
 			</tr>
 			<tr>
 				<td>
  				<input class="inputNormal" id="{{ prefix }}_Recapito_telefonico" name="{{ prefix }}_Recapito_telefonico" label="Recapito telefonico" style="width:100%" maxlength="13" enabled="true" mandatory="#recapito_obbligatorio.checked()"/>
  			</td>
  			<td>
          <input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" name="{{ prefix }}_EMailPEC" label="PEC del progettista" style="width:100%;" maxlength="60" enabled="true" mandatory="#pec_obbligatoria.checked()"/>
        </td>
  		</tr>
  	</tbody>
  </table>
</div>
{%- endmacro %}



<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- compare in: GEN-IMPRESE-AU
                 GEN-IMPRESE-EL
                 M47005-COMUNICAZIONE-INIZIO-LAVORI (X2)
                 M47010-DICHIARAZIONE-ULTIMAZIONE-LAVORI
                 M47500-SEGNALAZIONE-CERTIFICATA-INIZIO-ATTIVITA
                 M47500-MSEC01-DICH-PROG
                 M47561-COMUNICAZIONE-OPERE-LIBERE
                 M47622-CERTIFICATO-CONFORMITA-EDIFICI-ESISTENTI -->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

{% macro solo_nominativo( prefix='Referente1', intestazione="L'interessato") -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}
<!-- visibility:visibility or display:none, cursor:pointer or default, albo: provinciale or regionale -->
<div type="nominativo_interessato">

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px" enabled="#{{ prefix }}_checkabilitato.checked()">
    <tbody>
      <tr class="Rigaintestazione">
        <td style="border-right:0px" colspan="4">
          <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
          </p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:13%">
          <p class="Labelcella" style="line-height:1.6;">Titolo</p>
        </td>
        <td style="width:33%">
          <p class="Labelcella" style="line-height:1.6;">Cognome</p>
        </td>
        <td style="width:32%">
          <p class="Labelcella" style="line-height:1.6;">Nome</p>
        </td>
        <td style="width:22%">
          <p class="Labelcella" style="line-height:1.6;">Codice Fiscale</p>
        </td>
      </tr>
      <tr>
        <td>
          <select class="inputNormal" id="{{ prefix }}_TitoloPersona" name="{{ prefix }}_TitoloPersona" style="width:100%;" label="Titolo del {{ prefix }}" mandatory="#{{ prefix }}_Cognome.value() != '' || #{{ prefix }}_Nome.value() != '' || #{{ prefix }}_CodiceFiscale.value()">
            <option value=""></option>
            <option value="Sig.">Sig.</option>
            <option value="Sig.ra">Sig.ra</option>
            <option value="Avv.">Avv.</option>
            <option value="Dott.">Dott.</option>
            <option value="Dott.ssa">Dott.ssa</option>
            <option value="Arch.">Arch.</option>
            <option value="Ing.">Ing.</option>
            <option value="P.ind.">Perito</option>
            <option value="Geom.">Geom.</option>
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome del soggetto interessato" mandatory="#{{ prefix }}_TitoloPersona.value() != '' || #{{ prefix }}_Nome.value() != '' || #{{ prefix }}_CodiceFiscale.value()"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome del soggetto interessato" mandatory="#{{ prefix }}_TitoloPersona.value() != '' || #{{ prefix }}_Cognome.value() != '' || #{{ prefix }}_CodiceFiscale.value()"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Codice fiscale del soggetto interessato" mandatory="#{{ prefix }}_TitoloPersona.value() != '' || #{{ prefix }}_Cognome.value() != '' || #{{ prefix }}_Nome.value() != ''"/>
        </td>
      </tr>
    </tbody>
  </table>
</div>
{%- endmacro %}



<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- compare in: M1128-CANCELLAZIONE-ALBO-SCRUTATORI
                 M1128bis-CANCELLAZIONE-ALBO-PRESIDENTI
                 M1130-INTEGRAZIONE-CONTATTI-SCRUTATORI
                 M1131-INTEGRAZIONE-CONTATTI-PRESIDENTE -->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

{% macro solo_nominativo_elettorale( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}


<table class="Modulo" style="border:1px solid grey; {{ visibility_intestazione }}">
  <tbody>
    <tr class="Rigaintestazione">
      <td style="width: 40%; border-left:0px; border-right:0px">
        <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}</p>
      </td>
      <td style="width:3%; border-left:0px; border-right:0px">
        <p class="Labeltabella">{{ carica_campi|safe }}</p>
      </td>
      <td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
        <span style="pd4ml-visibility: hidden; pd4ml-display: none;">{{ utils.recupero_dati( prefix, visibility_carica_dati ) }}</span>
      </td>
      <td style="width:27%; border-left:0px; border-right:0px">
        <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory_enabled="true" readonly/>
      </td>
      <td style="width:25%; border-left:0px; border-right:0px">
        <button type="button" class="real-button" id="RecuperaDatiAnagr">Carica dati anagrafici</button>
      </td>
    </tr>
  </tbody>

  <input type="hidden" name="codicefiscalerecuperodati" id="codicefiscalerecuperodati" dynamic_value="#{{ prefix }}_CodiceFiscale.value()"/>

  {{ service.getPersonaREST( 'codicefiscalerecuperodati','TipoContesto', 'TipoLista',  {
    prefix + '_DataNascita':  'datanascita',
    prefix + '_Nome':  'nome',
    prefix + '_Cognome':  'cognome',
    prefix + '_Sesso':  'sesso',
    prefix + '_Nazionalita':  'stato',
    prefix + '_Cittadinanza':  'nazionalita',
    prefix + '_CodiceFamiglia':  'codiceFamiglia',
    prefix + '_CodiceVia':  'codiceVia',
    prefix + '_ProvinciaResidenza' : 'provincia',
    prefix + '_ComuneResidenza' : 'citta',
    prefix + '_ViaResidenza' : 'indirizzo',
    prefix + '_CivicoResidenza' : 'numeroCivico',
    prefix + '_BarraResidenza' : 'barra',
    prefix + '_CAPResidenza' : 'cap',
    prefix + '_Nazione' : 'nazione',
    prefix + '_LuogoNascita' : 'comuneNascita',
    prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
    prefix + '_MatricolaAnagrafe' : 'matricola',
    },
    '#RecuperaDatiAnagr:click','false') }}
</table>



<div type="Anagrafica">

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory="#{{ prefix }}_checkobbligatorio.checked()" enabled="#{{ prefix }}_checkabilitato.checked()">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:50%">
          <p class="Labelcella" style="line-height:1.6;">Cognome</p>
        </td>
        <td style="width:50%">
          <p class="Labelcella" style="line-height:1.6;">Nome</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome del {{ prefix }}"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome del {{ prefix }}"/>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:50%">
          <p class="Labelcella" style="line-height:1.6;">Data di nascita</p>
        </td>
        <td style="width:50%">
          <p class="Labelcella" style="line-height:1.6;">Luogo di nascita</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%" label="Data di nascita del {{ prefix }}"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%" label="Luogo di nascita del {{ prefix }}"/>
        </td>
      </tr>
    </tbody>
  </table>
</div>
{%- endmacro %}


<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- compare in: M47750-AUTORIZZAZIONE-CPC
                 M47561-COMUNICAZIONE-OPERE-LIBERE -->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

{% macro domicilio_digitale( id_pec_personale="",id_cognome_professionista="",id_nome_professionista="",id_pec_professionista="",id_pec_societa="" ) -%}

<h1 class="Modulo">CHIEDE</h1>

<table class="Modulo" style="border:1px solid grey;">
  <tbody>
    <tr class="Rigaintestazione">
      <td colspan="4">
        <p class="Labeltabella">che tutte le comunicazioni siano inviate al domicilio digitale eletto</p>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: center; width: 4%; background-color:white;" rowspan="3">
        <div id="Tassonomia_DomDigi" name="Tassonomia_DomDigi"  label="Label" mandatory_enabled="true"></div>
        <input group="Tassonomia_DomDigi" id="Tassonomia_DomDigi1" name="Tassonomia_DomDigi" type="radio" value="1"/>
      </td>
      <td colspan="3">
        <p style="line-height: 1.6;">La mia mail PEC personale <i>(indicata nei miei dati personali)</i></p>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td colspan="3">
        <p class="Labelcella" style="line-height:1.6;">Email Pec</p>
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <input class="inputNormal" id="Parametri_DomDigiPersPec" name="Parametri_DomDigiPersPec"  style="width: 100%;" label="Dominio digitale personale nome" format="pec" mandatory_enabled="#Tassonomia_DomDigi1.checked()" dynamic_value="#{{ id_pec_personale }}.value()">
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: center; width: 4%; background-color:white;" rowspan="3">
        <input group="Tassonomia_DomDigi" id="Tassonomia_DomDigi2" name="Tassonomia_DomDigi" type="radio" value="2"/>
      </td>
      <td colspan="3">
        <p style="line-height: 1.6;">PEC del progettista incaricato</p>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td>
        <p class="Labelcella" style="line-height:1.6;">Cognome</p>
      </td>
      <td>
        <p class="Labelcella" style="line-height:1.6;">Nome</p>
      </td>
      <td>
        <p class="Labelcella" style="line-height:1.6;">Email Pec</p>
      </td>
    </tr>
    <tr mandatory_enabled="#Tassonomia_DomDigi2.checked()">
      {% if id_cognome_professionista == '' %}
      <td>
        <input class="inputNormal" id="Parametri_DomDigiProfCognome" name="Parametri_DomDigiProfCognome"  style="width: 100%;" label="Dominio digitale professionista cognome">
      </td>
      {% else %}
      <td>
        <input class="inputNormal" id="Parametri_DomDigiProfCognome" name="Parametri_DomDigiProfCognome"  style="width: 100%;" label="Dominio digitale professionista cognome" dynamic_value="#{{ id_cognome_professionista }}.value()">
      </td>
      {% endif %}

      {% if id_nome_professionista == '' %}
      <td>
        <input class="inputNormal" id="Parametri_DomDigiProfNome" name="Parametri_DomDigiProfNome"  style="width: 100%;" label="Dominio digitale professionista nome">
      </td>
      {% else %}
      <td>
        <input class="inputNormal" id="Parametri_DomDigiProfNome" name="Parametri_DomDigiProfNome"  style="width: 100%;" label="Dominio digitale professionista nome"dynamic_value="#{{ id_nome_professionista }}.value()">
      </td>
      {% endif %}

      {% if id_pec_professionista == '' %}
      <td>
        <input class="inputNormal" id="Parametri_DomDigiProfPec" name="Parametri_DomDigiProfPec"  style="width: 100%;" label="Dominio digitale professionista pec" format="pec">
      </td>
      {% else %}
      <td>
        <input class="inputNormal" id="Parametri_DomDigiProfPec" name="Parametri_DomDigiProfPec"  style="width: 100%;" label="Dominio digitale professionista pec" format="pec"  dynamic_value="#{{ id_pec_professionista }}.value()">
      </td>
      {% endif %}
    </tr>
	  <tr>
      <td style="vertical-align: top; text-align: center; width: 4%; background-color:white;" rowspan="3">
	      <input group="Tassonomia_DomDigi" id="Tassonomia_DomDigi3" name="Tassonomia_DomDigi" type="radio" value="3"/>
      </td>
      <td colspan="3">
        <p style="line-height: 1.6;">La mail PEC della società <i>(indicata nei dati della società)</i></p>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td colspan="3">
        <p class="Labelcella" style="line-height:1.6;">Email Pec</p>
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <input class="inputNormal" id="Parametri_DomDigiSocPec" name="Parametri_DomDigiSocPec"  style="width: 100%;" label="Dominio digitale società" format="pec" mandatory_enabled="#Tassonomia_DomDigi3.checked()" dynamic_value="#{{ id_pec_societa }}.value()">
      </td>
    </tr>
  </tbody>
</table>

{%- endmacro %}



<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- compare in: M47500-SEGNALAZIONE-CERTIFICATA-INIZIO-ATTIVITA -->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

{% macro delega_comunicazioni() -%}

<table class="Modulo" style="border: 1px solid grey">
  <tbody>
    <tr class="Rigaintestazione">
      <td colspan="3">
        <p style="line-height:1.6;"><b>IL TITOLARE</b></p>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: center; width: 4%;">
        <div id="Richiesta_delega" name="Richiesta_delega" label="Delega progettista" mandatory_enabled="true"> </div>
        <input group="Richiesta_delega" id="Richiesta_delega1" name="Richiesta_delega" type="radio" value="1" />
      </td>
      <td colspan="2">
        <p style="line-height:1.6;"><b>DELEGA</b> il progettista, <input enabled="#Richiesta_delega1.checked()" dynamic_value="#Progettista_TitoloPersona.value() + ' ' + #Progettista_Cognome.value() + ' ' + #Progettista_Nome.value()" id="Nominativo_progettista" name="Nominativo_progettista" style="width:68%;"/>
          <br><b>a ricevere</b> per proprio nome e conto le comunicazioni relative al presente procedimento per il tramite del proprio indirizzo PEC (posta elettronica certificata):  <input mandatory_enabled="#Richiesta_delega1.checked()" id="Progettista_EMailPEC" name="Progettista_EMailPEC" format="pec" style="width:50%;"/>
          <br><span style="font-size:85%"><i>NB.: la delega riguarda tutte le comunicazioni relative alla fase istruttoria del progetto ai sensi dell'art. 86 della l.p. 15/2015
            <br>L'accettazione del progettista è presente nel modulo secondario "Anagrafica del progettista"</i></span>
        </p>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: center; width: 4%;" rowspan="3">
        <input group="Richiesta_delega" id="Richiesta_delega2" name="Richiesta_delega" type="radio" value="2" />
      </td>
      <td colspan="2">
        <p style="line-height:1.6;"><b>CHIEDE di ricevere</b> le comunicazioni relative al presente procedimento <b>al proprio indirizzo PEC</b> (Posta Elettronica Certificata), indicato nei dati personali e qui riportato </p>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: center; text-align: center; width: 4%;">
        <div id="Richiesta_delega_con_pec" name="Richiesta_delega_con_pec" label="pec personale per delega" mandatory_enabled="#Richiesta_delega2.checked()"></div>
        <input group="Richiesta_delega_con_pec" id="Richiesta_delega_con_pec1" name="Richiesta_delega_con_pec" type="radio" value="1" />
      </td>
      <td>
        <p style="line-height:1.6;"><b>Indirizzo PEC personale: </b> <input class="inputNormal" id="pec_personale_per_comunicazioni" name="pec_personale_per_comunicazioni"  style="width: 42%;" label="PEC personale del titolare per comunicazioni" format="pec" dynamic_value="#AventeTitolo_EMailPEC.value()" enabled="#Richiesta_delega_con_pec1.checked()" readonly></p>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: center; text-align: center; width: 4%;">
        <input group="Richiesta_delega_con_pec" id="Richiesta_delega_con_pec2" name="Richiesta_delega_con_pec" type="radio" value="2" />
      </td>
      <td>
        <p style="line-height:1.6;"><b>Indirizzo PEC della propria ragione sociale: </b> <input class="inputNormal" id="pec_ragionesociale_per_comunicazioni" name="pec_ragionesociale_per_comunicazioni"  style="width: 42%;" label="PEC ragione sociale del titolare per comunicazioni" format="pec" dynamic_value="#AventeTitolo_APEC.value()" enabled="#Richiesta_delega_con_pec2.checked()" readonly></p>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: center; width: 4%;">
        <input group="Richiesta_delega" id="Richiesta_delega3" name="Richiesta_delega" type="radio" value="3" />
      </td>
      <td colspan="2">
        <p style="line-height:1.6;"><b>CHIEDE di ricevere</b> le comunicazioni relative al presente procedimento al proprio indirizzo fisico <input class="inputNormal" id="indirizzo_per_comunicazioni" name="indirizzo_per_comunicazioni"  style="width: 50%;" label="indirizzo del titolare per comunicazioni" dynamic_value="#AventeTitolo_ViaResidenza.value() + ' ' + #AventeTitolo_CivicoResidenza.value() + ', ' + #AventeTitolo_CAPResidenza.value() + ' ' + #AventeTitolo_ComuneResidenza.value() + ' (' + #AventeTitolo_ProvinciaResidenza.value() + ')'" enabled="#Richiesta_delega3.checked()" readonly> <b>a mezzo raccomandata A/R</b>, consapevole dei maggiori costi dei diritti di segreteria che questo implica</p>
      </td>
    </tr>
  </tbody>
</table>

{%- endmacro %}



<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- compare in: M1866-ACCETTAZIONE-NIDO
                 M1876-ISCRIZIONE-NIDO -->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

{% macro anagrafica_bambino( prefix='AventeTitolo', intestazione="Il sottoscritto", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", visibility_residenza="visibility:visibility", visibility_mail="no_mail", carica_campi="", cf_obbligatorio="true", format_telefono_numerico="false", pec_obbligatoria ="false"  ) -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}

<div type="Anagrafica_bambino">

  <table class="Modulo" style="border:1px solid grey; {{ visibility_intestazione }}">
    <tbody>
      <tr class="Rigaintestazione">
        <td style="border-right:0px">
          <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
          </p>
        </td>
        <td style="width:38%; border-left:0px; border-right:0px">
          <p class="Labeltabella">{{ carica_campi|safe }}</p>
        </td>
        <td style="width:3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
          <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
            {{ service.getFiglioREST('Parametri_CFBambino','TipoContesto', 'TipoLista', {
              prefix + '_DataNascita':  'datanascita',
              prefix + '_Nome':  'nome',
              prefix + '_Cognome':  'cognome',
              prefix + '_Sesso':  'sesso',
              prefix + '_Nazionalita':  'nazione',
              prefix + '_Cittadinanza':  'nazionalita',
              prefix + '_CFBambino':  'codiceFiscale',
              prefix + '_CodiceFamiglia':  'codiceFamiglia',
              prefix + '_CodiceVia':  'codiceVia',
              prefix + '_ProvinciaResidenza' : 'provincia',
              prefix + '_ComuneResidenza' : 'citta',
              prefix + '_ViaResidenza' : 'indirizzo',
              prefix + '_CivicoResidenza' : 'numeroCivico',
              prefix + '_BarraResidenza' : 'barra',
              prefix + '_CAPResidenza' : 'cap',
              prefix + '_Nazione' : 'nazione',
              prefix + '_LuogoNascita' : 'comuneNascita',
              prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
              prefix + '_MatricolaAnagrafe' : 'matricola',
              prefix + '_Paternita' : 'padre',
              prefix + '_Maternita' : 'madre',
            },
            '#Parametri_CFBambino:change', '#Tassonomia_ListaFam1_allowEdit' ) }}

            {{ service.getPersonaREST('Tassonomia_ListaFam1','TipoContesto', 'TipoLista', {
              prefix + '_DataNascita':  'datanascita',
              prefix + '_Nome':  'nome',
              prefix + '_Cognome':  'cognome',
              prefix + '_Sesso':  'sesso',
              prefix + '_Nazionalita':  'nazione',
              prefix + '_Cittadinanza':  'nazionalita',
              prefix + '_CFBambino':  'codiceFiscale',
              prefix + '_CodiceFamiglia':  'codiceFamiglia',
              prefix + '_CodiceVia':  'codiceVia',
              prefix + '_ProvinciaResidenza' : 'provincia',
              prefix + '_ComuneResidenza' : 'citta',
              prefix + '_ViaResidenza' : 'indirizzo',
              prefix + '_CivicoResidenza' : 'numeroCivico',
              prefix + '_BarraResidenza' : 'barra',
              prefix + '_CAPResidenza' : 'cap',
              prefix + '_Nazione' : 'nazione',
              prefix + '_LuogoNascita' : 'comuneNascita',
              prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
              prefix + '_MatricolaAnagrafe' : 'matricola',
              prefix + '_Paternita' : 'padre',
              prefix + '_Maternita' : 'madre',
            },
            '#Tassonomia_ListaFam1:change', '#Tassonomia_ListaFam1_allowEdit' ) }}
          </span>
        </td>
      </tr>
    </tbody>
  </table>
  <input type="hidden" dynamic_value="#Tassonomia_CF.check_value(['3']) ? 'true' : 'false' " name="Tassonomia_ListaFam1_allowEdit" id="Tassonomia_ListaFam1_allowEdit" />

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory="#{{ prefix }}_DatiPersonaObbligatori.checked()">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="2">
          <p class="Labelcella" style="line-height:1.6;">Cognome</p>
        </td>
        <td colspan="2">
          <p class="Labelcella" style="line-height:1.6;">Nome</p>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
        </td>
        <td colspan="2">
          <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:24%;">
          <p class="Labelcella" style="line-height:1.6;">Data di nascita</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Sesso (M/F)</p>
        </td>
        <td style="width: 33%;">
          <p class="Labelcella" style="line-height:1.6;">Cittadinanza</p>
        </td>
        <td style="width: 34%;">
          <p class="Labelcella" style="line-height:1.6;">Luogo di nascita</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
        </td>
        <td>
          <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
            <option value=""></option>
            <option value="M">M</option>
            <option value="F">F</option>
          </select>
        </td>
        <td>
          {{ utils.cittadinanza( prefix + '_Cittadinanza', 'Cittadinanza' )}}
        </td>
        <td>
          <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita" />
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="6">
          <p class="Labelcella" style="line-height:1.6;">Residenza</p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Civico</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Barra</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella" style="line-height:1.6;">CAP</p>
        </td>
      </tr>
      <tr>
        <td>
          {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza"  mandatory="#{{ prefix }}_DatiPersonaObbligatori.checked()" style="width:100%" label="Comune di residenza"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza"  mandatory="#{{ prefix }}_DatiPersonaObbligatori.checked()" style="width:100%;" label="Via di residenza" maxlength="40"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza"  mandatory="#{{ prefix }}_DatiPersonaObbligatori.checked()" format="number" style="width:100%;" label="Civico di residenza" maxlength="10"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_BarraResidenza" name="{{ prefix }}_BarraResidenza" style="width:100%;" label="Barra di residenza" maxlength="3" enabled="true"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza"  mandatory="#{{ prefix }}_DatiPersonaObbligatori.checked()" style="width:100%;" format="cap" label="CAP di residenza" />
        </td>
      </tr>
    </tbody>
  </table>

  <input id="{{ prefix }}_DatiPersonaObbligatori" name="{{ prefix }}_DatiPersonaObbligatori" dynamic_check="true" type="hidden" />
  <input id="{{ prefix }}_CodiceFamiglia" name="{{ prefix }}_CodiceFamiglia" type="hidden"/>
  <input id="{{ prefix }}_CodiceVia" name="{{ prefix }}_CodiceVia" type="hidden"/>
  <input id="{{ prefix }}_CFBambino" name="{{ prefix }}_CFBambino" type="hidden"/>
  <input id="{{ prefix }}_MatricolaAnagrafe" name="{{ prefix }}_MatricolaAnagrafe" type="hidden"/>
  <input id="{{ prefix }}_Nazionalita" name="{{ prefix }}_Nazionalita" type="hidden"/>
  <input id="{{ prefix }}_Nazione" name="{{ prefix }}_Nazione" type="hidden"/>
  <input id="{{ prefix }}_CodiceComuneNascita" name="{{ prefix }}_CodiceComuneNascita" type="hidden"/>
  <input id="{{ prefix }}_Paternita" name="{{ prefix }}_Paternita" type="hidden"/>
  <input id="{{ prefix }}_Maternita" name="{{ prefix }}_Maternita" type="hidden"/>
</div>
{%- endmacro %}





{% macro richiedente_tscw( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}


<table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; {{ visibility_intestazione }}">
  <tbody>
    <tr class="Rigaintestazione">
      <td style="width: 40%; border-left:0px; border-right:0px">
        <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}</p>
      </td>
      <td style="width:3%; border-left:0px; border-right:0px">
        <p class="Labeltabella">{{ carica_campi|safe }}</p>
      </td>
      <td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
        <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
          {{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
        </span>
      </td>
      <td style="width:27%; border-left:0px; border-right:0px">
        <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory_enabled="true" readonly/>
      </td>
      <td style="width:25%; border-left:0px; border-right:0px">
        <button type="button" class="real-button" id="RecuperaDatiAnagr">Carica dati anagrafici</button>
      </td>
    </tr>
  </tbody>

  {{ service.getPersonaREST( prefix + '_CodiceFiscale','TipoContesto', 'TipoLista',  {
    prefix + '_DataNascita':  'datanascita',
    prefix + '_Nome':  'nome',
    prefix + '_Cognome':  'cognome',
    prefix + '_Sesso':  'sesso',
    prefix + '_Nazionalita':  'stato',
    prefix + '_Cittadinanza':  'nazionalita',
    prefix + '_CodiceFamiglia':  'codiceFamiglia',
    prefix + '_CodiceVia':  'codiceVia',
    prefix + '_ProvinciaResidenza' : 'provincia',
    prefix + '_ComuneResidenza' : 'citta',
    prefix + '_ViaResidenza' : 'indirizzo',
    prefix + '_CivicoResidenza' : 'numeroCivico',
    prefix + '_BarraResidenza' : 'barra',
    prefix + '_CAPResidenza' : 'cap',
    prefix + '_Nazione' : 'nazione',
    prefix + '_LuogoNascita' : 'comuneNascita',
    prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
    prefix + '_MatricolaAnagrafe' : 'matricola',
  },
  '#RecuperaDatiAnagr:click','true') }}
</table>

<br>

<table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; margin-top:-1px" >
  <tbody>
    <tr class="Rigaintestazione">
      <td colspan="4">
        <p style="line-height: 1.6;"><b>Dati anagrafici:</b></p>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td colspan="3">
        <p class="Labelcella" style="line-height:1.6;">Cognome</p>
      </td>
      <td>
        <p class="Labelcella" style="line-height:1.6;">Nome</p>
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome" mandatory="true"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome" mandatory="true"/>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td style="width:15%;">
        <p class="Labelcella" style="line-height:1.6;">Data di nascita</p>
      </td>
      <td style="width:9%;">
        <p class="Labelcella" style="line-height:1.6;">Sesso</p>
      </td>
      <td style="width: 26%;">
        <p class="Labelcella" style="line-height:1.6;">Cittadinanza</p>
      </td>
      <td style="width: 50%;">
        <p class="Labelcella" style="line-height:1.6;">Luogo di nascita</p>
      </td>
    </tr>
    <tr>
      <td>
        <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita" mandatory="true"/>
      </td>
      <td>
        <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso" mandatory="true">
          <option value=""></option>
          <option value="M">M</option>
          <option value="F">F</option>
        </select>
      </td>
      <td>
        <input class="" id="{{ prefix }}_Cittadinanza" name="{{ prefix }}_Cittadinanza" style="width:100%;" label="Nazionalità"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita" mandatory="true"/>
      </td>
    </tr>
  </tbody>
</table>

<br>

<div class="simpatico-block simpatico-query-and-answer">
  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
    <tbody>
      <tr class="Rigaintestazione">
        <td colspan="6">
          <p style="line-height: 1.6;"><b>Dati di residenza:</b></p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Civico</p>
        </td>
    		<td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Barra</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella" style="line-height:1.6;">CAP</p>
        </td>
      </tr>
      <tr>
        <td>
          {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
        </td>
        <td>
          <input class="" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" enabled="true" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" maxlength="40" style="width:100%;" label="Via di residenza" enabled="true" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" format="number" label="Civico di residenza" maxlength="10" enabled="true" />
        </td>
  	  	<td>
          <input class="" id="{{ prefix }}_BarraResidenza" name="{{ prefix }}_BarraResidenza" style="width:100%;" label="Barra di residenza" maxlength="3" enabled="true" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza" enabled="true" />
        </td>
      </tr>
    </tbody>
  </table>

  <br>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
		<tbody>
      <tr class="Rigaintestazione">
        <td colspan="6">
          <p style="line-height: 1.6;"><b>Dati di contatto:</b></p>
        </td>
      </tr>
			<tr class="Rigaintestazioneridotta">
 				<td style="width:16.5%;">
 					<p class="Labelcella" style="line-height:1.6;">Telefono fisso</p>
 				</td>
 				<td style="width:16.5%;">
 					<p class="Labelcella" style="line-height:1.6;">Cellulare</p>
 				</td>
 				<td style="width:33%;">
 					<p class="Labelcella" style="line-height:1.6;">E-mail<i> (posta elettronica ordinaria)</i></p>
 				</td>
 				<td>
 					<p class="Labelcella" style="line-height:1.6;">E-mail PEC<i> (domicilio digitale)</i></p>
 				</td>
 			</tr>
 			<tr>
        <td>
          <input class="inputNormal" id="{{ prefix }}_Fisso" name="{{ prefix }}_Fisso" label="Telefono fisso" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory="#fisso_obbligatorio.checked()"/>
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_Telefono" name="{{ prefix }}_Telefono" label="Telefono cellulare" style="width:100%;" format="number" maxlength="13" enabled="true" mandatory="#cellulare_obbligatorio.checked()"/>
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_EMail" name="{{ prefix }}_EMail" label="E-mail ordinaria" style="width:100%;" format="email" maxlength="60" enabled="true" mandatory="#mail_obbligatoria.checked()"/>
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_EMailPEC" name="{{ prefix }}_EMailPEC" label="E-mail PEC" style="width:100%;" format="pec" maxlength="60" enabled="true" mandatory="#pec_obbligatoria.checked()"/>
        </td>
 			</tr>
 		</tbody>
  </table>

</div>

<input type="hidden" id="AventeTitolo_CodiceFamiglia" name="AventeTitolo_CodiceFamiglia"/>
<input type="hidden" id="AventeTitolo_CodiceVia" name="AventeTitolo_CodiceVia"/>
<input type="hidden" id="AventeTitolo_MatricolaAnagrafe" name="AventeTitolo_MatricolaAnagrafe"/>
<input type="hidden" id="AventeTitolo_CodiceComuneNascita" name="AventeTitolo_CodiceComuneNascita"/>

{%- endmacro %}




<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------NON UTILIZZATO----------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

{% macro societa( prefix='Titolare', intestazione="Il sottoscritto", ruoli=["Persona fisica", "Titolare", "Legale rappresentante", "Amministratore di condominio", "Responsabile unico del procedimento", "Procuratore legale"], Solo1="Richiedente", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_mail="mail_pec", pec_obbligatoria="true", cciaa_visibile="true", campi_readonly="", visibility_residenza="visibility:visibility" ) -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}
<div type="Anagrafica_Società">


  <div class="simpatico-block simpatico-query-and-answer">

  {% do all_prefix.append( prefix ) %}
  <input id="{{ prefix }}_Titolo" name="{{ prefix }}_Titolo" type="hidden" value="professionista"/>
  <table class="Modulo" style="border:1px solid grey; margin-bottom:-6px">
    <tbody>
      <tr class="Rigaintestazione">
        <td style="border-right:0px">
          <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}</p>
        </td>
        <td style="width:25%; {{ pointer_carica_dati }}; border-left:0px">
          <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
            {{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
          </span>
        </td>
      </tr>
    </tbody>

    <input type="hidden" name="cfpercaricamentodati" id="cfpercaricamentodati" dynamic_value="#{{ prefix }}_CodiceFiscale.value()">

    {{ service.getPersonaREST( 'cfpercaricamentodati','TipoContesto', 'TipoLista',  {
      prefix + '_DataNascita':  'datanascita',
      prefix + '_Nome':  'nome',
      prefix + '_Cognome':  'cognome',
      prefix + '_Sesso':  'sesso',
      prefix + '_Nazionalita':  'nazionalita',
      prefix + '_Cittadinanza':  'stato',
      prefix + '_CodiceFamiglia':  'codiceFamiglia',
      prefix + '_CodiceVia':  'codiceVia',
      prefix + '_ProvinciaResidenza' : 'provincia',
      prefix + '_ComuneResidenza' : 'citta',
      prefix + '_ViaResidenza' : 'indirizzo',
      prefix + '_CivicoResidenza' : 'numeroCivico',
      prefix + '_BarraResidenza' : 'barra',
      prefix + '_CAPResidenza' : 'cap',
      prefix + '_Nazione' : 'nazione',
      prefix + '_LuogoNascita' : 'comuneNascita',
      prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
      prefix + '_MatricolaAnagrafe' : 'matricola',
    },
    '#cfpercaricamentodati:change','true') }}
  </table>

  <table class="Modulo" style="border:1px solid grey" mandatory="true">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="2">
          <p class="Labelcella" style="line-height:1.6;">Cognome</p>
        </td>
        <td>
          <p class="Labelcella" style="line-height:1.6;">Nome</p>
        </td>
        <td>
          <p class="Labelcella" style="line-height:1.6;">Codice Fiscale</p>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome del professionista"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome del professionista"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del professionista"/>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta" style="border-top:0px">
        <td style="width:24%;">
          <p class="Labelcella" style="line-height:1.6;">Data di nascita</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Sesso (M/F)</p>
        </td>
        <td style="width: 33%;">
          <p class="Labelcella" style="line-height:1.6;">Nazionalità</p>
        </td>
        <td style="width: 34%;">
          <p class="Labelcella" style="line-height:1.6;">Luogo di nascita</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita del professionista"/>
        </td>
        <td>
          <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso del professionista">
            <option value=""></option>
            <option value="M">M</option>
            <option value="F">F</option>
          </select>
        </td>
        <td>
          {{ utils.stato( prefix + '_Cittadinanza', 'Cittadinanza' )}}
        </td>
        <td>
          <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita del professionista"/>
        </td>
      </tr>
    </tbody>
  </table>

  {% if visibility_residenza == 'visibility:visibility' %}
  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" >
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="6">
          <p class="Labelcella" style="line-height:1.6;">Residenza</p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Civico</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella" style="line-height:1.6;">CAP</p>
        </td>
      </tr>
      <tr>
        <td>
          {{ utils.provincie( prefix + '_ProvinciaResidenza', label='Provincia di residenza' )}}
        </td>
        <td>
          <select class="inputNormal" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza del professionista" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaResidenza.value(), '{{ prefix }}_ComuneResidenza')" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'">
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" style="width:100%;" label="Via di residenza del professionista" mandatory="true"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" label="Civico di residenza del professionista" maxlength="10"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" label="CAP di residenza del professionista" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'"/>
        </td>
      </tr>
    </tbody>
  </table>
  {% endif %}

  {% if visibility_mail == 'mail_ordinaria' %}
	<table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory="true">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:16.5%;">
          <p class="Labelcella" style="line-height:1.6;">Cellulare</p>
        </td>
        <td style="width:16.5%;">
          <p class="Labelcella" style="line-height:1.6;">Telefono fisso</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">E-mail<i> (posta elettronica ordinaria)</i></p>
        </td>
        <td>
          <p class="Labelcella" style="line-height:1.6;">E-mail PEC<i> (domicilio digitale)</i></p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="inputNormal" id="{{ prefix }}_Telefono" label="Telefono del professionista" name="{{ prefix }}_Telefono" style="width:100%"/>
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_Tel_Fisso" label="Tel_Fisso del professionista" mandatory="false" name="{{ prefix }}_Tel_Fisso" style="width:100%"/>
        </td>
        <td>
          <input class="inputNormal" format="email" id="{{ prefix }}_EMail" label="E-mail ordinaria del professionista" mandatory="false" name="{{ prefix }}_EMail" style="width:100%;"/>
        </td>
        <td>
          <input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="E-mail PEC del professionista" mandatory="false" name="{{ prefix }}_EMailPEC" style="width:100%;" />
        </td>
      </tr>
    </tbody>
  </table>
  {% endif %}

  {% if visibility_mail == 'mail_pec'%}
  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory="true">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:21%;">
          <p class="Labelcella" style="line-height:1.6;">Cellulare</p>
        </td>
        <td style="width:21%;">
          <p class="Labelcella" style="line-height:1.6;">Telefono fisso</p>
        </td>
        <td>
          <p class="Labelcella" style="line-height:1.6;">E-mail PEC <i>(domicilio digitale)</i></p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="inputNormal" id="{{ prefix }}_Telefono" label="Telefono del professionista" name="{{ prefix }}_Telefono" style="width:100%"/>
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_Tel_Fisso" label="Tel_Fisso del professionista" mandatory="false" name="{{ prefix }}_Tel_Fisso" style="width:100%"/>
        </td>
        <td>
          {% if pec_obbligatoria == 'false'%}
          <input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="E-mail PEC del professionista" name="{{ prefix }}_EMailPEC" style="width:100%"/>
          {% endif %}
        </td>
      </tr>
    </tbody>
  </table>
  {% endif %}
</div>

  <table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey">
    <tbody>
      <tr class="Rigaintestazione">
        <td colspan="5">
          <p style="line-height: 1.6;"><b>in qualità di</b></p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td colspan="5">
          <p class="Labelcella" style="line-height:1.6;">Ruolo</p>
        </td>
      </tr>
      <tr>
        <td colspan="5">
          <select class="inputNormal" id="{{ prefix }}_Ruolo" name="{{ prefix }}_Ruolo" style="width:100%;" mandatory_enabled="true" label="Ruolo del professionista">
            <option value=""></option>
            {% for ruolo in ruoli %}
            <option value="{{ ruolo }}">{{ ruolo }}</option>
            {% endfor %}
          </select>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- simpatico start --><div class="simpatico-block simpatico-query-and-answer"><!-- simpatico end -->
  <table class="Modulo" style="border:1px solid grey">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="3">
          <p class="Labelcella" style="line-height:1.6;">Denominazione/Ragione sociale (questa sezione deve essere compilata se il dichiarante non è la persona fisica)</p>
        </td>
        <td colspan="2">
          <p class="Labelcella" style="line-height:1.6;">Tipologia</p>
        </td>
      </tr>
      <tr mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Responsabile unico del procedimento', 'Titolare omonima ditta individuale' ])">
        <td colspan="3">
          <input class="" id="{{ prefix }}_Denominazione" name="{{ prefix }}_Denominazione" style="width:100%" label="Denominazione/Ragione sociale"/>
        </td>
        <td colspan="2">
          {{ utils.tipologiaimpresa( prefix + '_TipologiaImpresa' )}}
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td colspan="5">
          <p class="Labelcella" style="line-height:1.6;">Sede legale</p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella" style="line-height:1.6;">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella" style="line-height:1.6;">Civico</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella" style="line-height:1.6;">CAP</p>
        </td>
      </tr>
      <tr mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Responsabile unico del procedimento', 'Titolare omonima ditta individuale' ])">
        <td>
          {{ utils.provincie( prefix + '_ProvinciaSede', label="Provincia della sede legale") }}
        </td>
        <td>
          <select class="inputNormal" id="{{ prefix }}_ComuneSede" name="{{ prefix }}_ComuneSede" style="width:100%" label="Comune della sede legale" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaSede.value(), '{{ prefix }}_ComuneSede')">
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaSede" name="{{ prefix }}_ViaSede" style="width:100%;" label="Indirizzo della sede legale"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoSede" name="{{ prefix }}_CivicoSede" style="width:100%;" label="Civico della sede legale" maxlength="10"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPSede" name="{{ prefix }}_CAPSede" style="width:100%;" format="cap" label="CAP della sede legale" enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Titolare omonima ditta individuale' ])" mandatory="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Titolare omonima ditta individuale' ]) and #{{ prefix }}_ProvinciaSede.value() != 'EE'"/>
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Responsabile unico del procedimento', 'Titolare omonima ditta individuale' ])">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:50%;">
          <p class="Labelcella" style="line-height:1.6;">Codice Fiscale / Partita IVA </p>
        </td>
        <td style="width:50%;">
          <p class="Labelcella" style="line-height:1.6;">E-mail PEC (domicilio digitale)</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_CFPI" name="{{ prefix }}_CFPI" label="Codice fiscale" style="width:100%;" format="cfpiva"/>
        </td>
        {% if cciaa_visibile == 'true'%}
        <td>
          <input class="" id="{{ prefix }}_APEC" name="{{ prefix }}_APEC" label="PEC Azienda" style="width:100%;" format="pec" />
        </td>
        {% endif %}
        {% if cciaa_visibile == 'false'%}
        <td>
          <input class="" id="{{ prefix }}_PI" name="{{ prefix }}_PI" label="Partita IVA" style="width:100%;" format="piva" mandatory="true"/>
        </td>
        {% endif %}
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td>
          <p class="Labelcella" style="line-height:1.6;">Cellulare</p>
        </td>
        <td>
          <p class="Labelcella" style="line-height:1.6;">Telefono fisso</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_TelefonoSede" name="{{ prefix }}_TelefonoSede" label="Telefono della sede legale" style="width:100%;"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Tel_FissoSede" name="{{ prefix }}_Tel_FissoSede" label="Tel_Fisso della sede legale" style="width:100%;" mandatory="false"/>
        </td>
      </tr>
    </tbody>
  </table>

	{% if cciaa_visibile == 'true'%}
  <table class="Modulo" style="margin-top:-1px; border:1px solid grey;">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:50%">
          <p class="Labelcella" style="line-height:1.6;">Iscrizione al Registro Imprese della Camera di Commercio</p>
        </td>
        <td style="width:9%">
          <p class="Labelcella" style="line-height:1.6;">Provincia</p>
        </td>
        <td style="width:41%">
          <p class="Labelcella" style="line-height:1.6;">Numero iscrizione</p>
        </td>
      </tr>
      <tr>
        <td>
          <select class="inputNormal" id="{{ prefix }}_Attributi_IscrittoCCIAA" name="{{ prefix }}_Attributi_IscrittoCCIAA" label="Iscrizione al Registro Imprese della Camera di Commercio" style="width:100%" mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Titolare omonima ditta individuale' ])">
            <option value=""></option>
            <option value="iscritto">iscritto</option>
            <option value="in attesa di iscrizione">in attesa di iscrizione</option>
            <option value="non tenuto all'iscrizione">non tenuto all'iscrizione</option>
          </select>
        </td>
        <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto','in attesa di iscrizione' ])">
          {{ utils.provincie( prefix + '_Attributi_CCIAAProv', label="Provincia iscrizione al Registro Imprese della Camera di Commercio") }}
        </td>
        <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto' ])">
          <input class="" id="{{ prefix }}_Attributi_CCIAANumero" name="{{ prefix }}_Attributi_CCIAANumero" label="Numero iscrizione al Registro Imprese della Camera di Commercio" style="width:100%"/>
        </td>
      </tr>
    </tbody>
  </table>

	<input id="{{ prefix }}_Attributi_CCIAAProv_categoria" 		name="{{ prefix }}_Attributi_CCIAAProv_categoria" 		type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_CCIAAProv_nome" 			name="{{ prefix }}_Attributi_CCIAAProv_nome" 			type="hidden" value="Provincia registro imprese Camera Commercio"/>
	<input id="{{ prefix }}_Attributi_CCIAANumero_categoria" 	name="{{ prefix }}_Attributi_CCIAANumero_categoria" 	type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_CCIAANumero_nome" 		name="{{ prefix }}_Attributi_CCIAANumero_nome" 			type="hidden" value="Numero iscrizione registro imprese Camera Commerci"/>
	<input id="{{ prefix }}_Attributi_IscrittoCCIAA_categoria" 	name="{{ prefix }}_Attributi_IscrittoCCIAA_categoria" 	type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_IscrittoCCIAA_nome" 		name="{{ prefix }}_Attributi_IscrittoCCIAA_nome" 		type="hidden" value="Iscrizione registro imprese Camera Commercio"/>
	{% endif %}
</div>
</div>
{%- endmacro %}