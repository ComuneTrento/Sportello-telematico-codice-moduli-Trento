{% import 'utils.html' as utils %}
{% import 'build_service.html' as service %}

{% macro societa( prefix='Titolare', intestazione="Il sottoscritto", ruoli=["Persona fisica", "Titolare", "Legale rappresentante", "Amministratore di condominio", "Responsabile unico del procedimento", "Procuratore legale"], Solo1="Richiedente", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_mail="mail_pec", pec_obbligatoria="true", cciaa_visibile="true", campi_readonly="", visibility_residenza="visibility:visibility" ) -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}
<!-- visibility:visibility or display:none, cursor:pointer or default; visibility_mail: no_mail or mail_ordinaria or mail_pec; pec_obbligatoria: true or false or never, cciaa_visibile true or false -->
<div type="Anagrafica_Società">

  <input type="hidden" name="TipoContesto" id="TipoContesto" value="GLOBO">
  <input type="hidden" name="TipoLista" id="TipoLista" value="PGLOBO">

<!-- simpatico start -->
  <div class="simpatico-block simpatico-query-and-answer">
<!-- simpatico end -->

  {% do all_prefix.append( prefix ) %}
  <input id="{{ prefix }}_Titolo" name="{{ prefix }}_Titolo" type="hidden" value="{{ Solo1 }}"/>
  <table class="Modulo" style="border:1px solid grey; margin-bottom:-6px">
    <tbody>
      <tr class="Rigaintestazione">
        <td style="border-right:0px">
          <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
          </p>
        </td>
        <td style="width:25%; {{ pointer_carica_dati }}; border-left:0px">
          <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
            {{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
          </span>
        </td>
      </tr>
    </tbody>
    {{ service.getPersonaREST( prefix + '_CodiceFiscale','TipoContesto', 'TipoLista',  {
      prefix + '_DataNascita':  'datanascita',
      prefix + '_Nome':  'nome',
      prefix + '_Cognome':  'cognome',
      prefix + '_Sesso':  'sesso',
      prefix + '_Nazionalita':  'nazionalita',
      prefix + '_Cittadinanza':  'stato',
      prefix + '_CodiceFamiglia':  'codiceFamiglia',
      prefix + '_CodiceVia':  'codiceVia',
      prefix + '_ProvinciaResidenza' : 'provincia',
      prefix + '_ComuneResidenza' : 'citta',
      prefix + '_ViaResidenza' : 'indirizzo',
      prefix + '_CivicoResidenza' : 'numeroCivico',
      prefix + '_BarraResidenza' : 'barra',
      prefix + '_CAPResidenza' : 'cap',
      prefix + '_Nazione' : 'nazione',
      prefix + '_LuogoNascita' : 'comuneNascita',
      prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
      prefix + '_MatricolaAnagrafe' : 'matricola',
    },
    '#' + prefix + '_CodiceFiscale:change','true') }}
  </table>

  <table class="Modulo" style="border:1px solid grey" mandatory="true">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="2">
          <p class="Labelcella">Cognome</p>
        </td>
        <td>
          <p class="Labelcella">Nome</p>
        </td>
        <td>
          <p class="Labelcella">Codice Fiscale</p>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome del {{ Solo1 }}"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome del {{ Solo1 }}"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del {{ Solo1 }}"/>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta" style="border-top:0px">
        <td style="width:24%;">
          <p class="Labelcella">Data di nascita</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella">Sesso (M/F)</p>
        </td>
        <td style="width: 33%;">
          <p class="Labelcella">Nazionalità</p>
        </td>
        <td style="width: 34%;">
          <p class="Labelcella">Luogo di nascita</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita del {{ Solo1 }}"/>
        </td>
        <td>
          <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso del {{ Solo1 }}">
            <option value=""></option>
            <option value="M">M</option>
            <option value="F">F</option>
          </select>
        </td>
        <td>
          {{ utils.stato( prefix + '_Cittadinanza', 'Cittadinanza' )}}
        </td>
        <td>
          <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita del {{ Solo1 }}"/>
        </td>
      </tr>
    </tbody>
  </table>

  {% if visibility_residenza == 'visibility:visibility' %}
  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory="true">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="6">
          <p class="Labelcella">Residenza</p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella">Civico</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella">CAP</p>
        </td>
      </tr>
      <tr>
        <td>
          {{ utils.provincie( prefix + '_ProvinciaResidenza', label='Provincia di residenza' )}}
        </td>
        <td>
          <select class="inputNormal" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza del {{ Solo1 }}"
					     dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaResidenza.value(), '{{ prefix }}_ComuneResidenza')">
					</select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" style="width:100%;" label="Via di residenza del {{ Solo1 }}"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" label="Civico di residenza del {{ Solo1 }}" maxlength="10"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza del {{ Solo1 }}" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'"/>
        </td>
      </tr>
    </tbody>
  </table>
  {% endif %}

  {% if visibility_mail == 'mail_ordinaria' %}
	<table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory="true">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:16.5%;">
          <p class="Labelcella">
            Telefono
          </p>
        </td>
				<td style="width:16.5%;">
					<p class="Labelcella">
						Fax
					</p>
				</td>
				<td style="width:33%;">
					<p class="Labelcella">
						E-mail <i>(posta elettronica ordinaria)</i>
					</p>
				</td>
				<td>
					<p class="Labelcella">
						E-mail PEC
							<i>
							(domicilio digitale)
							</i>
					</p>
				</td>
			</tr>
			<tr>
				<td>
					<input class="inputNormal" id="{{ prefix }}_Telefono" label="Telefono del {{ Solo1 }}" name="{{ prefix }}_Telefono" style="width:100%"/>
				</td>
				<td>
					<input class="inputNormal" id="{{ prefix }}_Fax" label="Fax del {{ Solo1 }}" mandatory="false" name="{{ prefix }}_Fax" style="width:100%"/>
				</td>
				<td>
					<input class="inputNormal" format="email" id="{{ prefix }}_EMail" label="E-mail ordinaria del {{ Solo1 }}" mandatory="false" name="{{ prefix }}_EMail" style="width:100%;"/>
				</td>
				<td>
					<input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="E-mail PEC del {{ Solo1 }}" mandatory="false" name="{{ prefix }}_EMailPEC" style="width:100%;" />
				</td>
			</tr>
		</tbody>
	</table>
  {% endif %}

  {% if visibility_mail == 'mail_pec'%}
	<table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory="true">
		<tbody>
			<tr class="Rigaintestazioneridotta">
				<td style="width:21%;">
					<p class="Labelcella">
						Telefono
					</p>
				</td>
				<td style="width:21%;">
					<p class="Labelcella">
						Fax
					</p>
				</td>
				<td>
					<p class="Labelcella">
						E-mail PEC <i>(domicilio digitale)</i>
					</p>
				</td>
			</tr>
			<tr>
				<td>
					<input class="inputNormal" id="{{ prefix }}_Telefono" label="Telefono del {{ Solo1 }}" name="{{ prefix }}_Telefono" style="width:100%"/>
				</td>
				<td>
					<input class="inputNormal" id="{{ prefix }}_Fax" label="Fax del {{ Solo1 }}" mandatory="false" name="{{ prefix }}_Fax" style="width:100%"/>
				</td>
				<td>
					{% if pec_obbligatoria == 'false'%}
					<input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="E-mail PEC del {{ Solo1 }}" name="{{ prefix }}_EMailPEC" style="width:100%"/>
					{% endif %}

				</td>
			</tr>
		</tbody>
	</table>
  {% endif %}
  <!-- simpatico start --></div><!-- simpatico end -->

  <table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey">
    <tbody>
      <tr class="Rigaintestazione">
        <td colspan="5">
          <p><b>in qualità di</b></p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td colspan="5">
          <p class="Labelcella">Ruolo</p>
        </td>
      </tr>
      <tr>
        <td colspan="5">
          <select class="inputNormal" id="{{ prefix }}_Ruolo" name="{{ prefix }}_Ruolo" style="width:100%;" mandatory_enabled="true" label="Ruolo del {{ Solo1 }}">
            <option value=""></option>
            {% for ruolo in ruoli %}
            <option value="{{ ruolo }}">{{ ruolo }}</option>
            {% endfor %}
          </select>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- simpatico start --><div class="simpatico-block simpatico-query-and-answer"><!-- simpatico end -->
  <table class="Modulo" style="border:1px solid grey">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="3">
          <p class="Labelcella">Denominazione/Ragione sociale (questa sezione deve essere compilata se il dichiarante non è la persona fisica)</p>
        </td>
        <td colspan="2">
          <p class="Labelcella">Tipologia</p>
        </td>
      </tr>
      <tr mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Responsabile unico del procedimento', 'Titolare omonima ditta individuale' ])">
        <td colspan="3">
          <input class="" id="{{ prefix }}_Denominazione" name="{{ prefix }}_Denominazione" style="width:100%" label="Denominazione/Ragione sociale"/>
        </td>
        <td colspan="2">
          {{ utils.tipologiaimpresa( prefix + '_TipologiaImpresa' )}}
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td colspan="5">
          <p class="Labelcella">Sede legale</p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella">Civico</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella">CAP</p>
        </td>
      </tr>
      <tr mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Responsabile unico del procedimento', 'Titolare omonima ditta individuale' ])">
        <td>
          {{ utils.provincie( prefix + '_ProvinciaSede', label="Provincia della sede legale") }}
        </td>
        <td>
          <select class="inputNormal" id="{{ prefix }}_ComuneSede" name="{{ prefix }}_ComuneSede" style="width:100%" label="Comune della sede legale" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaSede.value(), '{{ prefix }}_ComuneSede')">
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaSede" name="{{ prefix }}_ViaSede" style="width:100%;" label="Indirizzo della sede legale"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoSede" name="{{ prefix }}_CivicoSede" style="width:100%;" label="Civico della sede legale" maxlength="10"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPSede" name="{{ prefix }}_CAPSede" style="width:100%;" format="cap" label="CAP della sede legale" enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Titolare omonima ditta individuale' ])" mandatory="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Titolare omonima ditta individuale' ]) and #{{ prefix }}_ProvinciaSede.value() != 'EE'"/>
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Responsabile unico del procedimento', 'Titolare omonima ditta individuale' ])">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:50%;">
          <p class="Labelcella">Codice Fiscale / Partita IVA </p>
        </td>
        <td style="width:50%;">
          <p class="Labelcella">E-mail PEC (domicilio digitale)</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_CFPI" name="{{ prefix }}_CFPI" label="Codice fiscale" style="width:100%;" format="cfpiva"/>
        </td>
        {% if cciaa_visibile == 'true'%}
        <td>
          <input class="" id="{{ prefix }}_APEC" name="{{ prefix }}_APEC" label="PEC Azienda" style="width:100%;" format="pec" />
        </td>
        {% endif %}
        {% if cciaa_visibile == 'false'%}
        <td>
          <input class="" id="{{ prefix }}_PI" name="{{ prefix }}_PI" label="Partita IVA" style="width:100%;" format="piva" mandatory="true"/>
        </td>
        {% endif %}
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td>
          <p class="Labelcella">Telefono</p>
        </td>
        <td>
          <p class="Labelcella">Fax</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_TelefonoSede" name="{{ prefix }}_TelefonoSede" label="Telefono della sede legale" style="width:100%;"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_FaxSede" name="{{ prefix }}_FaxSede" label="Fax della sede legale" style="width:100%;" mandatory="false"/>
        </td>
      </tr>
    </tbody>
  </table>

	{% if cciaa_visibile == 'true'%}
  <table class="Modulo" style="margin-top:-1px; border:1px solid grey;">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:50%">
          <p class="Labelcella">Iscrizione al Registro Imprese della Camera di Commercio</p>
        </td>
        <td style="width:9%">
          <p class="Labelcella">Provincia</p>
        </td>
        <td style="width:41%">
          <p class="Labelcella">Numero iscrizione</p>
        </td>
      </tr>
      <tr>
        <td>
          <select class="inputNormal" id="{{ prefix }}_Attributi_IscrittoCCIAA" name="{{ prefix }}_Attributi_IscrittoCCIAA" label="Iscrizione al Registro Imprese della Camera di Commercio" style="width:100%" mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Titolare omonima ditta individuale' ])">
            <option value=""></option>
            <option value="iscritto">iscritto</option>
            <option value="in attesa di iscrizione">in attesa di iscrizione</option>
            <option value="non tenuto all'iscrizione">non tenuto all'iscrizione</option>
          </select>
        </td>
        <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto','in attesa di iscrizione' ])">
          {{ utils.provincie( prefix + '_Attributi_CCIAAProv', label="Provincia iscrizione al Registro Imprese della Camera di Commercio") }}
        </td>
        <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto' ])">
          <input class="" id="{{ prefix }}_Attributi_CCIAANumero" name="{{ prefix }}_Attributi_CCIAANumero" label="Numero iscrizione al Registro Imprese della Camera di Commercio" style="width:100%"/>
        </td>
      </tr>
    </tbody>
  </table>

	<input id="{{ prefix }}_Attributi_CCIAAProv_categoria" 		name="{{ prefix }}_Attributi_CCIAAProv_categoria" 		type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_CCIAAProv_nome" 			name="{{ prefix }}_Attributi_CCIAAProv_nome" 			type="hidden" value="Provincia registro imprese Camera Commercio"/>
	<input id="{{ prefix }}_Attributi_CCIAANumero_categoria" 	name="{{ prefix }}_Attributi_CCIAANumero_categoria" 	type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_CCIAANumero_nome" 		name="{{ prefix }}_Attributi_CCIAANumero_nome" 			type="hidden" value="Numero iscrizione registro imprese Camera Commerci"/>
	<input id="{{ prefix }}_Attributi_IscrittoCCIAA_categoria" 	name="{{ prefix }}_Attributi_IscrittoCCIAA_categoria" 	type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_IscrittoCCIAA_nome" 		name="{{ prefix }}_Attributi_IscrittoCCIAA_nome" 		type="hidden" value="Iscrizione registro imprese Camera Commercio"/>
	{% endif %}
</div>
</div>
{%- endmacro %}

{% macro persona_trasmissione( prefix='Titolare', intestazione="Il sottoscritto/La sottoscritta", ruoli=["Persona fisica", "Titolare", "Legale rappresentante", "Amministratore di condominio"], Solo1="Richiedente", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer") -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}
<!-- visibility:visibility or display:none, cursor:pointer or default; visibility_mail: no_mail or mail_ordinaria or mail_pec; pec_obbligatoria: true or false or never, cciaa_visibile true or false -->
<div type="Anagrafica_Società">

  <input type="hidden" name="TipoContesto" id="TipoContesto" value="GLOBO">
  <input type="hidden" name="TipoLista" id="TipoLista" value="PGLOBO">

  <div class="simpatico-block simpatico-query-and-answer">

    <h2 class="Modulo">
      Ai sensi della Legge urbanistica provinciale 04/08/2015, n. 15
    </h2>

    {% do all_prefix.append( prefix ) %}
    <input id="{{ prefix }}_Titolo" name="{{ prefix }}_Titolo" type="hidden" value="{{ Solo1 }}"/>

    <table class="Modulo" style="border:1px solid grey; margin-bottom:-6px">
      <tbody>
        <tr class="Rigaintestazione">
          <td style="border-right:0px">
            <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}</p>
          </td>
          <td style="width:25%; {{ pointer_carica_dati }}; border-left:0px">
            <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
              {{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
            </span>
          </td>
        </tr>
      </tbody>
      {{ service.getPersonaREST( prefix + '_CodiceFiscale','TipoContesto', 'TipoLista',  {
        prefix + '_DataNascita':  'datanascita',
        prefix + '_Nome':  'nome',
        prefix + '_Cognome':  'cognome',
        prefix + '_Sesso':  'sesso',
        prefix + '_Nazionalita':  'nazionalita',
        prefix + '_Cittadinanza':  'stato',
        prefix + '_CodiceFamiglia':  'codiceFamiglia',
        prefix + '_CodiceVia':  'codiceVia',
        prefix + '_ProvinciaResidenza' : 'provincia',
        prefix + '_ComuneResidenza' : 'citta',
        prefix + '_ViaResidenza' : 'indirizzo',
        prefix + '_CivicoResidenza' : 'numeroCivico',
        prefix + '_BarraResidenza' : 'barra',
        prefix + '_CAPResidenza' : 'cap',
        prefix + '_Nazione' : 'nazione',
        prefix + '_LuogoNascita' : 'comuneNascita',
        prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
        prefix + '_MatricolaAnagrafe' : 'matricola',
      },
      '#' + prefix +'_CodiceFiscale:change','true') }}
    </table>

    <table class="Modulo" style="border:1px solid grey" mandatory="true">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td>
            <p class="Labelcella">Cognome</p>
          </td>
          <td>
            <p class="Labelcella">Nome</p>
          </td>
          <td>
            <p class="Labelcella">Codice Fiscale</p>
          </td>
        </tr>
        <tr>
          <td>
            <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome del {{ Solo1 }}"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome del {{ Solo1 }}"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del {{ Solo1 }}" mandatory="#Tipo_richiedente1.checked()"/>
          </td>
        </tr>
      </tbody>
    </table>

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory="true">
      <tbody>
        <tr class="Rigaintestazioneridotta" style="border-top:0px">
          <td style="width:24%;">
            <p class="Labelcella">Data di nascita</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella">Sesso (M/F)</p>
          </td>
          <td style="width: 33%;">
            <p class="Labelcella">Nazionalità</p>
          </td>
          <td style="width: 34%;">
            <p class="Labelcella">Luogo di nascita</p>
          </td>
        </tr>
        <tr>
          <td>
            <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita del {{ Solo1 }}" mandatory="#Tipo_richiedente1.checked()"/>
          </td>
          <td>
            <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso del {{ Solo1 }}" mandatory="#Tipo_richiedente1.checked()">
              <option value=""></option>
              <option value="M">M</option>
              <option value="F">F</option>
            </select>
          </td>
          <td>
            {{ utils.stato( prefix + '_Cittadinanza', 'Cittadinanza' )}}
          </td>
          <td>
            <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita del {{ Solo1 }}" mandatory="#Tipo_richiedente1.checked()"/>
          </td>
        </tr>
      </tbody>
    </table>

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory="#Tipo_richiedente1.checked()">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td colspan="6">
            <p class="Labelcella">Residenza</p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:9%;">
            <p class="Labelcella">Provincia</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">Comune</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">Indirizzo</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella">Civico</p>
          </td>
          <td style="width:16%;">
            <p class="Labelcella">CAP</p>
          </td>
        </tr>
        <tr>
          <td>
            {{ utils.provincie( prefix + '_ProvinciaResidenza', label='Provincia di residenza' )}}
          </td>
          <td>
            <select class="inputNormal" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza del {{ Solo1 }}"
              dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaResidenza.value(), '{{ prefix }}_ComuneResidenza')">
            </select>
          </td>
          <td>
            <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" style="width:100%;" label="Via di residenza del {{ Solo1 }}"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" label="Civico di residenza del {{ Solo1 }}" maxlength="10"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza del {{ Solo1 }}" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE' and  #Tipo_richiedente1.checked()"/>
          </td>
        </tr>
      </tbody>
    </table>

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory="true">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td style="width:16.5%;">
            <p class="Labelcella">
              Telefono
            </p>
          </td>
          <td style="width:16.5%;">
            <p class="Labelcella">
              Fax
            </p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">
              E-mail <i>(posta elettronica ordinaria)</i>
            </p>
          </td>
          <td>
            <p class="Labelcella">
              E-mail PEC <i>(domicilio digitale)</i>
            </p>
          </td>
        </tr>
        <tr>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Telefono" label="Telefono del {{ Solo1 }}" name="{{ prefix }}_Telefono" style="width:100%"/>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Fax" label="Fax del {{ Solo1 }}" mandatory="false" name="{{ prefix }}_Fax" style="width:100%"/>
          </td>
          <td>
            <input class="inputNormal" format="email" id="{{ prefix }}_EMail" label="E-mail ordinaria del {{ Solo1 }}" mandatory="false" name="{{ prefix }}_EMail" style="width:100%;"/>
          </td>
          <td>
            <input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="E-mail PEC del {{ Solo1 }}" mandatory="false" name="{{ prefix }}_EMailPEC" style="width:100%;" />
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey">
    <tbody>
      <tr class="Rigaintestazione">
        <td colspan="5">
          <p><b>in qualità di</b></p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td colspan="5">
          <p class="Labelcella">Ruolo</p>
        </td>
      </tr>
      <tr>
        <td colspan="5">
          <select class="inputNormal" id="{{ prefix }}_Ruolo" name="{{ prefix }}_Ruolo" style="width:100%;" mandatory_enabled="true" label="Ruolo del {{ Solo1 }}">
            <option value=""></option>
            {% for ruolo in ruoli %}
            <option value="{{ ruolo }}">{{ ruolo }}</option>
            {% endfor %}
          </select>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- simpatico start --><div class="simpatico-block simpatico-query-and-answer"><!-- simpatico end -->
  <table class="Modulo" style="border:1px solid grey">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="3">
          <p class="Labelcella">Denominazione/Ragione sociale (questa sezione deve essere compilata se il dichiarante non è la persona fisica)</p>
        </td>
        <td colspan="2">
          <p class="Labelcella">Tipologia</p>
        </td>
      </tr>
      <tr mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Responsabile unico del procedimento' ])">
        <td colspan="3">
          <input class="" id="{{ prefix }}_Denominazione" name="{{ prefix }}_Denominazione" style="width:100%" label="Denominazione/Ragione sociale"/>
        </td>
        <td colspan="2">
          {{ utils.tipologiaimpresa( prefix + '_TipologiaImpresa' )}}
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td colspan="5">
          <p class="Labelcella">Sede legale</p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella">Civico</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella">CAP</p>
        </td>
      </tr>
      <tr mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Responsabile unico del procedimento' ])">
        <td>
          {{ utils.provincie( prefix + '_ProvinciaSede', label="Provincia della sede legale") }}
        </td>
        <td>
          <select class="inputNormal" id="{{ prefix }}_ComuneSede" name="{{ prefix }}_ComuneSede" style="width:100%" label="Comune della sede legale" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaSede.value(), '{{ prefix }}_ComuneSede')">
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaSede" name="{{ prefix }}_ViaSede" style="width:100%;" label="Indirizzo della sede legale"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoSede" name="{{ prefix }}_CivicoSede" style="width:100%;" label="Civico della sede legale" maxlength="10"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPSede" name="{{ prefix }}_CAPSede" style="width:100%;" format="cap" label="CAP della sede legale" enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale' ])" mandatory="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale' ]) and #{{ prefix }}_ProvinciaSede.value() != 'EE'"/>
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Responsabile unico del procedimento' ])">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:50%;">
          <p class="Labelcella">Codice Fiscale / Partita IVA </p>
        </td>
        <td style="width:50%;">
          <p class="Labelcella">E-mail PEC (domicilio digitale)</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_CFPI" name="{{ prefix }}_CFPI" label="Codice fiscale" style="width:100%;" format="cfpiva"/>
        </td>
        {% if cciaa_visibile == 'true'%}
        <td>
          <input class="" id="{{ prefix }}_APEC" name="{{ prefix }}_APEC" label="PEC Azienda" style="width:100%;" format="pec" />
        </td>
        {% endif %}
        {% if cciaa_visibile == 'false'%}
        <td>
          <input class="" id="{{ prefix }}_PI" name="{{ prefix }}_PI" label="Partita IVA" style="width:100%;" format="piva" mandatory="true"/>
        </td>
        {% endif %}
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td>
          <p class="Labelcella">Telefono</p>
        </td>
        <td>
          <p class="Labelcella">Fax</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_TelefonoSede" name="{{ prefix }}_TelefonoSede" label="Telefono della sede legale" style="width:100%;"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_FaxSede" name="{{ prefix }}_FaxSede" label="Fax della sede legale" style="width:100%;" mandatory="false"/>
        </td>
      </tr>
    </tbody>
  </table>

	{% if cciaa_visibile == 'true'%}
  <table class="Modulo" style="margin-top:-1px; border:1px solid grey;">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:50%">
          <p class="Labelcella">Iscrizione al Registro Imprese della Camera di Commercio</p>
        </td>
        <td style="width:9%">
          <p class="Labelcella">Provincia</p>
        </td>
        <td style="width:41%">
          <p class="Labelcella">Numero iscrizione</p>
        </td>
      </tr>
      <tr>
        <td>
          <select class="inputNormal" id="{{ prefix }}_Attributi_IscrittoCCIAA" name="{{ prefix }}_Attributi_IscrittoCCIAA" label="Iscrizione al Registro Imprese della Camera di Commercio" style="width:100%" mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale' ])">
            <option value=""></option>
            <option value="iscritto">iscritto</option>
            <option value="in attesa di iscrizione">in attesa di iscrizione</option>
            <option value="non tenuto all'iscrizione">non tenuto all'iscrizione</option>
          </select>
        </td>
        <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto','in attesa di iscrizione' ])">
          {{ utils.provincie( prefix + '_Attributi_CCIAAProv', label="Provincia iscrizione al Registro Imprese della Camera di Commercio") }}
        </td>
        <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto' ])">
          <input class="" id="{{ prefix }}_Attributi_CCIAANumero" name="{{ prefix }}_Attributi_CCIAANumero" label="Numero iscrizione al Registro Imprese della Camera di Commercio" style="width:100%"/>
        </td>
      </tr>
    </tbody>
  </table>

	<input id="{{ prefix }}_Attributi_CCIAAProv_categoria" 		name="{{ prefix }}_Attributi_CCIAAProv_categoria" 		type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_CCIAAProv_nome" 			name="{{ prefix }}_Attributi_CCIAAProv_nome" 			type="hidden" value="Provincia registro imprese Camera Commercio"/>
	<input id="{{ prefix }}_Attributi_CCIAANumero_categoria" 	name="{{ prefix }}_Attributi_CCIAANumero_categoria" 	type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_CCIAANumero_nome" 		name="{{ prefix }}_Attributi_CCIAANumero_nome" 			type="hidden" value="Numero iscrizione registro imprese Camera Commerci"/>
	<input id="{{ prefix }}_Attributi_IscrittoCCIAA_categoria" 	name="{{ prefix }}_Attributi_IscrittoCCIAA_categoria" 	type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_IscrittoCCIAA_nome" 		name="{{ prefix }}_Attributi_IscrittoCCIAA_nome" 		type="hidden" value="Iscrizione registro imprese Camera Commercio"/>
	{% endif %}
</div>

</div>
{%- endmacro %}

{% macro professionista( prefix='Referente1', intestazione="Il sottoscritto professionista abilitato", Solo1="Professionista", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", carica_campi="", visibility_intestazione="visibility:visibility", albo="provinciale", dati_studio_obbligatori="si") -%}
{% do all_prefix.append( prefix ) %}
<!-- visibility:visibility or display:none, cursor:pointer or default, albo: provinciale or regionale -->
<div type="Anagrafica_professionista">
    <!-- creare l'hidden type="checkbox" id="{{ prefix }}_DatiProfessionistaObbligatori" per settare l'obbligatorietà dei dati del professionista fuori dal <div> -->
    <!-- creare l'hidden type="checkbox" id="{{ prefix }}_DatiAlboProfessionistaObbligatori" per settare l'obbligatorietà dei dati dell'Albo del professionista fuori dal <div> -->
    <input id="{{ prefix }}_Titolo" name="{{ prefix }}_Titolo" type="hidden" value="{{ Solo1 }}"/>
    <input id="{{ prefix }}_Ruolo" name="{{ prefix }}_Ruolo" type="hidden" value="{{ Solo1 }}"/>

	<table class="Modulo" style="border:1px solid grey; {{ visibility_intestazione }}">
        <tbody>
            <tr class="Rigaintestazione">
                <td style="border-right:0px">
                    <p class="Labeltabella">{{ intestazione|safe }}
					</p>
                </td>
				<td style="width:39%; border-left:0px; border-right:0px">
                    <p class="Labeltabella">{{ carica_campi|safe }}</p>
                </td>
            </tr>
		</tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="#{{ prefix }}_DatiProfessionistaObbligatori.checked()">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:13%">
                    <p class="Labelcella">Titolo</p>
                </td>
                <td style="width:31%">
                    <p class="Labelcella">Cognome</p>
                </td>
                <td>
                    <p class="Labelcella">Nome</p>
                </td>
                <td style="width:25%">
                    <p class="Labelcella">Codice Fiscale</p>
                </td>
            </tr>
            <tr>
                <td>
                    <select class="inputNormal" id="{{ prefix }}_TitoloPersona" name="{{ prefix }}_TitoloPersona" style="width:100%;" label="Titolo del {{ Solo1 }}">
                        <option value=""></option>
                        <option value="Sig.">Sig.</option>
                        <option value="Sig.ra">Sig.ra</option>
                        <option value="Dott.">Dott.</option>
                        <option value="Dott.ssa">Dott.ssa</option>
                        <option value="Prof.">Prof.</option>
                        <option value="Prof.ssa">Prof.ssa</option>
                        <option value="Arch.">Arch.</option>
                        <option value="Ing.">Ing.</option>
                        <option value="Comm.">Comm.</option>
                        <option value="Avv.">Avv.</option>
                        <option value="Geom.">Geom.</option>
                    </select>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome del {{ Solo1 }}"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome del {{ Solo1 }}"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del {{ Solo1 }}"/>
                </td>
            </tr>
		</tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_DatiProfessionistaObbligatori.checked()">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:24%;">
                    <p class="Labelcella">Data di nascita</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Sesso (M/F)</p>
                </td>
                <td style="width: 33%;">
                    <p class="Labelcella">Nazionalità del progettista</p>
                </td>
                <td style="width: 34%;">
                    <p class="Labelcella">Luogo di nascita</p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data nascita del {{ Solo1 }}"/>
                </td>
                <td>
                    <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso del {{ Solo1 }}">
                        <option value=""></option>
                        <option value="M">M</option>
                        <option value="F">F</option>
                    </select>
                </td>
                <td>
                   {{ utils.nazionalita( prefix + '_Cittadinanza', 'Cittadinanza' )}}
                </td>
                <td>
                    <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Lugo di nascita del {{ Solo1 }}"/>
                </td>
            </tr>
		</tbody>
    </table>
    {% if albo == 'provinciale'%}
	<table class="Modulo" style="border:1px solid grey; margin-top:-1px;" enabled="#{{ prefix }}_DatiProfessionistaObbligatori.checked()">
        <tbody>
			<tr class="Rigaintestazioneridotta">
				<td style="width:24%">
					<p class="Labelcella">Partita IVA</p>
				</td>
				<td style="width:42%">
					<p class="Labelcella">Albo o Ordine</p>
				</td>
				<td style="width:9%">
					<p class="Labelcella">Provincia</p>
				</td>
				<td style="width:25%">
					<p class="Labelcella">Numero iscrizione</p>
				</td>
			</tr>
			<tr>
				<td>
					<input style="width: 100%" id="{{ prefix }}_PartitaIVA" class="inputNormal" name="{{ prefix }}_PartitaIVA" format="cfpiva" label="Partita IVA del {{ Solo1 }}" mandatory="false"/>
				</td>
				<td mandatory="#{{ prefix }}_DatiProfessionistaObbligatori.checked()">
					{{ utils.albi( prefix + '_Attributi_Albo' )}}
				</td>
				<td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
					{{ utils.provincie( prefix + '_Attributi_DellaProvincia', label="Provincia iscrizione Albo") }}
				</td>
				<td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
					<input style="width: 100%" id="{{ prefix }}_Attributi_AlNumero" class="inputNormal" name="{{ prefix }}_Attributi_AlNumero" label="Numero iscrizione Albo"/>
				</td>
			</tr>
		</tbody>
    </table>
	{% endif %}
    {% if albo == 'regionale'%}
	<table class="Modulo" style="border:1px solid grey; margin-top:-1px;" enabled="#{{ prefix }}_DatiProfessionistaObbligatori.checked()">
        <tbody>
			<tr class="Rigaintestazioneridotta">
				<td style="width:24%">
					<p class="Labelcella">Partita IVA</p>
				</td>
				<td style="width:40%">
					<p class="Labelcella">Albo o Ordine</p>
				</td>
				<td>
					<p class="Labelcella">Regione</p>
				</td>
				<td style="width:16%">
					<p class="Labelcella">Numero iscrizione</p>
				</td>
			</tr>
			<tr>
				<td>
					<input style="width: 100%" id="{{ prefix }}_PartitaIVA" class="inputNormal" name="{{ prefix }}_PartitaIVA" format="cfpiva" label="Partita IVA del {{ Solo1 }}" mandatory="false"/>
				</td>
				<td mandatory="#{{ prefix }}_DatiProfessionistaObbligatori.checked()">
					{{ utils.albi( prefix + '_Attributi_Albo' )}}
				</td>
				<td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
					{{ utils.regioni( prefix + '_DellaRegione', label="Regione iscrizione Albo") }}
				</td>
				<td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
					<input style="width: 100%" id="{{ prefix }}_Attributi_AlNumero" class="inputNormal" name="{{ prefix }}_Attributi_AlNumero" label="Numero iscrizione Albo"/>
				</td>
			</tr>
		</tbody>
    </table>
	{% endif %}
	{% if dati_studio_obbligatori == 'si'%}
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_DatiProfessionistaObbligatori.checked()">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td colspan="5" style="width: 100%;">
                    <p class="Labelcella">Studio Professionale</p>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:9%;">
                    <p class="Labelcella">Provincia</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Comune</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Indirizzo</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Civico</p>
                </td>
                <td style="width:16%;">
                    <p class="Labelcella">CAP</p>
                </td>
            </tr>
            <tr>
                <td>
					{{ utils.provincie( prefix + '_ProvinciaStudio', label="Provincia dello studio") }}
                </td>
                <td>
					<select class="inputNormal" id="{{ prefix }}_ComuneStudio" name="{{ prefix }}_ComuneStudio" style="width:100%" label="Comune dello studio del {{ Solo1 }}" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaStudio.value(), '{{ prefix }}_ComuneStudio')">
					</select>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_ViaStudio" name="{{ prefix }}_ViaStudio" style="width:100%;" label="Indirizzo dello studio del {{ Solo1 }}"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CivicoStudio" name="{{ prefix }}_CivicoStudio" style="width:100%;" label="Civico dello studio del {{ Solo1 }}" maxlength="10"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CAPStudio" name="{{ prefix }}_CAPStudio" style="width:100%;" format="cap" label="CAP dello studio del {{ Solo1 }}" enabled="#{{ prefix }}_DatiProfessionistaObbligatori.checked()" mandatory="#{{ prefix }}_DatiProfessionistaObbligatori.checked() and #{{ prefix }}_ProvinciaStudio.value() != 'EE'"/>
                </td>
            </tr>
        </tbody>
    </table>
	{% endif %}
	{% if dati_studio_obbligatori == 'no'%}
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" enabled="#{{ prefix }}_DatiProfessionistaObbligatori.checked()">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td colspan="5" style="width: 100%;">
                    <p class="Labelcella">Studio Professionale</p>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:9%;">
                    <p class="Labelcella">Provincia</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Comune</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Indirizzo</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Civico</p>
                </td>
                <td style="width:16%;">
                    <p class="Labelcella">CAP</p>
                </td>
            </tr>
            <tr>
                <td>
					{{ utils.provincie( prefix + '_ProvinciaStudio', label="Provincia dello studio") }}
                </td>
                <td>
					<select class="inputNormal" id="{{ prefix }}_ComuneStudio" name="{{ prefix }}_ComuneStudio" style="width:100%" label="Comune dello studio del {{ Solo1 }}" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaStudio.value(), '{{ prefix }}_ComuneStudio')">
					</select>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_ViaStudio" name="{{ prefix }}_ViaStudio" style="width:100%;" label="Indirizzo dello studio del {{ Solo1 }}"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CivicoStudio" name="{{ prefix }}_CivicoStudio" style="width:100%;" label="Civico dello studio del {{ Solo1 }}" maxlength="10"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CAPStudio" name="{{ prefix }}_CAPStudio" style="width:100%;" format="cap" label="CAP dello studio del {{ Solo1 }}" enabled="#{{ prefix }}_DatiProfessionistaObbligatori.checked()"/>
                </td>
            </tr>
        </tbody>
    </table>
	{% endif %}
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_DatiProfessionistaObbligatori.checked()">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:24%;">
                    <p class="Labelcella">Telefono</p>
                </td>
                <td style="width:26%;">
                    <p class="Labelcella">Fax</p>
                </td>
                <td style="width:50%;">
                    <p class="Labelcella">
                        E-mail PEC
                            <i>(domicilio digitale)</i>
                    </p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefix }}_TelefonoStudio" name="{{ prefix }}_TelefonoStudio" style="width:100%" label="Telefono del {{ Solo1 }}"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_FaxStudio" name="{{ prefix }}_FaxStudio" style="width:100%" mandatory="false" label="Fax del {{ Solo1 }}"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_EMailPEC" name="{{ prefix }}_EMailPEC" style="width:100%;" format="pec" label="E-mail PEC del {{ Solo1 }}"/>
                </td>
            </tr>
        </tbody>
    </table>
	<input id="{{ prefix }}_Attributi_Albo_categoria" 			name="{{ prefix }}_Attributi_Albo_categoria" 		   type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_Albo_nome" 				name="{{ prefix }}_Attributi_Albo_nome" 			   type="hidden" value="Albo professionale"/>
	<input id="{{ prefix }}_Attributi_AlNumero_categoria" 		name="{{ prefix }}_Attributi_AlNumero_categoria"	   type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_AlNumero_nome" 			name="{{ prefix }}_Attributi_AlNumero_nome" 		   type="hidden" value="Numero iscrizione Albo professionale"/>
	<input id="{{ prefix }}_Attributi_DellaProvincia_categoria" name="{{ prefix }}_Attributi_DellaProvincia_categoria" type="hidden" value="Altri dati"/>
    <input id="{{ prefix }}_Attributi_DellaProvincia_nome" 		name="{{ prefix }}_Attributi_DellaProvincia_nome" 	   type="hidden" value="Provincia Albo professionale"/>
    
 
</div>
{%- endmacro %}

{% macro professionista_direttore_lavori( prefix='Referente1', intestazione="Il sottoscritto professionista abilitato", Solo1="Professionista") -%}
{% do all_prefix.append( prefix ) %}
<!-- visibility:visibility or display:none, cursor:pointer or default, albo: provinciale or regionale -->
<div type="Anagrafica_professionista">
  <!-- creare l'hidden type="checkbox" id="{{ prefix }}_DatiProfessionistaObbligatori" per settare l'obbligatorietà dei dati del professionista fuori dal <div> -->
  <!-- creare l'hidden type="checkbox" id="{{ prefix }}_DatiAlboProfessionistaObbligatori" per settare l'obbligatorietà dei dati dell'Albo del professionista fuori dal <div> -->
  <input id="{{ prefix }}_Titolo" name="{{ prefix }}_Titolo" type="hidden" value="{{ Solo1 }}"/>
  <input id="{{ prefix }}_Ruolo" name="{{ prefix }}_Ruolo" type="hidden" value="{{ Solo1 }}"/>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
    <tbody>
      <tr class="Rigaintestazione">
        <td style="border-right:0px" colspan="4">
          <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
          </p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:13%">
          <p class="Labelcella">Titolo</p>
        </td>
        <td style="width:31%">
          <p class="Labelcella">Cognome</p>
        </td>
        <td>
          <p class="Labelcella">Nome</p>
        </td>
        <td style="width:25%">
          <p class="Labelcella">Codice Fiscale</p>
        </td>
      </tr>
      <tr>
        <td>
          <select class="inputNormal" id="{{ prefix }}_TitoloPersona" name="{{ prefix }}_TitoloPersona" style="width:100%;" label="Titolo del {{ Solo1 }}">
            <option value=""></option>
            <option value="Dott.">Dott.</option>
            <option value="Dott.ssa">Dott.ssa</option>
            <option value="Arch.">Arch.</option>
            <option value="Ing.">Ing.</option>
            <option value="Comm.">Perito</option>
            <option value="Geom.">Geom.</option>
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome del {{ Solo1 }}"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome del {{ Solo1 }}"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del {{ Solo1 }}"/>
        </td>
      </tr>
    </tbody>
  </table>
</div>
{%- endmacro %}


{% macro soggetto_certificazione( prefix='Referente1', intestazione="Il sottoscritto professionista abilitato", Solo1="Professionista") -%}
{% do all_prefix.append( prefix ) %}
<!-- visibility:visibility or display:none, cursor:pointer or default, albo: provinciale or regionale -->
<div type="Anagrafica_professionista">
  <!-- creare l'hidden type="checkbox" id="{{ prefix }}_DatiProfessionistaObbligatori" per settare l'obbligatorietà dei dati del professionista fuori dal <div> -->
  <!-- creare l'hidden type="checkbox" id="{{ prefix }}_DatiAlboProfessionistaObbligatori" per settare l'obbligatorietà dei dati dell'Albo del professionista fuori dal <div> -->
  <input id="{{ prefix }}_Titolo" name="{{ prefix }}_Titolo" type="hidden" value="{{ Solo1 }}"/>
  <input id="{{ prefix }}_Ruolo" name="{{ prefix }}_Ruolo" type="hidden" value="{{ Solo1 }}"/>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="#Incarico_soggetto_certificatore2.checked()">
    <tbody>
      <tr class="Rigaintestazione">
        <td colspan="4">
          <p><b>SOGGETTO ABILITATO ALLA CERTIFICAZIONE ENERGETICA</b></p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:13%">
          <p class="Labelcella">Titolo</p>
        </td>
        <td style="width:31%">
          <p class="Labelcella">Cognome</p>
        </td>
        <td>
          <p class="Labelcella">Nome</p>
        </td>
        <td style="width:25%">
          <p class="Labelcella">Codice Fiscale</p>
        </td>
      </tr>
      <tr>
        <td>
          <select class="inputNormal" id="{{ prefix }}_TitoloPersona" name="{{ prefix }}_TitoloPersona" style="width:100%;" label="Titolo del {{ Solo1 }}">
            <option value=""></option>
            <option value="Dott.">Dott.</option>
            <option value="Dott.ssa">Dott.ssa</option>
            <option value="Arch.">Arch.</option>
            <option value="Ing.">Ing.</option>
            <option value="Comm.">Perito</option>
            <option value="Geom.">Geom.</option>
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome del {{ Solo1 }}"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome del {{ Solo1 }}"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del {{ Solo1 }}" mandatory="true"/>
        </td>
      </tr>
    </tbody>
  </table>
</div>
{%- endmacro %}

{% macro legale_rappresentante( prefix='Referente1', intestazione="Il sottoscritto professionista abilitato", Solo1="Professionista") -%}
{% do all_prefix.append( prefix ) %}
<!-- visibility:visibility or display:none, cursor:pointer or default, albo: provinciale or regionale -->
<div type="Anagrafica_professionista">
  <!-- creare l'hidden type="checkbox" id="{{ prefix }}_DatiProfessionistaObbligatori" per settare l'obbligatorietà dei dati del professionista fuori dal <div> -->
  <!-- creare l'hidden type="checkbox" id="{{ prefix }}_DatiAlboProfessionistaObbligatori" per settare l'obbligatorietà dei dati dell'Albo del professionista fuori dal <div> -->
  <input id="{{ prefix }}_Titolo" name="{{ prefix }}_Titolo" type="hidden" value="{{ Solo1 }}"/>
  <input id="{{ prefix }}_Ruolo" name="{{ prefix }}_Ruolo" type="hidden" value="{{ Solo1 }}"/>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
    <tbody>
      <tr class="Rigaintestazione">
        <td colspan="4">
          <p>indica quale <b>LEGALE RAPPRESENTANTE</b></p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:13%">
          <p class="Labelcella">Titolo</p>
        </td>
        <td style="width:31%">
          <p class="Labelcella">Cognome</p>
        </td>
        <td>
          <p class="Labelcella">Nome</p>
        </td>
        <td style="width:25%">
          <p class="Labelcella">Codice Fiscale</p>
        </td>
      </tr>
      <tr>
        <td>
          <select class="inputNormal" id="{{ prefix }}_TitoloPersona" name="{{ prefix }}_TitoloPersona" style="width:100%;" label="Titolo del {{ Solo1 }}">
            <option value=""></option>
            <option value="Dott.">Dott.</option>
            <option value="Dott.ssa">Dott.ssa</option>
            <option value="Arch.">Arch.</option>
            <option value="Ing.">Ing.</option>
            <option value="Comm.">Perito</option>
            <option value="Geom.">Geom.</option>
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome del {{ Solo1 }}"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome del {{ Solo1 }}"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del {{ Solo1 }}" mandatory="true"/>
        </td>
      </tr>
    </tbody>
  </table>
</div>
{%- endmacro %}

{% macro impresa( prefix='Referente1', intestazione="Il sottoscritto professionista abilitato", Solo1="Professionista", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", carica_campi="", visibility_intestazione="visibility:visibility", albo="provinciale") -%}
{% do all_prefix.append( prefix ) %}
<!-- visibility:visibility or display:none, cursor:pointer or default, albo: provinciale or regionale -->
<div type="Anagrafica_professionista">
  <!-- creare l'hidden type="checkbox" id="{{ prefix }}_DatiProfessionistaObbligatori" per settare l'obbligatorietà dei dati del professionista fuori dal <div> -->
  <!-- creare l'hidden type="checkbox" id="{{ prefix }}_DatiAlboProfessionistaObbligatori" per settare l'obbligatorietà dei dati dell'Albo del professionista fuori dal <div> -->
  <input id="{{ prefix }}_Titolo" name="{{ prefix }}_Titolo" type="hidden" value="{{ Solo1 }}"/>
  <input id="{{ prefix }}_Ruolo" name="{{ prefix }}_Ruolo" type="hidden" value="{{ Solo1 }}"/>

  <div class="simpatico-block simpatico-query-and-answer">

    <table class="Modulo" style="border:1px solid grey; {{ visibility_intestazione }}">
      <tbody>
        <tr class="Rigaintestazione">
          <td style="border-right:0px">
            <p class="Labeltabella">{{ intestazione|safe }}</p>
          </td>
          <td style="width:39%; border-left:0px; border-right:0px">
            <p class="Labeltabella">{{ carica_campi|safe }}</p>
          </td>
          <td style="width:25%; {{ pointer_carica_dati }}; border-left:0px">
            <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
              {{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
            </span>
          </td>
        </tr>
      </tbody>
    </table>

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td style="width:13%">
            <p class="Labelcella">Titolo</p>
          </td>
          <td style="width:31%">
            <p class="Labelcella">Cognome</p>
          </td>
          <td>
            <p class="Labelcella">Nome</p>
          </td>
          <td style="width:25%">
            <p class="Labelcella">Codice Fiscale</p>
          </td>
        </tr>
        <tr>
          <td>
            <select class="inputNormal" id="{{ prefix }}_TitoloPersona" name="{{ prefix }}_TitoloPersona" style="width:100%;" label="Titolo del {{ Solo1 }} / denominazione">
              <option value=""></option>
              <option value="Sig.">Sig.</option>
              <option value="Sig.ra">Sig.ra</option>
              <option value="Dott.">Dott.</option>
              <option value="Dott.ssa">Dott.ssa</option>
              <option value="Prof.">Prof.</option>
              <option value="Prof.ssa">Prof.ssa</option>
              <option value="Arch.">Arch.</option>
              <option value="Ing.">Ing.</option>
              <option value="Comm.">Comm.</option>
              <option value="Avv.">Avv.</option>
              <option value="Geom.">Geom.</option>
            </select>
          </td>
          <td>
            <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome del {{ Solo1 }}"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome del {{ Solo1 }}"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del {{ Solo1 }}" mandatory="#Tipo_richiedente2.checked()"/>
          </td>
        </tr>
      </tbody>
    </table>

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory="#Tipo_richiedente2.checked()">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td style="width:24%;">
            <p class="Labelcella">Data di nascita</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella">Sesso (M/F)</p>
          </td>
          <td style="width: 33%;">
            <p class="Labelcella">Nazionalità del progettista</p>
          </td>
          <td style="width: 34%;">
            <p class="Labelcella">Luogo di nascita</p>
          </td>
        </tr>
        <tr>
          <td>
            <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data nascita del {{ Solo1 }}"/>
          </td>
          <td>
            <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso del {{ Solo1 }}">
              <option value=""></option>
              <option value="M">M</option>
              <option value="F">F</option>
            </select>
          </td>
          <td>
            {{ utils.nazionalita( prefix + '_Cittadinanza', 'Cittadinanza' )}}
          </td>
          <td>
            <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Lugo di nascita del {{ Solo1 }}"/>
          </td>
        </tr>
      </tbody>
    </table>


    {% if albo == 'provinciale'%}
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td style="width:24%">
            <p class="Labelcella">Partita IVA</p>
          </td>
          <td style="width:42%">
            <p class="Labelcella">Albo o Ordine</p>
          </td>
          <td style="width:9%">
            <p class="Labelcella">Provincia</p>
          </td>
          <td style="width:25%">
            <p class="Labelcella">Numero iscrizione</p>
          </td>
        </tr>
        <tr>
          <td>
            <input style="width: 100%" id="{{ prefix }}_PartitaIVA" class="inputNormal" name="{{ prefix }}_PartitaIVA" format="cfpiva" label="Partita IVA del {{ Solo1 }}" mandatory="false"/>
          </td>
          <td>
            {{ utils.albi( prefix + '_Attributi_Albo' )}}
          </td>
          <td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
            {{ utils.provincie( prefix + '_Attributi_DellaProvincia', label="Provincia iscrizione Albo") }}
          </td>
          <td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
            <input style="width: 100%" id="{{ prefix }}_Attributi_AlNumero" class="inputNormal" name="{{ prefix }}_Attributi_AlNumero" label="Numero iscrizione Albo"/>
          </td>
        </tr>
      </tbody>
    </table>
  	{% endif %}

    {% if albo == 'regionale'%}
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td style="width:24%">
            <p class="Labelcella">Partita IVA</p>
          </td>
          <td style="width:40%">
            <p class="Labelcella">Albo o Ordine</p>
          </td>
          <td>
            <p class="Labelcella">Regione</p>
          </td>
          <td style="width:16%">
            <p class="Labelcella">Numero iscrizione</p>
          </td>
        </tr>
        <tr>
          <td>
            <input style="width: 100%" id="{{ prefix }}_PartitaIVA" class="inputNormal" name="{{ prefix }}_PartitaIVA" format="cfpiva" label="Partita IVA del {{ Solo1 }}" mandatory="false"/>
          </td>
          <td>
            {{ utils.albi( prefix + '_Attributi_Albo' )}}
          </td>
          <td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
            {{ utils.regioni( prefix + '_DellaRegione', label="Regione iscrizione Albo") }}
          </td>
          <td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
            <input style="width: 100%" id="{{ prefix }}_Attributi_AlNumero" class="inputNormal" name="{{ prefix }}_Attributi_AlNumero" label="Numero iscrizione Albo"/>
          </td>
        </tr>
      </tbody>
    </table>
    {% endif %}

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td colspan="5" style="width: 100%;">
            <p class="Labelcella">Studio Professionale</p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:9%;">
            <p class="Labelcella">Provincia</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">Comune</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">Indirizzo</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella">Civico</p>
          </td>
          <td style="width:16%;">
            <p class="Labelcella">CAP</p>
          </td>
        </tr>
        <tr>
          <td>
            {{ utils.provincie( prefix + '_ProvinciaStudio', label="Provincia dello studio") }}
          </td>
          <td>
            <select class="inputNormal" id="{{ prefix }}_ComuneStudio" name="{{ prefix }}_ComuneStudio" style="width:100%" label="Comune dello studio del {{ Solo1 }}" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaStudio.value(), '{{ prefix }}_ComuneStudio')">
            </select>
          </td>
          <td>
            <input class="" id="{{ prefix }}_ViaStudio" name="{{ prefix }}_ViaStudio" style="width:100%;" label="Indirizzo dello studio del {{ Solo1 }}"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_CivicoStudio" name="{{ prefix }}_CivicoStudio" style="width:100%;" label="Civico dello studio del {{ Solo1 }}" maxlength="10"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_CAPStudio" name="{{ prefix }}_CAPStudio" style="width:100%;" format="cap" label="CAP dello studio del {{ Solo1 }}" enabled="#{{ prefix }}_ProvinciaStudio.value() != 'EE'"/>
          </td>
        </tr>
      </tbody>
    </table>

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td style="width:24%;">
            <p class="Labelcella">Telefono</p>
          </td>
          <td style="width:26%;">
            <p class="Labelcella">Fax</p>
          </td>
          <td style="width:50%;">
            <p class="Labelcella">
              E-mail PEC <i>(domicilio digitale)</i>
            </p>
          </td>
        </tr>
        <tr>
          <td>
            <input class="" id="{{ prefix }}_TelefonoStudio" name="{{ prefix }}_TelefonoStudio" style="width:100%" label="Telefono del {{ Solo1 }}"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_FaxStudio" name="{{ prefix }}_FaxStudio" style="width:100%" mandatory="false" label="Fax del {{ Solo1 }}"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_EMailPEC" name="{{ prefix }}_EMailPEC" style="width:100%;" format="pec" label="E-mail PEC del {{ Solo1 }}"/>
          </td>
        </tr>
      </tbody>
    </table>
    <input id="{{ prefix }}_Attributi_Albo_categoria" 			name="{{ prefix }}_Attributi_Albo_categoria" 		   type="hidden" value="Altri dati"/>
    <input id="{{ prefix }}_Attributi_Albo_nome" 				name="{{ prefix }}_Attributi_Albo_nome" 			   type="hidden" value="Albo professionale"/>
    <input id="{{ prefix }}_Attributi_AlNumero_categoria" 		name="{{ prefix }}_Attributi_AlNumero_categoria"	   type="hidden" value="Altri dati"/>
    <input id="{{ prefix }}_Attributi_AlNumero_nome" 			name="{{ prefix }}_Attributi_AlNumero_nome" 		   type="hidden" value="Numero iscrizione Albo professionale"/>
    <input id="{{ prefix }}_Attributi_DellaProvincia_categoria" name="{{ prefix }}_Attributi_DellaProvincia_categoria" type="hidden" value="Altri dati"/>
    <input id="{{ prefix }}_Attributi_DellaProvincia_nome" 		name="{{ prefix }}_Attributi_DellaProvincia_nome" 	   type="hidden" value="Provincia Albo professionale"/>

  </div>
</div>
{%- endmacro %}


{% macro richiedente( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", visibility_residenza="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}

<input type="hidden" name="TipoContesto" id="TipoContesto" value="GLOBO">
<input type="hidden" name="TipoLista" id="TipoLista" value="PGLOBO">

<table class="Modulo" style="border:1px solid grey; {{ visibility_intestazione }}">
  <tbody>
    <tr class="Rigaintestazione">
      <td style="border-right:0px">
        <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
        </p>
      </td>
      <td style="width:20%; border-left:0px; border-right:0px">
        <p class="Labeltabella">{{ carica_campi|safe }}</p>
      </td>
      <td style="width:30%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
        <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
          {{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
        </span>
      </td>
    </tr>
  </tbody>

  {{ service.getPersonaREST( 'AventeTitolo_CodiceFiscale','TipoContesto', 'TipoLista',  {
    'AventeTitolo_DataNascita':  'datanascita',
    'AventeTitolo_Nome':  'nome',
    'AventeTitolo_Cognome':  'cognome',
    'AventeTitolo_Sesso':  'sesso',
    'AventeTitolo_Nazionalita':  'stato',
    'AventeTitolo_Cittadinanza':  'nazionalita',
    'AventeTitolo_CodiceFamiglia':  'codiceFamiglia',
    'AventeTitolo_CodiceVia':  'codiceVia',
    'AventeTitolo_ProvinciaResidenza' : 'provincia',
    'AventeTitolo_ComuneResidenza' : 'citta',
    'AventeTitolo_ViaResidenza' : 'indirizzo',
    'AventeTitolo_CivicoResidenza' : 'numeroCivico',
    'AventeTitolo_BarraResidenza' : 'barra',
    'AventeTitolo_CAPResidenza' : 'cap',
    'AventeTitolo_Nazione' : 'nazione',
    'AventeTitolo_LuogoNascita' : 'comuneNascita',
    'AventeTitolo_CodiceComuneNascita' : 'codiceComuneNascita',
    'AventeTitolo_MatricolaAnagrafe' : 'matricola',
  },
  '#AventeTitolo_CodiceFiscale:change','true') }}
</table>

<table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
  <tbody>
    <tr class="Rigaintestazioneridotta">
      <td colspan="2">
        <p class="Labelcella">Cognome</p>
      </td>
      <td>
        <p class="Labelcella">Nome</p>
      </td>
      <td>
        <p class="Labelcella">Codice Fiscale</p>
      </td>
    </tr>
    <tr>
      <td colspan="2">
        <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale"/>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td style="width:24%;">
        <p class="Labelcella">Data di nascita</p>
      </td>
      <td style="width:9%;">
        <p class="Labelcella">Sesso (M/F)</p>
      </td>
      <td style="width: 33%;">
        <p class="Labelcella">Nazionalità</p>
      </td>
      <td style="width: 34%;">
        <p class="Labelcella">Luogo di nascita</p>
      </td>
    </tr>
    <tr>
      <td>
        <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
      </td>
      <td>
        <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
          <option value=""></option>
          <option value="M">M</option>
          <option value="F">F</option>
        </select>
      </td>
      <td>
        {{ utils.stato( prefix + '_Nazionalita', label='Nazionalità')}}
      </td>
      <td>
        <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
      </td>
    </tr>
  </tbody>
</table>

{% if visibility_residenza == 'visibility:visibility' %}
<table class="Modulo" style="border:1px solid grey; margin-top:-1px; {{ visibility_residenza }} ">
  <tbody>
    <tr class="Rigaintestazioneridotta">
      <td colspan="6">
        <p class="Labelcella">Residenza</p>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td style="width:9%;">
        <p class="Labelcella">Provincia</p>
      </td>
      <td style="width:33%;">
        <p class="Labelcella">Comune</p>
      </td>
      <td style="width:33%;">
        <p class="Labelcella">Indirizzo</p>
      </td>
      <td style="width:9%;">
        <p class="Labelcella">Civico</p>
      </td>
      <td style="width:9%;">
        <p class="Labelcella">Barra</p>
      </td>
      <td style="width:16%;">
        <p class="Labelcella">CAP</p>
      </td>
    </tr>
    <tr>
      <td>
        {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
      </td>
      <td>
        <input class="" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" mandatory_enabled="true"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" maxlength="40" style="width:100%;" label="Via di residenza" mandatory_enabled="true"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" format="number" label="Civico di residenza" maxlength="10" mandatory_enabled="true"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_BarraResidenza" name="{{ prefix }}_BarraResidenza" style="width:100%;" label="Barra di residenza" maxlength="3" enabled="true"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza" enabled="#{{ prefix }}_CodiceFiscale.value() != '' and #{{ prefix }}_ProvinciaResidenza.value() != 'EE'" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'"/>
      </td>
    </tr>
  </tbody>
</table>
{% endif %}

<table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
  <tbody>
    <tr class="Rigaintestazioneridotta">
      <td style="width:16.5%;">
        <p class="Labelcella">
          Numero cellulare
        </p>
      </td>
      <td style="width:16.5%;">
        <p class="Labelcella">
          Fax
        </p>
      </td>
      <td style="width:33%;">
        <p class="Labelcella">
          E-mail
          <i>
            (posta elettronica ordinaria)
          </i>
        </p>
      </td>
      <td>
        <p class="Labelcella">
          E-mail PEC
          <i>
            (domicilio digitale)
          </i>
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Telefono" label="Telefono" name="{{ prefix }}_Telefono" style="width:100%" maxlength="13" mandatory_enabled="true"/>
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Fax" label="Fax" mandatory="false" name="{{ prefix }}_Fax" style="width:100%" maxlength="13" enabled="true"/>
      </td>
      <td>
        <input class="inputNormal" format="email" id="{{ prefix }}_EMail" label="E-mail ordinaria" name="{{ prefix }}_EMail" style="width:100%;" maxlength="60" mandatory_enabled="#Tipo_richiedente3.checked()"/>
      </td>
      <td>
        <input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="E-mail PEC del {{ Solo1 }}" name="{{ prefix }}_EMailPEC" style="width:100%;" maxlength="60" mandatory_enabled="#Tipo_richiedente1.checked() || #Tipo_richiedente2.checked() || #Tipo_richiedente4.checked() || #Tipo_richiedente5.checked()"/>
      </td>
    </tr>
  </tbody>
</table>

<input type="hidden" id="AventeTitolo_CodiceVia" name="AventeTitolo_CodiceVia"/>
<input type="hidden" id="AventeTitolo_MatricolaAnagrafe" name="AventeTitolo_MatricolaAnagrafe"/>
<input type="hidden" id="AventeTitolo_Nazione" name="AventeTitolo_Nazione"/>
<input type="hidden" id="AventeTitolo_CodiceComuneNascita" name="AventeTitolo_CodiceComuneNascita"/>
{%- endmacro %}


{% macro persona_fisica( prefix='AventeTitolo', intestazione="Il sottoscritto", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", visibility_residenza="visibility:visibility", visibility_mail="no_mail", carica_campi="", cf_obbligatorio="true", format_telefono_numerico="false", pec_obbligatoria ="false"  ) -%}
{% do all_prefix.append( prefix ) %}
  <!-- visibility:visibility or display:none, cursor:pointer or default; visibility_mail: no_mail or mail_ordinaria or mail_pec, cf_obbligatorio: true or false -->
  <!-- creare l'hidden <input id="{{ prefix }}_DatiPersonaObbligatori" name="{{ prefix }}_DatiPersonaObbligatori" type="hidden"/> -->
  <!-- Creare l'hidden <input id="{{ prefix }}_Titolo" 		name="{{ prefix }}_Titolo" 		  type="hidden" value="{{Solo1}}"/> -->
  <!-- Creare l'hidden <input id="{{ prefix }}_Ruolo"  		name="{{ prefix }}_Ruolo"  		  type="hidden" value="{{Solo1}}"/> -->
<div type="Anagrafica_persona_fisica">

    <input type="hidden" name="TipoContesto" id="TipoContesto" value="GLOBO">
  <input type="hidden" name="TipoLista" id="TipoLista" value="PGLOBO">

  <!-- simpatico start -->
  <div class="simpatico-block simpatico-query-and-answer">
  <!-- simpatico end -->

    <table class="Modulo" style="border:1px solid grey; {{ visibility_intestazione }}">
      <tbody>
        <tr class="Rigaintestazione">
          <td style="border-right:0px">
            <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}</p>
          </td>
        </tr>
      </tbody>

      {{ service.getPersonaREST( 'AventeTitolo_CodiceFiscale','TipoContesto', 'TipoLista',  {
        'AventeTitolo_DataNascita':  'datanascita',
        'AventeTitolo_Nome':  'nome',
        'AventeTitolo_Cognome':  'cognome',
        'AventeTitolo_Sesso':  'sesso',
        'AventeTitolo_Nazionalita':  'stato',
        'AventeTitolo_Cittadinanza':  'nazionalita',
        'AventeTitolo_CodiceFamiglia':  'codiceFamiglia',
        'AventeTitolo_CodiceVia':  'codiceVia',
        'AventeTitolo_ProvinciaResidenza' : 'provincia',
        'AventeTitolo_ComuneResidenza' : 'citta',
        'AventeTitolo_ViaResidenza' : 'indirizzo',
        'AventeTitolo_CivicoResidenza' : 'numeroCivico',
        'AventeTitolo_BarraResidenza' : 'barra',
        'AventeTitolo_CAPResidenza' : 'cap',
        'AventeTitolo_Nazione' : 'nazione',
        'AventeTitolo_LuogoNascita' : 'comuneNascita',
        'AventeTitolo_CodiceComuneNascita' : 'codiceComuneNascita',
        'AventeTitolo_MatricolaAnagrafe' : 'matricola',
      },
      '#AventeTitolo_CodiceFiscale:change','true') }}
    </table>

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="#{{ prefix }}_DatiPersonaObbligatori.checked()">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td colspan="2">
            <p class="Labelcella">Cognome</p>
          </td>
          <td>
            <p class="Labelcella">Nome</p>
          </td>
          <td>
            <p class="Labelcella">Codice Fiscale</p>
          </td>
        </tr>
        <tr>
          <td colspan="2">
            <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
          </td>
          {% if cf_obbligatorio == 'true' %}
          <td>
            <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale"/>
          </td>
          {% endif %}
  				{% if cf_obbligatorio == 'false' %}
          <td>
            <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory="!#{{ prefix }}_ProvinciaResidenza.check_value(['EE'])"/>
          </td>
  				{% endif %}
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:24%;">
            <p class="Labelcella">Data di nascita</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella">Sesso (M/F)</p>
          </td>
          <td style="width: 33%;">
            <p class="Labelcella">Nazionalità</p>
          </td>
          <td style="width: 34%;">
            <p class="Labelcella">Luogo di nascita</p>
          </td>
        </tr>
        <tr>
          <td>
            <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
          </td>
          <td>
            <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
              <option value=""></option>
              <option value="M">M</option>
              <option value="F">F</option>
            </select>
          </td>
          <td>
            {{ utils.stato( prefix + '_Nazionalita', label='Nazionalità')}}
          </td>
          <td>
            <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
          </td>
        </tr>
      </tbody>
    </table>
    {% if visibility_residenza == 'visibility:visibility' %}
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px; {{ visibility_residenza }} ">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td colspan="6">
            <p class="Labelcella">Residenza</p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:9%;">
            <p class="Labelcella">Provincia</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">Comune</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">Indirizzo</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella">Civico</p>
          </td>
  				<td style="width:9%;">
            <p class="Labelcella">Barra</p>
          </td>
          <td style="width:16%;">
            <p class="Labelcella">CAP</p>
          </td>
        </tr>
        <tr>
          <td>
            {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
          </td>
          <td>
            <input class="" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" mandatory_enabled="#{{ prefix }}_DatiPersonaObbligatori.checked()"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" maxlength="40" style="width:100%;" label="Via di residenza" mandatory_enabled="#{{ prefix }}_DatiPersonaObbligatori.checked()"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" format="number" label="Civico di residenza" maxlength="10" mandatory_enabled="#{{ prefix }}_DatiPersonaObbligatori.checked()"/>
          </td>
  				<td>
            <input class="" id="{{ prefix }}_BarraResidenza" name="{{ prefix }}_BarraResidenza" style="width:100%;" label="Barra di residenza" maxlength="3"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza" enabled="#{{ prefix }}_CodiceFiscale.value() != '' and #{{ prefix }}_ProvinciaResidenza.value() != 'EE'" mandatory="#{{ prefix }}_DatiPersonaObbligatori.checked() and #{{ prefix }}_ProvinciaResidenza.value() != 'EE'"/>
          </td>
        </tr>
      </tbody>
    </table>
    {% endif %}
    {% if visibility_mail == 'mail_ordinaria' %}
  	<table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_DatiPersonaObbligatori.checked()">
  		<tbody>
  			<tr class="Rigaintestazioneridotta">
  				<td style="width:16.5%;">
  					<p class="Labelcella">
  						Numero cellulare
  					</p>
  				</td>
  				<td style="width:16.5%;">
  					<p class="Labelcella">
  						Fax
  					</p>
  				</td>
  				<td style="width:33%;">
  					<p class="Labelcella">
  						E-mail
  							<i>
  								(posta elettronica ordinaria)
  							</i>
  					</p>
  				</td>
  				<td>
  					<p class="Labelcella">
  						E-mail PEC
  							<i>
  							(domicilio digitale)
  							</i>
  					</p>
  				</td>
  			</tr>
  			<tr>
  				{% if format_telefono_numerico == 'false'%}
  				<td>
  					<input class="inputNormal" id="{{ prefix }}_Telefono" label="Telefono" name="{{ prefix }}_Telefono" style="width:100%" maxlength="13"/>
  				</td>
  				{% endif %}
  				{% if format_telefono_numerico == 'true'%}
  				<td>
  					<input class="inputNormal" id="{{ prefix }}_Telefono" label="Telefono" name="{{ prefix }}_Telefono" style="width:100%" format="number" maxlength="13"/>
  				</td>
  				{% endif %}
  				<td>
  					<input class="inputNormal" id="{{ prefix }}_Fax" label="Fax" mandatory="false" name="{{ prefix }}_Fax" style="width:100%" maxlength="13"/>
  				</td>
  				<td>
  					<input class="inputNormal" format="email" id="{{ prefix }}_EMail" label="E-mail ordinaria" mandatory="true" name="{{ prefix }}_EMail" style="width:100%;" maxlength="60"/>
  				</td>
  				<td>
  				{% if pec_obbligatoria == 'true'%}
  					<input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="E-mail PEC del {{ Solo1 }}" name="{{ prefix }}_EMailPEC" style="width:100%;" mandatory="true" maxlength="60"/>
  				{% endif %}
  				{% if pec_obbligatoria == 'false'%}
  					<input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="E-mail PEC del {{ Solo1 }}" name="{{ prefix }}_EMailPEC" style="width:100%;" mandatory="false" maxlength="60"/>
  				{% endif %}
  				</td>
  			</tr>
  		</tbody>
    </table>
    {% endif %}
  	{% if visibility_mail == 'mail_pec'%}
  	<table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
  		<tbody>
  			<tr class="Rigaintestazioneridotta">
  				<td style="width:21%;">
  					<p class="Labelcella">
  						Telefono
  					</p>
  				</td>
  				<td style="width:21%;">
  					<p class="Labelcella">
  						Fax
  					</p>
  				</td>
  				<td>
  					<p class="Labelcella">
  						E-mail PEC
  							<i>
  								(domicilio digitale)
  							</i>
  					</p>
  				</td>
  			</tr>
  			<tr>
  				<td>
  					<input class="inputNormal" id="{{ prefix }}_Telefono" label="Telefono" name="{{ prefix }}_Telefono" style="width:100%" mandatory_enabled="#{{ prefix }}_DatiPersonaObbligatori.checked()"/>
  				</td>
  				<td>
  					<input class="inputNormal" id="{{ prefix }}_Fax" label="Fax" enabled="#{{ prefix }}_DatiPersonaObbligatori.checked()" name="{{ prefix }}_Fax" style="width:100%"/>
  				</td>
  				<td>
  					<input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="E-mail PEC del dichiarante" name="{{ prefix }}_EMailPEC" style="width:100%;" mandatory_enabled="#{{ prefix }}_DatiPersonaObbligatori.checked()" maxlength="60"/>
  				</td>
  			</tr>
  		</tbody>
  	</table>
    {% endif %}

  <!-- simpatico start -->
  </div>
  <!--  simpatico end -->

</div>

<input id="AventeTitolo_DatiPersonaObbligatori" name="AventeTitolo_DatiPersonaObbligatori" dynamic_check="true" type="hidden" />
<input id="AventeTitolo_Titolo" name="AventeTitolo_Titolo" type="hidden" value="" />
<input id="AventeTitolo_Ruolo" name="AventeTitolo_Ruolo" type="hidden" value="" />
<input type="hidden" id="AventeTitolo_CodiceFamiglia" name="AventeTitolo_CodiceFamiglia"/>
<input type="hidden" id="AventeTitolo_CodiceVia" name="AventeTitolo_CodiceVia"/>
<input type="hidden" id="AventeTitolo_MatricolaAnagrafe" name="AventeTitolo_MatricolaAnagrafe"/>
<input type="hidden" id="AventeTitolo_Nazione" name="AventeTitolo_Nazione"/>
<input type="hidden" id="AventeTitolo_CodiceComuneNascita" name="AventeTitolo_CodiceComuneNascita"/>
<!--<input id="AventeTitolo_Statonas" name="AventeTitolo_Statonas" dynamic_value="#AventeTitolo_Stato.value()"/>-->
{%- endmacro %}


{% macro richiedente_obbligatorio( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}

<input type="hidden" name="TipoContesto" id="TipoContesto" value="GLOBO">
<input type="hidden" name="TipoLista" id="TipoLista" value="PGLOBO">

<table class="Modulo" style="border:1px solid grey; {{ visibility_intestazione }}">
  <tbody>
    <tr class="Rigaintestazione">
      <td style="border-right:0px">
        <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
        </p>
      </td>
      <td style="width:20%; border-left:0px; border-right:0px">
        <p class="Labeltabella">{{ carica_campi|safe }}</p>
      </td>
      <td style="width:30%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
        <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
          {{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
        </span>
      </td>
    </tr>
  </tbody>

  {{ service.getPersonaREST( 'AventeTitolo_CodiceFiscale','TipoContesto', 'TipoLista',  {
    'AventeTitolo_DataNascita':  'datanascita',
    'AventeTitolo_Nome':  'nome',
    'AventeTitolo_Cognome':  'cognome',
    'AventeTitolo_Sesso':  'sesso',
    'AventeTitolo_Nazionalita':  'stato',
    'AventeTitolo_Cittadinanza':  'nazionalita',
    'AventeTitolo_CodiceFamiglia':  'codiceFamiglia',
    'AventeTitolo_CodiceVia':  'codiceVia',
    'AventeTitolo_ProvinciaResidenza' : 'provincia',
    'AventeTitolo_ComuneResidenza' : 'citta',
    'AventeTitolo_ViaResidenza' : 'indirizzo',
    'AventeTitolo_CivicoResidenza' : 'numeroCivico',
    'AventeTitolo_BarraResidenza' : 'barra',
    'AventeTitolo_CAPResidenza' : 'cap',
    'AventeTitolo_Nazione' : 'nazione',
    'AventeTitolo_LuogoNascita' : 'comuneNascita',
    'AventeTitolo_CodiceComuneNascita' : 'codiceComuneNascita',
    'AventeTitolo_MatricolaAnagrafe' : 'matricola',
  },
  '#AventeTitolo_CodiceFiscale:change','true') }}
</table>

<table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
  <tbody>
    <tr class="Rigaintestazioneridotta">
      <td colspan="2">
        <p class="Labelcella">Cognome</p>
      </td>
      <td>
        <p class="Labelcella">Nome</p>
      </td>
      <td>
        <p class="Labelcella">Codice Fiscale</p>
      </td>
    </tr>
    <tr>
      <td colspan="2">
        <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale"/>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td style="width:24%;">
        <p class="Labelcella">Data di nascita</p>
      </td>
      <td style="width:9%;">
        <p class="Labelcella">Sesso (M/F)</p>
      </td>
      <td style="width: 33%;">
        <p class="Labelcella">Nazionalità</p>
      </td>
      <td style="width: 34%;">
        <p class="Labelcella">Luogo di nascita</p>
      </td>
    </tr>
    <tr>
      <td>
        <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
      </td>
      <td>
        <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
          <option value=""></option>
          <option value="M">M</option>
          <option value="F">F</option>
        </select>
      </td>
      <td>
        {{ utils.stato( prefix + '_Nazionalita', label='Nazionalità')}}
      </td>
      <td>
        <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
      </td>
    </tr>
  </tbody>
</table>

<table class="Modulo" style="border:1px solid grey; margin-top:-1px; {{ visibility_residenza }} ">
  <tbody>
    <tr class="Rigaintestazioneridotta">
      <td colspan="6">
        <p class="Labelcella">Residenza</p>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td style="width:9%;">
        <p class="Labelcella">Provincia</p>
      </td>
      <td style="width:33%;">
        <p class="Labelcella">Comune</p>
      </td>
      <td style="width:33%;">
        <p class="Labelcella">Indirizzo</p>
      </td>
      <td style="width:9%;">
        <p class="Labelcella">Civico</p>
      </td>
      <td style="width:9%;">
        <p class="Labelcella">Barra</p>
      </td>
      <td style="width:16%;">
        <p class="Labelcella">CAP</p>
      </td>
    </tr>
    <tr>
      <td>
        {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
      </td>
      <td>
        <input class="" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" mandatory_enabled="true"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" maxlength="40" style="width:100%;" label="Via di residenza" mandatory_enabled="true"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" format="number" label="Civico di residenza" maxlength="10" mandatory_enabled="true"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_BarraResidenza" name="{{ prefix }}_BarraResidenza" style="width:100%;" label="Barra di residenza" maxlength="3" enabled="true"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza" enabled="#{{ prefix }}_CodiceFiscale.value() != '' and #{{ prefix }}_ProvinciaResidenza.value() != 'EE'" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'"/>
      </td>
    </tr>
  </tbody>
</table>

<table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
  <tbody>
    <tr class="Rigaintestazioneridotta">
      <td style="width:16.5%;">
        <p class="Labelcella">
          Numero cellulare
        </p>
      </td>
      <td style="width:16.5%;">
        <p class="Labelcella">
          Fax
        </p>
      </td>
      <td style="width:33%;">
        <p class="Labelcella">
          E-mail
          <i>
            (posta elettronica ordinaria)
          </i>
        </p>
      </td>
      <td>
        <p class="Labelcella">
          E-mail PEC
          <i>
            (domicilio digitale)
          </i>
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Telefono" label="Telefono" name="{{ prefix }}_Telefono" style="width:100%" format="number" maxlength="13" mandatory_enabled="true"/>
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Fax" label="Fax" mandatory="false" name="{{ prefix }}_Fax" style="width:100%" maxlength="13" enabled="true"/>
      </td>
      <td>
        <input class="inputNormal" format="email" id="{{ prefix }}_EMail" label="E-mail ordinaria" name="{{ prefix }}_EMail" style="width:100%;" maxlength="60" enabled="true"/>
      </td>
      <td>
        <input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="E-mail PEC del {{ Solo1 }}" name="{{ prefix }}_EMailPEC" style="width:100%;" maxlength="60" enabled="true"/>
      </td>
    </tr>
  </tbody>
</table>

<input type="hidden" id="AventeTitolo_CodiceVia" name="AventeTitolo_CodiceVia"/>
<input type="hidden" id="AventeTitolo_MatricolaAnagrafe" name="AventeTitolo_MatricolaAnagrafe"/>
<input type="hidden" id="AventeTitolo_Nazione" name="AventeTitolo_Nazione"/>
<input type="hidden" id="AventeTitolo_CodiceComuneNascita" name="AventeTitolo_CodiceComuneNascita"/>
{%- endmacro %}



{% macro richiedente_cambio_res( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility") -%}
{% do all_prefix.append( prefix ) %}

<input type="hidden" name="TipoContesto" id="TipoContesto" value="GLOBO">
<input type="hidden" name="TipoLista" id="TipoLista" value="PGLOBO">

<table class="Modulo" style="border:1px solid grey; {{ visibility_intestazione }}">
  <tbody>
    <tr class="Rigaintestazione">
      <td style="border-right:0px">
        <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
        </p>
      </td>
      <td style="width:20%; border-left:0px; border-right:0px">
        <p class="Labeltabella">{{ carica_campi|safe }}</p>
      </td>
      <td style="width:30%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
        <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
          {{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
        </span>
      </td>
    </tr>
  </tbody>

  {{ service.getPersonaREST( 'AventeTitolo_CodiceFiscale','TipoContesto', 'TipoLista',  {
    'AventeTitolo_DataNascita':  'datanascita',
    'AventeTitolo_Nome':  'nome',
    'AventeTitolo_Cognome':  'cognome',
    'AventeTitolo_Sesso':  'sesso',
    'AventeTitolo_Nazionalita':  'stato',
    'AventeTitolo_Cittadinanza':  'nazionalita',
    'AventeTitolo_CodiceFamiglia':  'codiceFamiglia',
    'AventeTitolo_CodiceVia':  'codiceVia',
    'AventeTitolo_ProvinciaResidenza' : 'provincia',
    'AventeTitolo_ComuneResidenza' : 'citta',
    'AventeTitolo_ViaResidenza' : 'indirizzo',
    'AventeTitolo_CivicoResidenza' : 'numeroCivico',
    'AventeTitolo_BarraResidenza' : 'barra',
    'AventeTitolo_CAPResidenza' : 'cap',
    'AventeTitolo_Nazione' : 'nazione',
    'AventeTitolo_LuogoNascita' : 'comuneNascita',
    'AventeTitolo_CodiceComuneNascita' : 'codiceComuneNascita',
    'AventeTitolo_MatricolaAnagrafe' : 'matricola',
  },
  '#AventeTitolo_CodiceFiscale:change','true') }}
</table>

<table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
  <tbody>
    <tr class="Rigaintestazioneridotta">
      <td colspan="3">
        <p class="Labelcella">Cognome</p>
      </td>
      <td>
        <p class="Labelcella">Nome</p>
      </td>
      <td>
        <p class="Labelcella">Codice Fiscale</p>
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale"/>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td style="width:12%;">
        <p class="Labelcella">Data di nascita</p>
      </td>
      <td style="width:7%;">
        <p class="Labelcella">Sesso</p>
      </td>
      <td style="width: 25%;">
        <p class="Labelcella">Cittadinanza</p>
      </td>
      <td style="width: 30%;">
        <p class="Labelcella">Luogo di nascita</p>
      </td>
      <td style="width: 26%;">
        <p class="Labelcella">Stato civile</p>
      </td>
    </tr>
    <tr>
      <td>
        <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
      </td>
      <td>
        <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
          <option value=""></option>
          <option value="M">M</option>
          <option value="F">F</option>
        </select>
      </td>
      <td>
        {{ utils.stato( prefix + '_Cittadinanza', label='Cittadinanza')}}
      </td>
      <td>
        <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
      </td>
      <td>
        <select class="inputNormal" id="{{ prefix }}_Statocivile" name="{{ prefix }}_Statocivile" style="width:100%" label="Stato civile" mandatory="false">
            <option value=""></option>
            <option value="celibe">Celibe/nubile</option>
            <option value="coniugato">Coniugato/a</option>
            <option value="divorziato">Divorziato/a (libero/a di stato)</option>
            <option value="vedovo">Vedovo/a</option>
          </select>
      </td>
    </tr>
  </tbody>
</table>

<table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
  <tbody>
    <tr class="Rigaintestazioneridotta">
      <td style="width:13%;">
        <p class="Labelcella">
          Telefono
        </p>
      </td>
      <td style="width:15%;">
        <p class="Labelcella">
          Numero cellulare
        </p>
      </td>
      <td style="width:12%;">
        <p class="Labelcella">
          Fax
        </p>
      </td>
      <td style="width:30%;">
        <p class="Labelcella">
          E-mail
          <i>
            (posta elettronica ordinaria)
          </i>
        </p>
      </td>
      <td style="width:30%;">
        <p class="Labelcella">
          E-mail PEC
          <i>
            (domicilio digitale)
          </i>
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Telefono" label="Telefono" name="{{ prefix }}_Telefono" style="width:100%" enabled="true"/>
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Cellulare" label="Cellulare" name="{{ prefix }}_Cellulare" style="width:100%" maxlength="13" enabled="true"/>
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Fax" label="Fax" name="{{ prefix }}_Fax" style="width:100%" maxlength="13" enabled="true"/>
      </td>
      <td>
        <input class="inputNormal" format="email" id="{{ prefix }}_EMail" label="E-mail ordinaria" name="{{ prefix }}_EMail" style="width:100%;" maxlength="60" enabled="true"/>
      </td>
      <td>
        <input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="E-mail PEC" name="{{ prefix }}_EMailPEC" style="width:100%;" maxlength="60" enabled="true"/>
      </td>
    </tr>
  </tbody>
</table>

<br>

<table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="vertical-align: top; width: 4%;" rowspan="3">
          <input id="check_minorenne" name="check_minorenne" type="checkbox" dynamic_check="moment(#Data_PDF.value(), 'DD/MM/YYYY').diff(moment(#{{ prefix }}_DataNascita.value(), 'DD/MM/YYYY'), 'years') < 18" enabled="moment(#Data_PDF.value(), 'DD/MM/YYYY').diff(moment(#{{ prefix }}_DataNascita.value(), 'DD/MM/YYYY'), 'years') < 18"/>
        </td>
        <td colspan="2">
          <p><b>Il/La richiedente è minorenne ed è:</b></p>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; width: 4%;">
          <div id="poss_carta_id" name="poss_carta_id" mandatory_enabled="#check_minorenne.checked()" label="Minorenne in possesso di carta di identità"> </div>
          <input id="poss_carta_id1" name="poss_carta_id" group="poss_carta_id" type="radio" value="1"/>
        </td>
        <td>
          <p>in possesso di un documento di identità</p>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; width: 4%;">
          <input id="poss_carta_id2" name="poss_carta_id" group="poss_carta_id" type="radio" value="2"/>
        </td>
        <td>
          <p>NON in possesso di un documento di identità</p>
        </td>        
      </tr>
    </tbody>
  </table>

<br>

<table class="Modulo" style="border: 1px solid grey">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="2">
          <p><b>Tipologia di occupazione</b></p>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; width: 4%;">
          <div id="{{ prefix }}_TipoLavoro" name="{{ prefix }}_TipoLavoro" mandatory_enabled="true" label="Situazione lavorativa del dichiarante"> </div>
          <input id="{{ prefix }}_TipoLavoro1" name="{{ prefix }}_TipoLavoro" type="radio" value="1"/>
        </td>
        <td>
          <p>Occupato/a: <select class="inputNormal" id="{{ prefix }}_Posizionelavorativa" name="{{ prefix }}_Posizionelavorativa" style="width:44%" label="Posizione lavorativa" enabled="#{{ prefix }}_TipoLavoro1.checked()">
                          <option value=""></option>
                          <option value="Imprenditore">Imprenditore</option>
                          <option value="Dirigente">Dirigente</option>
                          <option value="Lavoratore">Lavoratore</option>
                          <option value="Operaio">Operaio</option>
                        </select>
                        <select class="inputNormal" id="{{ prefix }}_TipoPosizionelavorativa" name="{{ prefix }}_TipoPosizionelavorativa" style="width:44%" label="Tipo Posizione lavorativa" enabled="#{{ prefix }}_TipoLavoro1.checked()">
                          <option value=""></option>
                          <option value="Libero_professionista">Libero professionista</option>
                          <option value="Impiegato">Impiegato</option>
                          <option value="In_proprio">In proprio</option>
                          <option value="Assimilati">E assimilati</option>
                          <option value="Coadiuvante">Coadiuvante</option>
                        </select>
          </p>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: center; width: 4%;">
          <input id="{{ prefix }}_TipoLavoro2" name="{{ prefix }}_TipoLavoro" type="radio" value="2"/>
        </td>
        <td>
          <p>Non occupato/a: <select class="inputNormal" id="{{ prefix }}_TipoPosizionelavorativa_nonocc" name="{{ prefix }}_TipoPosizionelavorativa_nonocc" style="width:85%" label="Tipo Posizione lavorativa" enabled="#{{ prefix }}_TipoLavoro2.checked()">
                                <option value=""></option>
                                <option value="Casalinga">Casalinga</option>
                                <option value="Studente">Studente</option>
                                <option value="Disoccupato_primaocc">Disoccupato/In cerca di prima occupazione</option>
                                <option value="Pensionato">Pensionato/Ritirato dal lavoro</option>
                                <option value="Altro">Altra condizione non professionale</option>
                             </select>
          </p>
        </td>
      </tr>
    </tbody>
  </table>

  <br>

  <table class="Modulo" style="border: 1px solid grey">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td colspan="2">
            <p><b>Titolo di studio</b></p>
          </td>
        </tr>
        <tr>
          <td>
            <select class="inputNormal" id="{{ prefix }}_titolo_studio" name="{{ prefix }}_titolo_studio" style="width:100%" label="Titolo di studio">
              <option value=""></option>
              <option value="No_Elementare">Nessun titolo/Lic. Elementare</option>
              <option value="Media">Lic. Media</option>
              <option value="Diploma">Diploma</option>
              <option value="Laurea_triennale">Laurea triennale</option>
              <option value="Laurea">Laurea</option>
              <option value="Dottorato">Dottorato</option>
            </select>
          </td>
        </tr>
      </tbody>
    </table>

    <br>

    <table class="Modulo" style="border: 1px solid grey">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td colspan="4">
            <p><b>Dettagli patente di guida Italiana</b></p>
          </td>
        </tr>
        <tr>
          <td colspan="4">
            <input id="Tipo_patente1" name="Tipo_patente1" type="checkbox" value="1"/>AM &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente2" name="Tipo_patente2" type="checkbox" value="2"/>A1 &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente3" name="Tipo_patente3" type="checkbox" value="3"/>A2 &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente4" name="Tipo_patente4" type="checkbox" value="4"/>A<br><br>
            <input id="Tipo_patente5" name="Tipo_patente5" type="checkbox" value="5"/>B1 &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente6" name="Tipo_patente6" type="checkbox" value="6"/>B &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente7" name="Tipo_patente7" type="checkbox" value="7"/>BE<br><br>
            <input id="Tipo_patente8" name="Tipo_patente8" type="checkbox" value="8"/>C1 &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente9" name="Tipo_patente9" type="checkbox" value="9"/>C1E &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente10" name="Tipo_patente10" type="checkbox" value="10"/>C &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente11" name="Tipo_patente11" type="checkbox" value="11"/>CE<br><br>
            <input id="Tipo_patente12" name="Tipo_patente12" type="checkbox" value="12"/>D1 &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente13" name="Tipo_patente13" type="checkbox" value="13"/>D1E &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente14" name="Tipo_patente14" type="checkbox" value="14"/>D &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente15" name="Tipo_patente15" type="checkbox" value="15"/>DE<br><br>
            <p><a href="https://www.patentati.it/blog/articoli-patente/come-si-legge-la-patente-di-guida.html" target="_blank">Numero</a>: <input class="inputNormal" id="{{ prefix }}_Numero_patente" label="Numero patente del dichiarante" name="{{ prefix }}_Numero_patente" style="width:15%" maxlength="10" enabled="true"/> --- Data rilascio: <input class="inputNormal" id="{{ prefix }}_Data_rilascio_patente" label="Data di rilascio della patente del dichiarante" name="{{ prefix }}_Data_rilascio_patente" size="7" format="date" enabled="true"/> --- Organo di rilascio: <select class="inputNormal" id="{{ prefix }}_Organorilasciopatente" name="{{ prefix }}_Organorilasciopatente" style="width:12%" label="Organo di rilascio della patente">
                                      <option value=""></option>
                                      <option value="Prefettura">Prefettura</option>
                                      <option value="MCTC">M.C.T.C.</option>
                                      <option value="UCO">U.C.O.</option>
                                    </select>
                                   --- Provincia: {{ utils.provincie_patente( prefix + '_provrilasciopatente', 'Provincia di rilascio della patente' )}}
                                  </p><br>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td colspan="4">
            <p><b>Targhe veicoli immatricolati in Italia in qualità di proprietario/comproprietario, usufruttuario/locatario</b></p>
          </td>
        </tr>
        <tr>
          <td>
            <p>Autoveicoli:</p>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Targaauto1" label="Targa auto 1 del dichiarante" name="{{ prefix }}_Targaauto1" style="width:100%;"/>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Targaauto2" label="Targa auto 2 del dichiarante" name="{{ prefix }}_Targaauto2" style="width:100%;"/>    
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Targaauto3" label="Targa auto 3 del dichiarante" name="{{ prefix }}_Targaauto3" style="width:100%;"/>
          </td>
        </tr>
        <tr>
          <td>
            <p>Rimorchi:</p>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Targarimorchio1" label="Targa rimorchio 1 del dichiarante" name="{{ prefix }}_Targarimorchio1" style="width:100%;"/>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Targarimorchio2" label="Targa rimorchio 2 del dichiarante" name="{{ prefix }}_Targarimorchio2" style="width:100%;"/>    
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Targarimorchio3" label="Targa rimorchio 3 del dichiarante" name="{{ prefix }}_Targarimorchio3" style="width:100%;"/>
          </td>
        </tr>
        <tr>
          <td>
            <p>Motoveicoli/Ciclomotori:</p>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Targamoto1" label="Targa moto 1 del dichiarante" name="{{ prefix }}_Targamoto1" style="width:100%;"/>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Targamoto2" label="Targa moto 2 del dichiarante" name="{{ prefix }}_Targamoto2" style="width:100%;"/>    
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Targamoto3" label="Targa moto 3 del dichiarante" name="{{ prefix }}_Targamoto3" style="width:100%;"/>
          </td>
        </tr>
      </tbody>
    </table>


{%- endmacro %}


{% macro richiedente_cambio_res_altri_fam( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility") -%}
{% do all_prefix.append( prefix ) %}

<input type="hidden" name="TipoContesto" id="TipoContesto" value="GLOBO">
<input type="hidden" name="TipoLista" id="TipoLista" value="PGLOBO">

<table class="Modulo" style="border:1px solid grey; {{ visibility_intestazione }}">
  <tbody>
    <tr class="Rigaintestazione">
      <td style="border-right:0px">
        <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
        </p>
      </td>
      <td style="width:20%; border-left:0px; border-right:0px">
        <p class="Labeltabella">{{ carica_campi|safe }}</p>
      </td>
    </tr>
  </tbody>

  {{ service.getPersonaREST( 'AventeTitolo_CodiceFiscale','TipoContesto', 'TipoLista',  {
    'AventeTitolo_DataNascita':  'datanascita',
    'AventeTitolo_Nome':  'nome',
    'AventeTitolo_Cognome':  'cognome',
    'AventeTitolo_Sesso':  'sesso',
    'AventeTitolo_Nazionalita':  'stato',
    'AventeTitolo_Cittadinanza':  'nazionalita',
    'AventeTitolo_CodiceFamiglia':  'codiceFamiglia',
    'AventeTitolo_CodiceVia':  'codiceVia',
    'AventeTitolo_ProvinciaResidenza' : 'provincia',
    'AventeTitolo_ComuneResidenza' : 'citta',
    'AventeTitolo_ViaResidenza' : 'indirizzo',
    'AventeTitolo_CivicoResidenza' : 'numeroCivico',
    'AventeTitolo_BarraResidenza' : 'barra',
    'AventeTitolo_CAPResidenza' : 'cap',
    'AventeTitolo_Nazione' : 'nazione',
    'AventeTitolo_LuogoNascita' : 'comuneNascita',
    'AventeTitolo_CodiceComuneNascita' : 'codiceComuneNascita',
    'AventeTitolo_MatricolaAnagrafe' : 'matricola',
  },
  '#AventeTitolo_CodiceFiscale:change','true') }}
</table>

<table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
  <tbody>
    <tr class="Rigaintestazioneridotta">
      <td colspan="3">
        <p class="Labelcella">Cognome</p>
      </td>
      <td>
        <p class="Labelcella">Nome</p>
      </td>
      <td>
        <p class="Labelcella">Codice Fiscale</p>
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
      </td>
      <td>
        <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale"/>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td style="width:12%;">
        <p class="Labelcella">Data di nascita</p>
      </td>
      <td style="width:7%;">
        <p class="Labelcella">Sesso</p>
      </td>
      <td style="width: 25%;">
        <p class="Labelcella">Cittadinanza</p>
      </td>
      <td style="width: 30%;">
        <p class="Labelcella">Luogo di nascita</p>
      </td>
      <td style="width: 26%;">
        <p class="Labelcella">Stato civile</p>
      </td>
    </tr>
    <tr>
      <td>
        <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
      </td>
      <td>
        <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
          <option value=""></option>
          <option value="M">M</option>
          <option value="F">F</option>
        </select>
      </td>
      <td>
        {{ utils.stato( prefix + '_Cittadinanza', label='Cittadinanza')}}
      </td>
      <td>
        <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
      </td>
      <td>
        <select class="inputNormal" id="{{ prefix }}_Statocivile" name="{{ prefix }}_Statocivile" style="width:100%" label="Stato civile" mandatory="false">
            <option value=""></option>
            <option value="celibe">Celibe/nubile</option>
            <option value="coniugato">Coniugato/a</option>
            <option value="divorziato">Divorziato/a (libero/a di stato)</option>
            <option value="vedovo">Vedovo/a</option>
          </select>
      </td>
    </tr>
  </tbody>
</table>

<table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
  <tbody>
    <tr class="Rigaintestazioneridotta">
      <td style="width:13%;">
        <p class="Labelcella">
          Telefono
        </p>
      </td>
      <td style="width:15%;">
        <p class="Labelcella">
          Numero cellulare
        </p>
      </td>
      <td style="width:12%;">
        <p class="Labelcella">
          Fax
        </p>
      </td>
      <td style="width:30%;">
        <p class="Labelcella">
          E-mail
          <i>
            (posta elettronica ordinaria)
          </i>
        </p>
      </td>
      <td style="width:30%;">
        <p class="Labelcella">
          E-mail PEC
          <i>
            (domicilio digitale)
          </i>
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Telefono" label="Telefono" name="{{ prefix }}_Telefono" style="width:100%" enabled="true"/>
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Cellulare" label="Cellulare" name="{{ prefix }}_Cellulare" style="width:100%" maxlength="13" enabled="true"/>
      </td>
      <td>
        <input class="inputNormal" id="{{ prefix }}_Fax" label="Fax" name="{{ prefix }}_Fax" style="width:100%" maxlength="13" enabled="true"/>
      </td>
      <td>
        <input class="inputNormal" format="email" id="{{ prefix }}_EMail" label="E-mail ordinaria" name="{{ prefix }}_EMail" style="width:100%;" maxlength="60" enabled="true"/>
      </td>
      <td>
        <input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="E-mail PEC" name="{{ prefix }}_EMailPEC" style="width:100%;" maxlength="60" enabled="true"/>
      </td>
    </tr>
  </tbody>
</table>

<br>

<table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="vertical-align: top; width: 4%;" rowspan="3">
          <input id="check_minorenne" name="check_minorenne" type="checkbox" dynamic_check="moment(#Data_PDF.value(), 'DD/MM/YYYY').diff(moment(#{{ prefix }}_DataNascita.value(), 'DD/MM/YYYY'), 'years') < 18" enabled="moment(#Data_PDF.value(), 'DD/MM/YYYY').diff(moment(#{{ prefix }}_DataNascita.value(), 'DD/MM/YYYY'), 'years') < 18"/>
        </td>
        <td colspan="2">
          <p><b>Il/La richiedente è minorenne ed è:</b></p>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; width: 4%;">
          <div id="poss_carta_id" name="poss_carta_id" mandatory_enabled="#check_minorenne.checked()" label="Minorenne in possesso di carta di identità"> </div>
          <input id="poss_carta_id1" name="poss_carta_id" group="poss_carta_id" type="radio" value="1"/>
        </td>
        <td>
          <p>in possesso di un documento di identità</p>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; width: 4%;">
          <input id="poss_carta_id2" name="poss_carta_id" group="poss_carta_id" type="radio" value="2"/>
        </td>
        <td>
          <p>NON in possesso di un documento di identità</p>
        </td>        
      </tr>
    </tbody>
  </table>

<br>

<table class="Modulo" style="border: 1px solid grey">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="2">
          <p><b>Tipologia di occupazione</b></p>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; width: 4%;">
          <div id="{{ prefix }}_TipoLavoro" name="{{ prefix }}_TipoLavoro" mandatory_enabled="true" label="Situazione lavorativa del dichiarante"> </div>
          <input id="{{ prefix }}_TipoLavoro1" name="{{ prefix }}_TipoLavoro" type="radio" value="1"/>
        </td>
        <td>
          <p>Occupato/a: <select class="inputNormal" id="{{ prefix }}_Posizionelavorativa" name="{{ prefix }}_Posizionelavorativa" style="width:44%" label="Posizione lavorativa" enabled="#{{ prefix }}_TipoLavoro1.checked()">
                          <option value=""></option>
                          <option value="Imprenditore">Imprenditore</option>
                          <option value="Dirigente">Dirigente</option>
                          <option value="Lavoratore">Lavoratore</option>
                          <option value="Operaio">Operaio</option>
                        </select>
                        <select class="inputNormal" id="{{ prefix }}_TipoPosizionelavorativa" name="{{ prefix }}_TipoPosizionelavorativa" style="width:44%" label="Tipo Posizione lavorativa" enabled="#{{ prefix }}_TipoLavoro1.checked()">
                          <option value=""></option>
                          <option value="Libero_professionista">Libero professionista</option>
                          <option value="Impiegato">Impiegato</option>
                          <option value="In_proprio">In proprio</option>
                          <option value="Assimilati">E assimilati</option>
                          <option value="Coadiuvante">Coadiuvante</option>
                        </select>
          </p>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: center; width: 4%;">
          <input id="{{ prefix }}_TipoLavoro2" name="{{ prefix }}_TipoLavoro" type="radio" value="2"/>
        </td>
        <td>
          <p>Non occupato/a: <select class="inputNormal" id="{{ prefix }}_TipoPosizionelavorativa_nonocc" name="{{ prefix }}_TipoPosizionelavorativa_nonocc" style="width:85%" label="Tipo Posizione lavorativa" enabled="#{{ prefix }}_TipoLavoro2.checked()">
                                <option value=""></option>
                                <option value="Casalinga">Casalinga</option>
                                <option value="Studente">Studente</option>
                                <option value="Disoccupato_primaocc">Disoccupato/In cerca di prima occupazione</option>
                                <option value="Pensionato">Pensionato/Ritirato dal lavoro</option>
                                <option value="Altro">Altra condizione non professionale</option>
                             </select>
          </p>
        </td>
      </tr>
    </tbody>
  </table>

  <br>

  <table class="Modulo" style="border: 1px solid grey">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td colspan="2">
            <p><b>Titolo di studio</b></p>
          </td>
        </tr>
        <tr>
          <td>
            <select class="inputNormal" id="{{ prefix }}_titolo_studio" name="{{ prefix }}_titolo_studio" style="width:100%" label="Titolo di studio">
              <option value=""></option>
              <option value="No_Elementare">Nessun titolo/Lic. Elementare</option>
              <option value="Media">Lic. Media</option>
              <option value="Diploma">Diploma</option>
              <option value="Laurea_triennale">Laurea triennale</option>
              <option value="Laurea">Laurea</option>
              <option value="Dottorato">Dottorato</option>
            </select>
          </td>
        </tr>
      </tbody>
    </table>

    <br>

    <table class="Modulo" style="border: 1px solid grey">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td colspan="4">
            <p><b>Dettagli patente di guida Italiana</b></p>
          </td>
        </tr>
        <tr>
          <td colspan="4">
            <input id="Tipo_patente1" name="Tipo_patente1" type="checkbox" value="1"/>AM &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente2" name="Tipo_patente2" type="checkbox" value="2"/>A1 &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente3" name="Tipo_patente3" type="checkbox" value="3"/>A2 &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente4" name="Tipo_patente4" type="checkbox" value="4"/>A<br><br>
            <input id="Tipo_patente5" name="Tipo_patente5" type="checkbox" value="5"/>B1 &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente6" name="Tipo_patente6" type="checkbox" value="6"/>B &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente7" name="Tipo_patente7" type="checkbox" value="7"/>BE<br><br>
            <input id="Tipo_patente8" name="Tipo_patente8" type="checkbox" value="8"/>C1 &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente9" name="Tipo_patente9" type="checkbox" value="9"/>C1E &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente10" name="Tipo_patente10" type="checkbox" value="10"/>C &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente11" name="Tipo_patente11" type="checkbox" value="11"/>CE<br><br>
            <input id="Tipo_patente12" name="Tipo_patente12" type="checkbox" value="12"/>D1 &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente13" name="Tipo_patente13" type="checkbox" value="13"/>D1E &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente14" name="Tipo_patente14" type="checkbox" value="14"/>D &nbsp; &nbsp; &nbsp; &nbsp; <input id="Tipo_patente15" name="Tipo_patente15" type="checkbox" value="15"/>DE<br><br>
            <p><a href="https://www.patentati.it/blog/articoli-patente/come-si-legge-la-patente-di-guida.html" target="_blank">Numero</a>: <input class="inputNormal" id="{{ prefix }}_Numero_patente" label="Numero patente del dichiarante" name="{{ prefix }}_Numero_patente" style="width:15%" maxlength="10" enabled="true"/> --- Data rilascio: <input class="inputNormal" id="{{ prefix }}_Data_rilascio_patente" label="Data di rilascio della patente del dichiarante" name="{{ prefix }}_Data_rilascio_patente" size="7" format="date" enabled="true"/> --- Organo di rilascio: <select class="inputNormal" id="{{ prefix }}_Organorilasciopatente" name="{{ prefix }}_Organorilasciopatente" style="width:12%" label="Organo di rilascio della patente">
                                      <option value=""></option>
                                      <option value="Prefettura">Prefettura</option>
                                      <option value="MCTC">M.C.T.C.</option>
                                      <option value="UCO">U.C.O.</option>
                                    </select>
                                   --- Provincia: {{ utils.provincie_patente( prefix + '_provrilasciopatente', 'Provincia di rilascio della patente' )}}
                                  </p><br>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td colspan="4">
            <p><b>Targhe veicoli immatricolati in Italia in qualità di proprietario/comproprietario, usufruttuario/locatario</b></p>
          </td>
        </tr>
        <tr>
          <td>
            <p>Autoveicoli:</p>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Targaauto1" label="Targa auto 1 del dichiarante" name="{{ prefix }}_Targaauto1" style="width:100%;"/>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Targaauto2" label="Targa auto 2 del dichiarante" name="{{ prefix }}_Targaauto2" style="width:100%;"/>    
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Targaauto3" label="Targa auto 3 del dichiarante" name="{{ prefix }}_Targaauto3" style="width:100%;"/>
          </td>
        </tr>
        <tr>
          <td>
            <p>Rimorchi:</p>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Targarimorchio1" label="Targa rimorchio 1 del dichiarante" name="{{ prefix }}_Targarimorchio1" style="width:100%;"/>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Targarimorchio2" label="Targa rimorchio 2 del dichiarante" name="{{ prefix }}_Targarimorchio2" style="width:100%;"/>    
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Targarimorchio3" label="Targa rimorchio 3 del dichiarante" name="{{ prefix }}_Targarimorchio3" style="width:100%;"/>
          </td>
        </tr>
        <tr>
          <td>
            <p>Motoveicoli/Ciclomotori:</p>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Targamoto1" label="Targa moto 1 del dichiarante" name="{{ prefix }}_Targamoto1" style="width:100%;"/>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Targamoto2" label="Targa moto 2 del dichiarante" name="{{ prefix }}_Targamoto2" style="width:100%;"/>    
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Targamoto3" label="Targa moto 3 del dichiarante" name="{{ prefix }}_Targamoto3" style="width:100%;"/>
          </td>
        </tr>
      </tbody>
    </table>


{%- endmacro %}


{% macro societa_nocf( prefix='Titolare', intestazione="Il sottoscritto", Solo1="Richiedente", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer") -%}
{% do all_prefix.append( prefix ) %}
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}
<!-- visibility:visibility or display:none, cursor:pointer or default; visibility_mail: no_mail or mail_ordinaria or mail_pec; pec_obbligatoria: true or false or never, cciaa_visibile true or false -->
<div type="Anagrafica_Società">

  <input type="hidden" name="TipoContesto" id="TipoContesto" value="GLOBO">
  <input type="hidden" name="TipoLista" id="TipoLista" value="PGLOBO">

<!-- simpatico start -->
  <div class="simpatico-block simpatico-query-and-answer">
<!-- simpatico end -->

  {% do all_prefix.append( prefix ) %}
  <input id="{{ prefix }}_Titolo" name="{{ prefix }}_Titolo" type="hidden" value="{{ Solo1 }}"/>
  <table class="Modulo" style="border:1px solid grey; margin-bottom:-6px">
    <tbody>
      <tr class="Rigaintestazione">
        <td style="border-right:0px">
          <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
          </p>
        </td>
        <td style="width:25%; {{ pointer_carica_dati }}; border-left:0px">
          <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
            {{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
          </span>
        </td>
      </tr>
    </tbody>
    {{ service.getPersonaREST( 'Titolare_CodiceFiscale','TipoContesto', 'TipoLista',  {
      'Titolare_DataNascita':  'datanascita',
      'Titolare_Nome':  'nome',
      'Titolare_Cognome':  'cognome',
      'Titolare_Sesso':  'sesso',
      'Titolare_Nazionalita':  'nazionalita',
      'Titolare_Cittadinanza':  'stato',
      'Titolare_CodiceFamiglia':  'codiceFamiglia',
      'Titolare_CodiceVia':  'codiceVia',
      'Titolare_ProvinciaResidenza' : 'provincia',
      'Titolare_ComuneResidenza' : 'citta',
      'Titolare_ViaResidenza' : 'indirizzo',
      'Titolare_CivicoResidenza' : 'numeroCivico',
      'Titolare_BarraResidenza' : 'barra',
      'Titolare_CAPResidenza' : 'cap',
      'Titolare_Nazione' : 'nazione',
      'Titolare_LuogoNascita' : 'comuneNascita',
      'Titolare_CodiceComuneNascita' : 'codiceComuneNascita',
      'Titolare_MatricolaAnagrafe' : 'matricola',
    },
    '#Titolare_CodiceFiscale:change','true') }}
  </table>

  <input class="Modulo" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:50%" format="cf" label="Il codice fiscale del {{ Solo1 }}" type="hidden"/>

  <table class="Modulo" style="border:1px solid grey" mandatory="true">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="2">
          <p class="Labelcella">Cognome</p>
        </td>
        <td>
          <p class="Labelcella">Nome</p>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome del {{ Solo1 }}" readonly/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome del {{ Solo1 }}" readonly/>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta" style="border-top:0px">
        <td style="width:15%;">
          <p class="Labelcella">Data di nascita</p>
        </td>
        <td style="width: 35%;">
          <p class="Labelcella">Nazionalità</p>
        </td>
        <td style="width: 50%;">
          <p class="Labelcella">Luogo di nascita</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita del {{ Solo1 }}" readonly/>
        </td>
        <td>
          {{ utils.stato( prefix + '_Cittadinanza', 'Cittadinanza' )}}
        </td>
        <td>
          <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita del {{ Solo1 }}" readonly/>
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory="true">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="6">
          <p class="Labelcella">Residenza</p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella">Civico</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella">CAP</p>
        </td>
      </tr>
      <tr>
        <td>
          {{ utils.provincie( prefix + '_ProvinciaResidenza', label='Provincia di residenza' )}}
        </td>
        <td>
          <select class="inputNormal" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza del {{ Solo1 }}"
					     dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaResidenza.value(), '{{ prefix }}_ComuneResidenza')">
					</select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" style="width:100%;" label="Via di residenza del {{ Solo1 }}"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" label="Civico di residenza del {{ Solo1 }}" maxlength="10"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza del {{ Solo1 }}" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'"/>
        </td>
      </tr>
    </tbody>
  </table>

	<table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory="true">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:20%;">
          <p class="Labelcella">
            Telefono
          </p>
        </td>
				<td style="width:40%;">
					<p class="Labelcella">
						E-mail <i>(posta elettronica ordinaria)</i>
					</p>
				</td>
				<td style="width:40%;">
					<p class="Labelcella">
						E-mail PEC
							<i>
							(domicilio digitale)
							</i>
					</p>
				</td>
			</tr>
			<tr>
				<td>
					<input class="inputNormal" id="{{ prefix }}_Telefono" label="Telefono del {{ Solo1 }}" name="{{ prefix }}_Telefono" style="width:100%"/>
				</td>
				<td>
					<input class="inputNormal" format="email" id="{{ prefix }}_EMail" label="E-mail ordinaria del {{ Solo1 }}" mandatory="false" name="{{ prefix }}_EMail" style="width:100%;"/>
				</td>
				<td>
					<input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="E-mail PEC del {{ Solo1 }}" mandatory="false" name="{{ prefix }}_EMailPEC" style="width:100%;" />
				</td>
			</tr>
		</tbody>
	</table>
</div>
</div>
{%- endmacro %}



{% macro richiedente_atti( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}

<div type="Anagrafica_persona_fisica">

    <input type="hidden" name="TipoContesto" id="TipoContesto" value="GLOBO">
    <input type="hidden" name="TipoLista" id="TipoLista" value="PGLOBO">

  <!-- simpatico start -->
  <div class="simpatico-block simpatico-query-and-answer">
  <!-- simpatico end -->

    <table class="Modulo" style="border:1px solid grey; {{ visibility_intestazione }}">
      <tbody>
        <tr class="Rigaintestazione">
          <td style="border-right:0px">
            <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
  					</p>
          </td>
  				<td style="width:20%; border-left:0px; border-right:0px">
            <p class="Labeltabella">{{ carica_campi|safe }}</p>
          </td>
  				<td style="width:30%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
  					<span style="pd4ml-visibility: hidden; pd4ml-display: none;">
  						{{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
  					</span>
          </td>
        </tr>
      </tbody>

      {{ service.getPersonaREST( 'AventeTitolo_CodiceFiscale','TipoContesto', 'TipoLista',  {
        'AventeTitolo_DataNascita':  'datanascita',
        'AventeTitolo_Nome':  'nome',
        'AventeTitolo_Cognome':  'cognome',
        'AventeTitolo_Sesso':  'sesso',
        'AventeTitolo_Nazionalita':  'stato',
        'AventeTitolo_Cittadinanza':  'nazionalita',
        'AventeTitolo_CodiceFamiglia':  'codiceFamiglia',
        'AventeTitolo_CodiceVia':  'codiceVia',
        'AventeTitolo_ProvinciaResidenza' : 'provincia',
        'AventeTitolo_ComuneResidenza' : 'citta',
        'AventeTitolo_ViaResidenza' : 'indirizzo',
        'AventeTitolo_CivicoResidenza' : 'numeroCivico',
        'AventeTitolo_BarraResidenza' : 'barra',
        'AventeTitolo_CAPResidenza' : 'cap',
        'AventeTitolo_Nazione' : 'nazione',
        'AventeTitolo_LuogoNascita' : 'comuneNascita',
        'AventeTitolo_CodiceComuneNascita' : 'codiceComuneNascita',
        'AventeTitolo_MatricolaAnagrafe' : 'matricola',
      },
      '#AventeTitolo_CodiceFiscale:change','true') }}
    </table>

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td colspan="2">
            <p class="Labelcella">Cognome</p>
          </td>
          <td>
            <p class="Labelcella">Nome</p>
          </td>
          <td>
            <p class="Labelcella">Codice Fiscale</p>
          </td>
        </tr>
        <tr>
          <td colspan="2">
            <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale"/>
          </td>
           </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:24%;">
            <p class="Labelcella">Data di nascita</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella">Sesso (M/F)</p>
          </td>
          <td style="width: 33%;">
            <p class="Labelcella">Nazionalità</p>
          </td>
          <td style="width: 34%;">
            <p class="Labelcella">Luogo di nascita</p>
          </td>
        </tr>
        <tr>
          <td>
            <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
          </td>
          <td>
            <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
              <option value=""></option>
              <option value="M">M</option>
              <option value="F">F</option>
            </select>
          </td>
          <td>
            {{ utils.stato( prefix + '_Nazionalita', label='Nazionalità')}}
          </td>
          <td>
            <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
          </td>
        </tr>
      </tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td colspan="6">
            <p class="Labelcella">Residenza</p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:9%;">
            <p class="Labelcella">Provincia</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">Comune</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">Indirizzo</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella">Civico</p>
          </td>
  				<td style="width:9%;">
            <p class="Labelcella">Barra</p>
          </td>
          <td style="width:16%;">
            <p class="Labelcella">CAP</p>
          </td>
        </tr>
        <tr>
          <td>
            {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
          </td>
          <td>
            <input class="" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" mandatory_enabled="true"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" maxlength="40" style="width:100%;" label="Via di residenza" mandatory_enabled="true"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" format="number" label="Civico di residenza" maxlength="10" mandatory_enabled="true"/>
          </td>
  				<td>
            <input class="" id="{{ prefix }}_BarraResidenza" name="{{ prefix }}_BarraResidenza" style="width:100%;" label="Barra di residenza" maxlength="3"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza" enabled="#{{ prefix }}_CodiceFiscale.value() != '' and #{{ prefix }}_ProvinciaResidenza.value() != 'EE'" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'"/>
          </td>
        </tr>
      </tbody>
    </table>

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory="true">
  		<tbody>
  			<tr class="Rigaintestazioneridotta">
  				<td style="width:16.5%;">
  					<p class="Labelcella">
  						Numero cellulare
  					</p>
  				</td>
  				<td style="width:16.5%;">
  					<p class="Labelcella">
  						Fax
  					</p>
  				</td>
  				<td style="width:33%;">
  					<p class="Labelcella">
  						E-mail
  							<i>
  								(posta elettronica ordinaria)
  							</i>
  					</p>
  				</td>
  				<td>
  					<p class="Labelcella">
  						E-mail PEC
  							<i>
  							(domicilio digitale)
  							</i>
  					</p>
  				</td>
  			</tr>
  			<tr>
  				<td>
  					<input class="inputNormal" id="{{ prefix }}_Telefono" label="Telefono" name="{{ prefix }}_Telefono" style="width:100%" format="number" maxlength="13"/>
  				</td>
  				<td>
  					<input class="inputNormal" id="{{ prefix }}_Fax" label="Fax" mandatory="false" name="{{ prefix }}_Fax" style="width:100%" maxlength="13"/>
  				</td>
  				<td>
  					<input class="inputNormal" format="email" id="{{ prefix }}_EMail" label="E-mail ordinaria" mandatory_enabled="#Tipo_richiedente3.checked()" name="{{ prefix }}_EMail" style="width:100%;" maxlength="60"/>
  				</td>
  				<td>
            <input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="E-mail PEC del {{ Solo1 }}" name="{{ prefix }}_EMailPEC" style="width:100%;" mandatory="#Tipo_richiedente1.checked() || #Tipo_richiedente2.checked() || #Tipo_richiedente4.checked() || #Tipo_richiedente5.checked()" maxlength="60"/>
  				</td>
  			</tr>
  		</tbody>
    </table>

  <!-- simpatico start -->
  </div>
  <!--  simpatico end -->

</div>

{%- endmacro %}


{% macro richiedente_elettorale_new( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}


  <input type="hidden" name="TipoContesto" id="TipoContesto" value="GLOBO">
  <input type="hidden" name="TipoLista" id="TipoLista" value="PGLOBO">

    <table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; {{ visibility_intestazione }}">
      <tbody>
        <tr class="Rigaintestazione">
          <td style="width: 40%; border-left:0px; border-right:0px">
            <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
  					</p>
          </td>
  				<td style="width:3%; border-left:0px; border-right:0px">
            <p class="Labeltabella">{{ carica_campi|safe }}</p>
          </td>
  				<td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
  					<span style="pd4ml-visibility: hidden; pd4ml-display: none;">
  						{{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
  					</span>
          </td>
          <td style="width:27%; border-left:0px; border-right:0px">
            <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory_enabled="true"/>
          </td>
  				<td style="width:25%; border-left:0px; border-right:0px">
            <button type="button" class="real-button" id="RecuperaDatiAnagr">Carica dati anagrafici</button>
          </td>
        </tr>
      </tbody>

      {{ service.getPersonaREST( 'AventeTitolo_CodiceFiscale','TipoContesto', 'TipoLista',  {
        'AventeTitolo_DataNascita':  'datanascita',
        'AventeTitolo_Nome':  'nome',
        'AventeTitolo_Cognome':  'cognome',
        'AventeTitolo_Sesso':  'sesso',
        'AventeTitolo_Nazionalita':  'stato',
        'AventeTitolo_Cittadinanza':  'nazionalita',
        'AventeTitolo_CodiceFamiglia':  'codiceFamiglia',
        'AventeTitolo_CodiceVia':  'codiceVia',
        'AventeTitolo_ProvinciaResidenza' : 'provincia',
        'AventeTitolo_ComuneResidenza' : 'citta',
        'AventeTitolo_ViaResidenza' : 'indirizzo',
        'AventeTitolo_CivicoResidenza' : 'numeroCivico',
        'AventeTitolo_BarraResidenza' : 'barra',
        'AventeTitolo_CAPResidenza' : 'cap',
        'AventeTitolo_Nazione' : 'nazione',
        'AventeTitolo_LuogoNascita' : 'comuneNascita',
        'AventeTitolo_CodiceComuneNascita' : 'codiceComuneNascita',
        'AventeTitolo_MatricolaAnagrafe' : 'matricola',
      },
      '#RecuperaDatiAnagr:click','false') }}
    </table>

    <br>

    <div type="Anagrafica_persona_fisica">
    <table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
      <tbody>
        <tr class="Rigaintestazione">
          <td colspan="4">
            <p><b>Dati anagrafici:</b></p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td colspan="3">
            <p class="Labelcella">Cognome</p>
          </td>
          <td>
            <p class="Labelcella">Nome</p>
          </td>
        </tr>
        <tr>
          <td colspan="3">
            <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome" readonly/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome" readonly/>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:15%;">
            <p class="Labelcella">Data di nascita</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella">Sesso</p>
          </td>
          <td style="width: 26%;">
            <p class="Labelcella">Cittadinanza</p>
          </td>
          <td style="width: 50%;">
            <p class="Labelcella">Luogo di nascita</p>
          </td>
        </tr>
        <tr>
          <td>
            <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita" readonly/>
          </td>
          <td>
            <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso" readonly>
              <option value=""></option>
              <option value="M">M</option>
              <option value="F">F</option>
            </select>
          </td>
          <td>
            <input class="" id="{{ prefix }}_Cittadinanza" name="{{ prefix }}_Cittadinanza" style="width:100%;" label="Nazionalità"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita" readonly/>
          </td>
        </tr>
      </tbody>
    </table>
</div>

    <br>

<div class="simpatico-block simpatico-query-and-answer">
<div type="Residenza_persona_fisica">
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
      <tbody>
        <tr class="Rigaintestazione">
          <td colspan="6">
            <p><b>Residente a:</b></p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:9%;">
            <p class="Labelcella">Provincia</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">Comune</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">Indirizzo</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella">Civico</p>
          </td>
  				<td style="width:9%;">
            <p class="Labelcella">Barra</p>
          </td>
          <td style="width:16%;">
            <p class="Labelcella">CAP</p>
          </td>
        </tr>
        <tr>
          <td>
            {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
          </td>
          <td>
            <input class="" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" readonly/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" maxlength="40" style="width:100%;" label="Via di residenza" mandatory_enabled="true" readonly/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" format="number" label="Civico di residenza" maxlength="10" mandatory_enabled="true" readonly/>
          </td>
  				<td>
            <input class="" id="{{ prefix }}_BarraResidenza" name="{{ prefix }}_BarraResidenza" style="width:100%;" label="Barra di residenza" maxlength="3" readonly/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza" enabled="#{{ prefix }}_CodiceFiscale.value() != '' and #{{ prefix }}_ProvinciaResidenza.value() != 'EE'" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" readonly/>
          </td>
        </tr>
      </tbody>
    </table>

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
  		<tbody>
  			<tr class="Rigaintestazioneridotta">
  				<td style="width:16.5%;">
  					<p class="Labelcella">
  						Telefono fisso
  					</p>
  				</td>
  				<td style="width:16.5%;">
  					<p class="Labelcella">
  						Cellulare
  					</p>
  				</td>
  				<td style="width:33%;">
  					<p class="Labelcella">
  						E-mail
  							<i>
  								(posta elettronica ordinaria)
  							</i>
  					</p>
  				</td>
  				<td>
  					<p class="Labelcella">
  						E-mail PEC
  							<i>
  							(domicilio digitale)
  							</i>
  					</p>
  				</td>
  			</tr>
  			<tr>
  				<td>
  					<input class="inputNormal" id="{{ prefix }}_Fisso" label="Telefono fisso" name="{{ prefix }}_Fisso" style="width:100%" format="number" maxlength="13"/>
  				</td>
  				<td>
  					<input class="inputNormal" id="{{ prefix }}_Telefono" mandatory_enabled="true" label="Telefono cellulare" name="{{ prefix }}_Telefono" style="width:100%" format="number" maxlength="13"/>
  				</td>
  				<td>
  					<input class="inputNormal" format="email" id="{{ prefix }}_EMail" label="E-mail ordinaria" enabled="true" name="{{ prefix }}_EMail" style="width:100%;" maxlength="60"/>
  				</td>
  				<td>
            <input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="E-mail PEC del {{ Solo1 }}" name="{{ prefix }}_EMailPEC" style="width:100%;" maxlength="60"/>
  				</td>
  			</tr>
  		</tbody>
    </table>

</div>
</div>
{%- endmacro %}


{% macro richiedente_IMIS( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}


  <input type="hidden" name="TipoContesto" id="TipoContesto" value="GLOBO">
  <input type="hidden" name="TipoLista" id="TipoLista" value="PGLOBO">

    <table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; {{ visibility_intestazione }}">
      <tbody>
        <tr class="Rigaintestazione">
          <td style="width: 40%; border-left:0px; border-right:0px">
            <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
  					</p>
          </td>
  				<td style="width:3%; border-left:0px; border-right:0px">
            <p class="Labeltabella">{{ carica_campi|safe }}</p>
          </td>
  				<td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
  					<span style="pd4ml-visibility: hidden; pd4ml-display: none;">
  						{{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
  					</span>
          </td>
          <td style="width:27%; border-left:0px; border-right:0px">
            <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory_enabled="true"/>
          </td>
  				<td style="width:25%; border-left:0px; border-right:0px">
            <button type="button" class="real-button" id="RecuperaDatiAnagr">Carica dati anagrafici</button>
          </td>
        </tr>
      </tbody>

      {{ service.getPersonaREST( 'AventeTitolo_CodiceFiscale','TipoContesto', 'TipoLista',  {
        'AventeTitolo_DataNascita':  'datanascita',
        'AventeTitolo_Nome':  'nome',
        'AventeTitolo_Cognome':  'cognome',
        'AventeTitolo_Sesso':  'sesso',
        'AventeTitolo_Nazionalita':  'stato',
        'AventeTitolo_Cittadinanza':  'nazionalita',
        'AventeTitolo_CodiceFamiglia':  'codiceFamiglia',
        'AventeTitolo_CodiceVia':  'codiceVia',
        'AventeTitolo_ProvinciaResidenza' : 'provincia',
        'AventeTitolo_ComuneResidenza' : 'citta',
        'AventeTitolo_ViaResidenza' : 'indirizzo',
        'AventeTitolo_CivicoResidenza' : 'numeroCivico',
        'AventeTitolo_BarraResidenza' : 'barra',
        'AventeTitolo_CAPResidenza' : 'cap',
        'AventeTitolo_Nazione' : 'nazione',
        'AventeTitolo_LuogoNascita' : 'comuneNascita',
        'AventeTitolo_CodiceComuneNascita' : 'codiceComuneNascita',
        'AventeTitolo_MatricolaAnagrafe' : 'matricola',
      },
      '#RecuperaDatiAnagr:click','false') }}
    </table>

    <br>

    <div type="Anagrafica_persona_fisica">
    <table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
      <tbody>
        <tr class="Rigaintestazione">
          <td colspan="4">
            <p><b>Dati anagrafici:</b></p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td colspan="3">
            <p class="Labelcella">Cognome</p>
          </td>
          <td>
            <p class="Labelcella">Nome</p>
          </td>
        </tr>
        <tr>
          <td colspan="3">
            <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome" readonly/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome" readonly/>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:15%;">
            <p class="Labelcella">Data di nascita</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella">Sesso</p>
          </td>
          <td style="width: 26%;">
            <p class="Labelcella">Cittadinanza</p>
          </td>
          <td style="width: 50%;">
            <p class="Labelcella">Luogo di nascita</p>
          </td>
        </tr>
        <tr>
          <td>
            <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita" readonly/>
          </td>
          <td>
            <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso" readonly>
              <option value=""></option>
              <option value="M">M</option>
              <option value="F">F</option>
            </select>
          </td>
          <td>
            <input class="" id="{{ prefix }}_Cittadinanza" name="{{ prefix }}_Cittadinanza" style="width:100%;" label="Nazionalità"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita" readonly/>
          </td>
        </tr>
      </tbody>
    </table>

    <br>

    <div class="simpatico-block simpatico-query-and-answer">
<div type="Residenza_persona_fisica">
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
      <tbody>
        <tr class="Rigaintestazione">
          <td colspan="6">
            <p><b>Residente a:</b></p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:9%;">
            <p class="Labelcella">Provincia</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">Comune</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">Indirizzo</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella">Civico</p>
          </td>
  				<td style="width:9%;">
            <p class="Labelcella">Barra</p>
          </td>
          <td style="width:16%;">
            <p class="Labelcella">CAP</p>
          </td>
        </tr>
        <tr>
          <td>
            {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
          </td>
          <td>
            <input class="" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" maxlength="40" style="width:100%;" label="Via di residenza" mandatory_enabled="true"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" format="number" label="Civico di residenza" maxlength="10" mandatory_enabled="true" />
          </td>
  				<td>
            <input class="" id="{{ prefix }}_BarraResidenza" name="{{ prefix }}_BarraResidenza" style="width:100%;" label="Barra di residenza" maxlength="3" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza" enabled="#{{ prefix }}_CodiceFiscale.value() != '' and #{{ prefix }}_ProvinciaResidenza.value() != 'EE'" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
          </td>
        </tr>
      </tbody>
    </table>

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
  		<tbody>
  			<tr class="Rigaintestazioneridotta">
  				<td>
  					<p class="Labelcella">
  						Telefono fisso
  					</p>
  				</td>
  				<td>
  					<p class="Labelcella">
  						Cellulare
  					</p>
  				</td>
  			</tr>
  			<tr>
  				<td>
  					<input class="inputNormal" id="{{ prefix }}_Fisso" label="Telefono fisso" name="{{ prefix }}_Fisso" style="width:100%" format="number" maxlength="13"/>
  				</td>
  				<td>
  					<input class="inputNormal" id="{{ prefix }}_Telefono" enabled="true" label="Telefono cellulare" name="{{ prefix }}_Telefono" style="width:100%" format="number" maxlength="13"/>
  				</td>
  			</tr>
  		</tbody>
    </table>

</div>
</div>
{%- endmacro %}


{% macro richiedente_cons_acc( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}


  <input type="hidden" name="TipoContesto" id="TipoContesto" value="GLOBO">
  <input type="hidden" name="TipoLista" id="TipoLista" value="PGLOBO">

    <table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; {{ visibility_intestazione }}">
      <tbody>
        <tr class="Rigaintestazione">
          <td style="width: 40%; border-left:0px; border-right:0px">
            <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
  					</p>
          </td>
  				<td style="width:3%; border-left:0px; border-right:0px">
            <p class="Labeltabella">{{ carica_campi|safe }}</p>
          </td>
  				<td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
  					<span style="pd4ml-visibility: hidden; pd4ml-display: none;">
  						{{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
  					</span>
          </td>
          <td style="width:27%; border-left:0px; border-right:0px">
            <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory_enabled="true"/>
          </td>
  				<td style="width:25%; border-left:0px; border-right:0px">
            <button type="button" class="real-button" id="RecuperaDatiAnagr">Carica dati anagrafici</button>
          </td>
        </tr>
      </tbody>

      {{ service.getPersonaREST( 'AventeTitolo_CodiceFiscale','TipoContesto', 'TipoLista',  {
        'AventeTitolo_DataNascita':  'datanascita',
        'AventeTitolo_Nome':  'nome',
        'AventeTitolo_Cognome':  'cognome',
        'AventeTitolo_Sesso':  'sesso',
        'AventeTitolo_Nazionalita':  'stato',
        'AventeTitolo_Cittadinanza':  'nazionalita',
        'AventeTitolo_CodiceFamiglia':  'codiceFamiglia',
        'AventeTitolo_CodiceVia':  'codiceVia',
        'AventeTitolo_ProvinciaResidenza' : 'provincia',
        'AventeTitolo_ComuneResidenza' : 'citta',
        'AventeTitolo_ViaResidenza' : 'indirizzo',
        'AventeTitolo_CivicoResidenza' : 'numeroCivico',
        'AventeTitolo_BarraResidenza' : 'barra',
        'AventeTitolo_CAPResidenza' : 'cap',
        'AventeTitolo_Nazione' : 'nazione',
        'AventeTitolo_LuogoNascita' : 'comuneNascita',
        'AventeTitolo_CodiceComuneNascita' : 'codiceComuneNascita',
        'AventeTitolo_MatricolaAnagrafe' : 'matricola',
      },
      '#RecuperaDatiAnagr:click','false') }}
    </table>

    <br>

    <div type="Anagrafica_persona_fisica">
    <table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
      <tbody>
        <tr class="Rigaintestazione">
          <td colspan="4">
            <p><b>Dati anagrafici:</b></p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td colspan="3">
            <p class="Labelcella">Cognome</p>
          </td>
          <td>
            <p class="Labelcella">Nome</p>
          </td>
        </tr>
        <tr>
          <td colspan="3">
            <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome" readonly/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome" readonly/>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:15%;">
            <p class="Labelcella">Data di nascita</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella">Sesso</p>
          </td>
          <td style="width: 26%;">
            <p class="Labelcella">Cittadinanza</p>
          </td>
          <td style="width: 50%;">
            <p class="Labelcella">Luogo di nascita</p>
          </td>
        </tr>
        <tr>
          <td>
            <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita" readonly/>
          </td>
          <td>
            <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso" readonly>
              <option value=""></option>
              <option value="M">M</option>
              <option value="F">F</option>
            </select>
          </td>
          <td>
            <input class="" id="{{ prefix }}_Cittadinanza" name="{{ prefix }}_Cittadinanza" style="width:100%;" label="Nazionalità"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita" readonly/>
          </td>
        </tr>
      </tbody>
    </table>
</div>

    <br>

<div class="simpatico-block simpatico-query-and-answer">
<div type="Residenza_persona_fisica">
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
      <tbody>
        <tr class="Rigaintestazione">
          <td colspan="6">
            <p><b>Residente a:</b></p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:9%;">
            <p class="Labelcella">Provincia</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">Comune</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">Indirizzo</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella">Civico</p>
          </td>
  				<td style="width:9%;">
            <p class="Labelcella">Barra</p>
          </td>
          <td style="width:16%;">
            <p class="Labelcella">CAP</p>
          </td>
        </tr>
        <tr>
          <td>
            {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
          </td>
          <td>
            <input class="" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" maxlength="40" style="width:100%;" label="Via di residenza" mandatory_enabled="true" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" format="number" label="Civico di residenza" maxlength="10" mandatory_enabled="true" />
          </td>
  				<td>
            <input class="" id="{{ prefix }}_BarraResidenza" name="{{ prefix }}_BarraResidenza" style="width:100%;" label="Barra di residenza" maxlength="3" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza" enabled="#{{ prefix }}_CodiceFiscale.value() != '' and #{{ prefix }}_ProvinciaResidenza.value() != 'EE'" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
          </td>
        </tr>
      </tbody>
    </table>

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
  		<tbody>
  			<tr class="Rigaintestazioneridotta">
  				<td style="width:16.5%;">
  					<p class="Labelcella">
  						Telefono fisso
  					</p>
  				</td>
  				<td style="width:16.5%;">
  					<p class="Labelcella">
  						Cellulare
  					</p>
  				</td>
  				<td style="width:33%;">
  					<p class="Labelcella">
  						E-mail
  							<i>
  								(posta elettronica ordinaria)
  							</i>
  					</p>
  				</td>
  				<td>
  					<p class="Labelcella">
  						E-mail PEC
  							<i>
  							(domicilio digitale)
  							</i>
  					</p>
  				</td>
  			</tr>
  			<tr>
  				<td>
  					<input class="inputNormal" id="{{ prefix }}_Fisso" label="Telefono fisso" name="{{ prefix }}_Fisso" style="width:100%" format="number" maxlength="13"/>
  				</td>
  				<td>
  					<input class="inputNormal" id="{{ prefix }}_Telefono" mandatory_enabled="true" label="Telefono cellulare" name="{{ prefix }}_Telefono" style="width:100%" format="number" maxlength="13"/>
  				</td>
  				<td>
  					<input class="inputNormal" format="email" id="{{ prefix }}_EMail" label="E-mail ordinaria" enabled="true" name="{{ prefix }}_EMail" style="width:100%;" maxlength="60"/>
  				</td>
  				<td>
            <input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="E-mail PEC del {{ Solo1 }}" name="{{ prefix }}_EMailPEC" style="width:100%;" maxlength="60"/>
  				</td>
  			</tr>
  		</tbody>
    </table>

</div>
</div>
{%- endmacro %}


{% macro anagrafica_bambino( prefix='AventeTitolo', intestazione="Il sottoscritto", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", visibility_residenza="visibility:visibility", visibility_mail="no_mail", carica_campi="", cf_obbligatorio="true", format_telefono_numerico="false", pec_obbligatoria ="false"  ) -%}
{% do all_prefix.append( prefix ) %}

<div type="Anagrafica_bambino">

  <input type="hidden" name="TipoContesto" id="TipoContesto" value="GLOBO">
  <input type="hidden" name="TipoLista" id="TipoLista" value="PGLOBO">

  <table class="Modulo" style="border:1px solid grey; {{ visibility_intestazione }}">
    <tbody>
      <tr class="Rigaintestazione">
        <td style="border-right:0px">
          <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
          </p>
        </td>
        <td style="width:38%; border-left:0px; border-right:0px">
          <p class="Labeltabella">{{ carica_campi|safe }}</p>
        </td>
        <td style="width:3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
          <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
            {{ service.getFiglioREST('Parametri_CFBambino','TipoContesto', 'TipoLista', {
              prefix + '_DataNascita':  'datanascita',
              prefix + '_Nome':  'nome',
              prefix + '_Cognome':  'cognome',
              prefix + '_Sesso':  'sesso',
              prefix + '_Nazionalita':  'nazione',
              prefix + '_Cittadinanza':  'nazionalita',
              prefix + '_CFBambino':  'codiceFiscale',
              prefix + '_CodiceFamiglia':  'codiceFamiglia',
              prefix + '_CodiceVia':  'codiceVia',
              prefix + '_ProvinciaResidenza' : 'provincia',
              prefix + '_ComuneResidenza' : 'citta',
              prefix + '_ViaResidenza' : 'indirizzo',
              prefix + '_CivicoResidenza' : 'numeroCivico',
              prefix + '_BarraResidenza' : 'barra',
              prefix + '_CAPResidenza' : 'cap',
              prefix + '_Nazione' : 'nazione',
              prefix + '_LuogoNascita' : 'comuneNascita',
              prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
              prefix + '_MatricolaAnagrafe' : 'matricola',
              prefix + '_Paternita' : 'padre',
              prefix + '_Maternita' : 'madre',
            },
            '#Parametri_CFBambino:change', '#Tassonomia_ListaFam1_allowEdit' ) }}

            {{ service.getPersonaREST('Tassonomia_ListaFam1','TipoContesto', 'TipoLista', {
              prefix + '_DataNascita':  'datanascita',
              prefix + '_Nome':  'nome',
              prefix + '_Cognome':  'cognome',
              prefix + '_Sesso':  'sesso',
              prefix + '_Nazionalita':  'nazione',
              prefix + '_Cittadinanza':  'nazionalita',
              prefix + '_CFBambino':  'codiceFiscale',
              prefix + '_CodiceFamiglia':  'codiceFamiglia',
              prefix + '_CodiceVia':  'codiceVia',
              prefix + '_ProvinciaResidenza' : 'provincia',
              prefix + '_ComuneResidenza' : 'citta',
              prefix + '_ViaResidenza' : 'indirizzo',
              prefix + '_CivicoResidenza' : 'numeroCivico',
              prefix + '_BarraResidenza' : 'barra',
              prefix + '_CAPResidenza' : 'cap',
              prefix + '_Nazione' : 'nazione',
              prefix + '_LuogoNascita' : 'comuneNascita',
              prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
              prefix + '_MatricolaAnagrafe' : 'matricola',
              prefix + '_Paternita' : 'padre',
              prefix + '_Maternita' : 'madre',
            },
            '#Tassonomia_ListaFam1:change', '#Tassonomia_ListaFam1_allowEdit' ) }}
          </span>
        </td>
      </tr>
    </tbody>
  </table>
  <input type="hidden" dynamic_value="#Tassonomia_CF.check_value(['3']) ? 'true' : 'false' " name="Tassonomia_ListaFam1_allowEdit" id="Tassonomia_ListaFam1_allowEdit" />

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory="#{{ prefix }}_DatiPersonaObbligatori.checked()">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="2">
          <p class="Labelcella">Cognome</p>
        </td>
        <td colspan="2">
          <p class="Labelcella">Nome</p>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
        </td>
        <td colspan="2">
          <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:24%;">
          <p class="Labelcella">Data di nascita</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella">Sesso (M/F)</p>
        </td>
        <td style="width: 33%;">
          <p class="Labelcella">Cittadinanza</p>
        </td>
        <td style="width: 34%;">
          <p class="Labelcella">Luogo di nascita</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
        </td>
        <td>
          <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
            <option value=""></option>
            <option value="M">M</option>
            <option value="F">F</option>
          </select>
        </td>
        <td>
          {{ utils.cittadinanza( prefix + '_Cittadinanza', 'Cittadinanza' )}}
        </td>
        <td>
          <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita" />
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="6">
          <p class="Labelcella">Residenza</p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella">Civico</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella">Barra</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella">CAP</p>
        </td>
      </tr>
      <tr>
        <td>
          {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
        </td>
        <td>
          <input class="inputNormal" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza"  mandatory="#{{ prefix }}_DatiPersonaObbligatori.checked()" style="width:100%" label="Comune di residenza"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza"  mandatory="#{{ prefix }}_DatiPersonaObbligatori.checked()" style="width:100%;" label="Via di residenza" maxlength="40"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza"  mandatory="#{{ prefix }}_DatiPersonaObbligatori.checked()" format="number" style="width:100%;" label="Civico di residenza" maxlength="10"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_BarraResidenza" name="{{ prefix }}_BarraResidenza" style="width:100%;" label="Barra di residenza" maxlength="3"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza"  mandatory="#{{ prefix }}_DatiPersonaObbligatori.checked()" style="width:100%;" format="cap" label="CAP di residenza" />
        </td>
      </tr>
    </tbody>
  </table>

  <input id="{{ prefix }}_DatiPersonaObbligatori" name="{{ prefix }}_DatiPersonaObbligatori" dynamic_check="true" type="hidden" />
  <input id="{{ prefix }}_CodiceFamiglia" name="{{ prefix }}_CodiceFamiglia" type="hidden"/>
  <input id="{{ prefix }}_CodiceVia" name="{{ prefix }}_CodiceVia" type="hidden"/>
  <input id="{{ prefix }}_CFBambino" name="{{ prefix }}_CFBambino" type="hidden"/>
  <input id="{{ prefix }}_MatricolaAnagrafe" name="{{ prefix }}_MatricolaAnagrafe" type="hidden"/>
  <input id="{{ prefix }}_Nazionalita" name="{{ prefix }}_Nazionalita" type="hidden"/>
  <input id="{{ prefix }}_Nazione" name="{{ prefix }}_Nazione" type="hidden"/>
  <input id="{{ prefix }}_CodiceComuneNascita" name="{{ prefix }}_CodiceComuneNascita" type="hidden"/>
  <input id="{{ prefix }}_Paternita" name="{{ prefix }}_Paternita" type="hidden"/>
  <input id="{{ prefix }}_Maternita" name="{{ prefix }}_Maternita" type="hidden"/>
</div>
{%- endmacro %}


{% macro genitore_nido( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}

<input type="hidden" name="TipoContesto" id="TipoContesto" value="GLOBO">
  <input type="hidden" name="TipoLista" id="TipoLista" value="PGLOBO">

    <table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; {{ visibility_intestazione }}">
      <tbody>
        <tr class="Rigaintestazione">
          <td style="width: 40%; border-left:0px; border-right:0px">
            <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
  					</p>
          </td>
  				<td style="width:3%; border-left:0px; border-right:0px">
            <p class="Labeltabella">{{ carica_campi|safe }}</p>
          </td>
  				<td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
  					<span style="pd4ml-visibility: hidden; pd4ml-display: none;">
  						{{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
  					</span>
          </td>
          <td style="width:27%; border-left:0px; border-right:0px">
            <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory_enabled="true"/>
          </td>
  				<td style="width:25%; border-left:0px; border-right:0px">
            <button type="button" class="real-button" id="RecuperaDatiAnagr">Carica dati anagrafici</button>
          </td>
        </tr>
      </tbody>

      {{ service.getPersonaREST( 'AventeTitolo_CodiceFiscale','TipoContesto', 'TipoLista',  {
        'AventeTitolo_DataNascita':  'datanascita',
        'AventeTitolo_Nome':  'nome',
        'AventeTitolo_Cognome':  'cognome',
        'AventeTitolo_Sesso':  'sesso',
        'AventeTitolo_Nazionalita':  'stato',
        'AventeTitolo_Cittadinanza':  'nazionalita',
        'AventeTitolo_CodiceFamiglia':  'codiceFamiglia',
        'AventeTitolo_CodiceVia':  'codiceVia',
        'AventeTitolo_ProvinciaResidenza' : 'provincia',
        'AventeTitolo_ComuneResidenza' : 'citta',
        'AventeTitolo_ViaResidenza' : 'indirizzo',
        'AventeTitolo_CivicoResidenza' : 'numeroCivico',
        'AventeTitolo_BarraResidenza' : 'barra',
        'AventeTitolo_CAPResidenza' : 'cap',
        'AventeTitolo_Nazione' : 'nazione',
        'AventeTitolo_LuogoNascita' : 'comuneNascita',
        'AventeTitolo_CodiceComuneNascita' : 'codiceComuneNascita',
        'AventeTitolo_MatricolaAnagrafe' : 'matricola',
      },
      '#RecuperaDatiAnagr:click','false') }}
    </table>

    <br>

    <div type="Anagrafica_persona_fisica">
    <table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
      <tbody>
        <tr class="Rigaintestazione">
          <td colspan="4">
            <p><b>Dati anagrafici:</b></p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td colspan="3">
            <p class="Labelcella">Cognome</p>
          </td>
          <td>
            <p class="Labelcella">Nome</p>
          </td>
        </tr>
        <tr>
          <td colspan="3">
            <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome" readonly/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome" readonly/>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:15%;">
            <p class="Labelcella">Data di nascita</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella">Sesso</p>
          </td>
          <td style="width: 26%;">
            <p class="Labelcella">Cittadinanza</p>
          </td>
          <td style="width: 50%;">
            <p class="Labelcella">Luogo di nascita</p>
          </td>
        </tr>
        <tr>
          <td>
            <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita" readonly/>
          </td>
          <td>
            <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso" readonly>
              <option value=""></option>
              <option value="M">M</option>
              <option value="F">F</option>
            </select>
          </td>
          <td>
            <input class="" id="{{ prefix }}_Cittadinanza" name="{{ prefix }}_Cittadinanza" style="width:100%;" label="Nazionalità"/>
          </td>
          <td>
            <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita" readonly/>
          </td>
        </tr>
      </tbody>
    </table>
</div>

<br>

<div class="simpatico-block simpatico-query-and-answer">
<div type="Residenza_persona_fisica">
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
      <tbody>
        <tr class="Rigaintestazione">
          <td colspan="6">
            <p><b>Residente a:</b></p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:9%;">
            <p class="Labelcella">Provincia</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">Comune</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">Indirizzo</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella">Civico</p>
          </td>
  				<td style="width:9%;">
            <p class="Labelcella">Barra</p>
          </td>
          <td style="width:16%;">
            <p class="Labelcella">CAP</p>
          </td>
        </tr>
        <tr>
          <td>
            {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
          </td>
          <td>
            <input class="" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" maxlength="40" style="width:100%;" label="Via di residenza" mandatory_enabled="true" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" format="number" label="Civico di residenza" maxlength="10" mandatory_enabled="true" />
          </td>
  				<td>
            <input class="" id="{{ prefix }}_BarraResidenza" name="{{ prefix }}_BarraResidenza" style="width:100%;" label="Barra di residenza" maxlength="3" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza" enabled="#{{ prefix }}_CodiceFiscale.value() != '' and #{{ prefix }}_ProvinciaResidenza.value() != 'EE'" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
          </td>
        </tr>
      </tbody>
    </table>

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
  		<tbody>
  			<tr class="Rigaintestazioneridotta">
  				<td style="width:16.5%;">
  					<p class="Labelcella">
  						Telefono fisso
  					</p>
  				</td>
  				<td style="width:16.5%;">
  					<p class="Labelcella">
  						Cellulare
  					</p>
  				</td>
  				<td style="width:33%;">
  					<p class="Labelcella">
  						E-mail
  							<i>
  								(posta elettronica ordinaria)
  							</i>
  					</p>
  				</td>
  				<td>
  					<p class="Labelcella">
  						E-mail PEC
  							<i>
  							(domicilio digitale)
  							</i>
  					</p>
  				</td>
  			</tr>
  			<tr>
  				<td>
  					<input class="inputNormal" id="{{ prefix }}_Fisso" label="Telefono fisso" name="{{ prefix }}_Fisso" style="width:100%" format="number" maxlength="13"/>
  				</td>
  				<td>
  					<input class="inputNormal" id="{{ prefix }}_Telefono" mandatory_enabled="true" label="Telefono cellulare" name="{{ prefix }}_Telefono" style="width:100%" format="number" maxlength="13"/>
  				</td>
  				<td>
  					<input class="inputNormal" format="email" id="{{ prefix }}_EMail" label="E-mail ordinaria" enabled="true" name="{{ prefix }}_EMail" style="width:100%;" maxlength="60"/>
  				</td>
  				<td>
            <input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="E-mail PEC del {{ Solo1 }}" name="{{ prefix }}_EMailPEC" style="width:100%;" maxlength="60"/>
  				</td>
  			</tr>
  		</tbody>
    </table>

</div>
</div>

<input type="hidden" id="AventeTitolo_CodiceFamiglia" name="AventeTitolo_CodiceFamiglia"/>
<input type="hidden" id="AventeTitolo_CodiceVia" name="AventeTitolo_CodiceVia"/>
<input type="hidden" id="AventeTitolo_MatricolaAnagrafe" name="AventeTitolo_MatricolaAnagrafe"/>
<input type="hidden" id="AventeTitolo_CodiceComuneNascita" name="AventeTitolo_CodiceComuneNascita"/>
{%- endmacro %}


{% macro titolare( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", ruoli=["Persona fisica", "Titolare", "Legale rappresentante", "Amministratore di condominio", "Responsabile unico del procedimento", "Procuratore legale"], visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}

<input type="hidden" name="TipoContesto" id="TipoContesto" value="GLOBO">
<input type="hidden" name="TipoLista" id="TipoLista" value="PGLOBO">

<table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; {{ visibility_intestazione }}">
  <tbody>
    <tr class="Rigaintestazione">
      <td style="width: 40%; border-left:0px; border-right:0px">
        <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}</p>
      </td>
      <td style="width:3%; border-left:0px; border-right:0px">
        <p class="Labeltabella">{{ carica_campi|safe }}</p>
      </td>
      <td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
        <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
          {{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
        </span>
      </td>
      <td style="width:27%; border-left:0px; border-right:0px">
        <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory_enabled="true"/>
      </td>
      <td style="width:25%; border-left:0px; border-right:0px">
        <button type="button" class="real-button" id="RecuperaDatiAnagr">Carica dati anagrafici</button>
      </td>
    </tr>
  </tbody>
  
  {{ service.getPersonaREST( 'AventeTitolo_CodiceFiscale','TipoContesto', 'TipoLista',  {
      'AventeTitolo_DataNascita':  'datanascita',
      'AventeTitolo_Nome':  'nome',
      'AventeTitolo_Cognome':  'cognome',
      'AventeTitolo_Sesso':  'sesso',
      'AventeTitolo_Nazionalita':  'stato',
      'AventeTitolo_Cittadinanza':  'nazionalita',
      'AventeTitolo_CodiceFamiglia':  'codiceFamiglia',
      'AventeTitolo_CodiceVia':  'codiceVia',
      'AventeTitolo_ProvinciaResidenza' : 'provincia',
      'AventeTitolo_ComuneResidenza' : 'citta',
      'AventeTitolo_ViaResidenza' : 'indirizzo',
      'AventeTitolo_CivicoResidenza' : 'numeroCivico',
      'AventeTitolo_BarraResidenza' : 'barra',
      'AventeTitolo_CAPResidenza' : 'cap',
      'AventeTitolo_Nazione' : 'nazione',
      'AventeTitolo_LuogoNascita' : 'comuneNascita',
      'AventeTitolo_CodiceComuneNascita' : 'codiceComuneNascita',
      'AventeTitolo_MatricolaAnagrafe' : 'matricola',
    },
    '#RecuperaDatiAnagr:click','false') }}

</table>

<br>

<div type="Anagrafica_persona_fisica">
  <table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
    <tbody>
      <tr class="Rigaintestazione">
        <td colspan="4">
          <p><b>DATI DEL TITOLARE:</b></p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td colspan="3">
          <p class="Labelcella">Cognome</p>
        </td>
        <td>
          <p class="Labelcella">Nome</p>
        </td>
      </tr>
      <tr>
        <td colspan="3">
          <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome" />
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:15%;">
          <p class="Labelcella">Data di nascita</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella">Sesso</p>
        </td>
        <td style="width: 26%;">
          <p class="Labelcella">Cittadinanza</p>
        </td>
        <td style="width: 50%;">
          <p class="Labelcella">Luogo di nascita</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita" />
        </td>
        <td>
          <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso" >
            <option value=""></option>
            <option value="M">M</option>
            <option value="F">F</option>
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Cittadinanza" name="{{ prefix }}_Cittadinanza" style="width:100%;" label="Nazionalità"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita" />
        </td>
      </tr>
    </tbody>
  </table>
</div>

<br>

<div class="simpatico-block simpatico-query-and-answer">
  <div type="Residenza_persona_fisica">
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
      <tbody>
        <tr class="Rigaintestazione">
          <td colspan="6">
            <p><b>Residente a:</b></p>
          </td>
        </tr>
        <tr class="Rigaintestazioneridotta">
          <td style="width:9%;">
            <p class="Labelcella">Provincia</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">Comune</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">Indirizzo</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella">Civico</p>
          </td>
          <td style="width:9%;">
            <p class="Labelcella">Barra</p>
          </td>
          <td style="width:16%;">
            <p class="Labelcella">CAP</p>
          </td>
        </tr>
        <tr>
          <td>
            {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
          </td>
          <td>
            <input class="" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" maxlength="40" style="width:100%;" label="Via di residenza" mandatory_enabled="true" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" format="number" label="Civico di residenza" maxlength="10" mandatory_enabled="true" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_BarraResidenza" name="{{ prefix }}_BarraResidenza" style="width:100%;" label="Barra di residenza" maxlength="3" />
          </td>
          <td>
            <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza" enabled="#{{ prefix }}_CodiceFiscale.value() != '' and #{{ prefix }}_ProvinciaResidenza.value() != 'EE'" mandatory="#{{ prefix }}_ProvinciaResidenza.value() != 'EE'" />
          </td>
        </tr>
      </tbody>
    </table>

    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
      <tbody>
        <tr class="Rigaintestazioneridotta">
          <td style="width:16.5%;">
            <p class="Labelcella">Telefono fisso</p>
          </td>
          <td style="width:16.5%;">
            <p class="Labelcella">Cellulare</p>
          </td>
          <td style="width:33%;">
            <p class="Labelcella">E-mail <i>(posta elettronica ordinaria)</i></p>
          </td>
          <td>
            <p class="Labelcella">E-mail PEC<i>(domicilio digitale)</i></p>
          </td>
        </tr>
        <tr>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Fisso" label="Telefono fisso" name="{{ prefix }}_Fisso" style="width:100%" format="number" maxlength="13"/>
          </td>
          <td>
            <input class="inputNormal" id="{{ prefix }}_Telefono" mandatory_enabled="true" label="Telefono cellulare" name="{{ prefix }}_Telefono" style="width:100%" format="number" maxlength="13"/>
          </td>
          <td>
            <input class="inputNormal" format="email" id="{{ prefix }}_EMail" label="E-mail ordinaria" enabled="true" name="{{ prefix }}_EMail" style="width:100%;" maxlength="60"/>
          </td>
          <td>
            <input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="E-mail PEC" name="{{ prefix }}_EMailPEC" style="width:100%;" maxlength="60"/>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<br>

<table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey">
  <tbody>
    <tr class="Rigaintestazione">
      <td colspan="5">
        <p><b>in qualità di</b></p>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td colspan="5">
        <p class="Labelcella">Ruolo</p>
      </td>
    </tr>
    <tr>
      <td colspan="5">
        <select class="inputNormal" id="{{ prefix }}_Ruolo" name="{{ prefix }}_Ruolo" style="width:100%;" mandatory_enabled="true" label="Ruolo del titolare">
          <option value=""></option>
          {% for ruolo in ruoli %}
          <option value="{{ ruolo }}">{{ ruolo }}</option>
          {% endfor %}
        </select>
      </td>
    </tr>
  </tbody>
</table>

<br>

<div class="simpatico-block simpatico-query-and-answer">
  <table class="Modulo" style="border:1px solid grey">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td colspan="3">
          <p class="Labelcella">Denominazione/Ragione sociale (questa sezione deve essere compilata se il dichiarante non è la persona fisica)</p>
        </td>
        <td colspan="2">
          <p class="Labelcella">Tipologia</p>
        </td>
      </tr>
      <tr mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Responsabile unico del procedimento', 'Titolare omonima ditta individuale' ])">
        <td colspan="3">
          <input class="" id="{{ prefix }}_Denominazione" name="{{ prefix }}_Denominazione" style="width:100%" label="Denominazione/Ragione sociale"/>
        </td>
        <td colspan="2">
          {{ utils.tipologiaimpresa( prefix + '_TipologiaImpresa' )}}
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td colspan="5">
          <p class="Labelcella">Sede legale</p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella">Civico</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella">CAP</p>
        </td>
      </tr>
      <tr mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Responsabile unico del procedimento', 'Titolare omonima ditta individuale' ])">
        <td>
          {{ utils.provincie( prefix + '_ProvinciaSede', label="Provincia della sede legale") }}
        </td>
        <td>
          <select class="inputNormal" id="{{ prefix }}_ComuneSede" name="{{ prefix }}_ComuneSede" style="width:100%" label="Comune della sede legale" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaSede.value(), '{{ prefix }}_ComuneSede')">
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaSede" name="{{ prefix }}_ViaSede" style="width:100%;" label="Indirizzo della sede legale"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoSede" name="{{ prefix }}_CivicoSede" style="width:100%;" label="Civico della sede legale" maxlength="10"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPSede" name="{{ prefix }}_CAPSede" style="width:100%;" format="cap" label="CAP della sede legale" enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Titolare omonima ditta individuale' ])" mandatory="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Titolare omonima ditta individuale' ]) and #{{ prefix }}_ProvinciaSede.value() != 'EE'"/>
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Responsabile unico del procedimento', 'Titolare omonima ditta individuale' ])">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:50%;">
          <p class="Labelcella">Codice Fiscale / Partita IVA </p>
        </td>
        <td style="width:50%;">
          <p class="Labelcella">E-mail PEC (domicilio digitale)</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_CFPI" name="{{ prefix }}_CFPI" label="Codice fiscale" style="width:100%;" format="cfpiva"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_APEC" name="{{ prefix }}_APEC" label="PEC Azienda" style="width:100%;" format="pec" />
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td>
          <p class="Labelcella">Telefono</p>
        </td>
        <td>
          <p class="Labelcella">Fax</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_TelefonoSede" name="{{ prefix }}_TelefonoSede" label="Telefono della sede legale" style="width:100%;"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_FaxSede" name="{{ prefix }}_FaxSede" label="Fax della sede legale" style="width:100%;" mandatory="false"/>
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="margin-top:-1px; border:1px solid grey;">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:50%">
          <p class="Labelcella">Iscrizione al Registro Imprese della Camera di Commercio</p>
        </td>
        <td style="width:9%">
          <p class="Labelcella">Provincia</p>
        </td>
        <td style="width:41%">
          <p class="Labelcella">Numero iscrizione</p>
        </td>
      </tr>
      <tr>
        <td>
          <select class="inputNormal" id="{{ prefix }}_Attributi_IscrittoCCIAA" name="{{ prefix }}_Attributi_IscrittoCCIAA" label="Iscrizione al Registro Imprese della Camera di Commercio" style="width:100%" mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore legale', 'Titolare omonima ditta individuale' ])">
            <option value=""></option>
            <option value="iscritto">iscritto</option>
            <option value="in attesa di iscrizione">in attesa di iscrizione</option>
            <option value="non tenuto all'iscrizione">non tenuto all'iscrizione</option>
          </select>
        </td>
        <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto','in attesa di iscrizione' ])">
          {{ utils.provincie( prefix + '_Attributi_CCIAAProv', label="Provincia iscrizione al Registro Imprese della Camera di Commercio") }}
        </td>
        <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto' ])">
          <input class="" id="{{ prefix }}_Attributi_CCIAANumero" name="{{ prefix }}_Attributi_CCIAANumero" label="Numero iscrizione al Registro Imprese della Camera di Commercio" style="width:100%"/>
        </td>
      </tr>
    </tbody>
  </table>

	<input id="{{ prefix }}_Attributi_CCIAAProv_categoria" 		name="{{ prefix }}_Attributi_CCIAAProv_categoria" 		type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_CCIAAProv_nome" 			name="{{ prefix }}_Attributi_CCIAAProv_nome" 			type="hidden" value="Provincia registro imprese Camera Commercio"/>
	<input id="{{ prefix }}_Attributi_CCIAANumero_categoria" 	name="{{ prefix }}_Attributi_CCIAANumero_categoria" 	type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_CCIAANumero_nome" 		name="{{ prefix }}_Attributi_CCIAANumero_nome" 			type="hidden" value="Numero iscrizione registro imprese Camera Commerci"/>
	<input id="{{ prefix }}_Attributi_IscrittoCCIAA_categoria" 	name="{{ prefix }}_Attributi_IscrittoCCIAA_categoria" 	type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_IscrittoCCIAA_nome" 		name="{{ prefix }}_Attributi_IscrittoCCIAA_nome" 		type="hidden" value="Iscrizione registro imprese Camera Commercio"/>
</div>
{%- endmacro %}


{% macro domicilio_digitale( id_pec_personale="",id_cognome_professionista="",id_nome_professionista="",id_pec_professionista="",id_pec_societa="" ) -%}

<h1 class="Modulo">
 CHIEDE
</h1>

<table class="Modulo" style="border:1px solid grey;">
  <tbody>
    <tr class="Rigaintestazione">
      <td colspan="4">
        <p class="Labeltabella">che tutte le comunicazioni siano inviate al domicilio digitale eletto</p>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; width: 4%; background-color:white;" rowspan="3">
        <div id="Tassonomia_DomDigi" name="Tassonomia_DomDigi"  label="Label" mandatory_enabled="true"></div>
        <input group="Tassonomia_DomDigi" id="Tassonomia_DomDigi1" name="Tassonomia_DomDigi" type="radio" value="1"/>
      </td>
      <td colspan="3">
        <p>
          La mia mail PEC personale <i>(indicata nei miei dati personali)</i>
        </p>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td colspan="3">
        <p class="Labelcella">
          Email Pec
        </p>
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <input class="inputNormal" id="Parametri_DomDigiPersPec" name="Parametri_DomDigiPersPec"  style="width: 100%;" label="Dominio digitale personale nome" format="pec" mandatory_enabled="#Tassonomia_DomDigi1.checked()" dynamic_value="#{{ id_pec_personale }}.value()">
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; width: 4%; background-color:white;" rowspan="3">
        <input group="Tassonomia_DomDigi" id="Tassonomia_DomDigi2" name="Tassonomia_DomDigi" type="radio" value="2"/>
      </td>
      <td colspan="3">
        <p>
          PEC del progettista incaricato
        </p>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td>
        <p class="Labelcella">
          Cognome
        </p>
      </td>
      <td>
        <p class="Labelcella">
          Nome
        </p>
      </td>
      <td>
        <p class="Labelcella">
          Email Pec
        </p>
      </td>
    </tr>
    <tr mandatory_enabled="#Tassonomia_DomDigi2.checked()">
      {% if id_cognome_professionista == '' %}
      <td>
        <input class="inputNormal" id="Parametri_DomDigiProfCognome" name="Parametri_DomDigiProfCognome"  style="width: 100%;" label="Dominio digitale professionista cognome">
      </td>
      {% else %}
      <td>
        <input class="inputNormal" id="Parametri_DomDigiProfCognome" name="Parametri_DomDigiProfCognome"  style="width: 100%;" label="Dominio digitale professionista cognome" dynamic_value="#{{ id_cognome_professionista }}.value()">
      </td>
      {% endif %}

      {% if id_nome_professionista == '' %}
      <td>
        <input class="inputNormal" id="Parametri_DomDigiProfNome" name="Parametri_DomDigiProfNome"  style="width: 100%;" label="Dominio digitale professionista nome">
      </td>
      {% else %}
      <td>
        <input class="inputNormal" id="Parametri_DomDigiProfNome" name="Parametri_DomDigiProfNome"  style="width: 100%;" label="Dominio digitale professionista nome"dynamic_value="#{{ id_nome_professionista }}.value()">
      </td>
      {% endif %}

      {% if id_pec_professionista == '' %}
      <td>
        <input class="inputNormal" id="Parametri_DomDigiProfPec" name="Parametri_DomDigiProfPec"  style="width: 100%;" label="Dominio digitale professionista pec" format="pec">
      </td>
      {% else %}
      <td>
        <input class="inputNormal" id="Parametri_DomDigiProfPec" name="Parametri_DomDigiProfPec"  style="width: 100%;" label="Dominio digitale professionista pec" format="pec"  dynamic_value="#{{ id_pec_professionista }}.value()">
      </td>
      {% endif %}

    </tr>
	<tr>
	<td style="vertical-align: top; width: 4%; background-color:white;" rowspan="3">
	<input group="Tassonomia_DomDigi" id="Tassonomia_DomDigi3" name="Tassonomia_DomDigi" type="radio" value="3"/>
      </td>
      <td colspan="3">
        <p>
          La mail PEC della società <i>(indicata nei dati della società)</i>
        </p>
      </td>
    </tr>
    <tr class="Rigaintestazioneridotta">
      <td colspan="3">
        <p class="Labelcella">
          Email Pec
        </p>
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <input class="inputNormal" id="Parametri_DomDigiSocPec" name="Parametri_DomDigiSocPec"  style="width: 100%;" label="Dominio digitale società" format="pec" mandatory_enabled="#Tassonomia_DomDigi3.checked()" dynamic_value="#{{ id_pec_societa }}.value()">
      </td>
    </tr>


  </tbody>
</table>

{%- endmacro %}


{% macro delega_comunicazioni(id_cognome_professionista="",id_nome_professionista="",id_pec_professionista="") -%}

<table class="Modulo" style="border:1px solid grey;">
  <tbody>
    <tr class="Rigaintestazione">
      <td>
        <p style="line-height: 1.6;"><input id="Tassonomia_DomDigi2" name="Tassonomia_DomDigi2" type="checkbox" value="1"/>
        <b>DELEGA</b> il progettista, <input enabled="#Tassonomia_DomDigi2.checked()" dynamic_value="#Progettista_TitoloPersona.value() + ' ' + #Progettista_Cognome.value() + ' ' + #Progettista_Nome.value()" id="Nominativo_progettista" name="Nominativo_progettista" style="width:76%;"/>
          <br>a ricevere per proprio nome e conto le comunicazioni relative al presente procedimento anche per il tramite del proprio indirizzo PEC (posta elettronica certificata).
          <br><span style="font-size:85%"><i>NB.: la delega riguarda tutte le comunicazioni relative alla fase istruttoria del progetto ai sensi dell'art. 86 della l.p. 15/2015</i></span>
        </p>
      </td>
    </tr>
  </tbody>
</table>

{%- endmacro %}






{% macro professionista_dirlav( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}


<input type="hidden" name="TipoContesto" id="TipoContesto" value="GLOBO">
<input type="hidden" name="TipoLista" id="TipoLista" value="PGLOBO">

<table class="Modulo simpatico-block simpatico-query-and-answer" style="border:1px solid grey; {{ visibility_intestazione }}">
  <tbody>
    <tr class="Rigaintestazione">
      <td style="width: 40%; border-left:0px; border-right:0px">
        <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}</p>
      </td>
      <td style="width:3%; border-left:0px; border-right:0px">
        <p class="Labeltabella">{{ carica_campi|safe }}</p>
      </td>
      <td style="width: 3%; {{ pointer_carica_dati }}; border-left:0px; border-right:0px">
        <span style="pd4ml-visibility: hidden; pd4ml-display: none;">{{ utils.recupero_dati( prefix, visibility_carica_dati ) }}</span>
      </td>
      <td style="width:27%; border-left:0px; border-right:0px">
        <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale" mandatory_enabled="true"/>
      </td>
      <td style="width:25%; border-left:0px; border-right:0px">
        <button type="button" class="real-button" id="RecuperaDatiAnagr">Carica dati anagrafici</button>
      </td>
    </tr>
  </tbody>

  {{ service.getPersonaREST( prefix + '_CodiceFiscale','TipoContesto', 'TipoLista',  {
    prefix + '_DataNascita':  'datanascita',
    prefix + '_Nome':  'nome',
    prefix + '_Cognome':  'cognome',
    prefix + '_Sesso':  'sesso',
    prefix + '_Nazionalita':  'stato',
    prefix + '_Cittadinanza':  'nazionalita',
    prefix + '_CodiceFamiglia':  'codiceFamiglia',
    prefix + '_CodiceVia':  'codiceVia',
    prefix + '_ProvinciaResidenza' : 'provincia',
    prefix + '_ComuneResidenza' : 'citta',
    prefix + '_ViaResidenza' : 'indirizzo',
    prefix + '_CivicoResidenza' : 'numeroCivico',
    prefix + '_BarraResidenza' : 'barra',
    prefix + '_CAPResidenza' : 'cap',
    prefix + '_Nazione' : 'nazione',
    prefix + '_LuogoNascita' : 'comuneNascita',
    prefix + '_CodiceComuneNascita' : 'codiceComuneNascita',
    prefix + '_MatricolaAnagrafe' : 'matricola',
    },
    '#RecuperaDatiAnagr:click','false') }}
</table>

<br>

<div class="Modulo simpatico-block simpatico-query-and-answer">
  <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="true">
    <tbody>
      <tr class="Rigaintestazione">
        <td colspan="4">
          <p><b>Dati anagrafici:</b></p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:13%">
          <p class="Labelcella">Titolo</p>
        </td>
        <td style="width:31%">
          <p class="Labelcella">Cognome</p>
        </td>
        <td>
          <p class="Labelcella">Nome</p>
        </td>
        <td style="width:25%">
          <p class="Labelcella">Codice Fiscale</p>
        </td>
      </tr>
      <tr>
        <td>
          <select class="inputNormal" id="{{ prefix }}_TitoloPersona" name="{{ prefix }}_TitoloPersona" style="width:100%;" label="Titolo del progettista">
            <option value=""></option>
            <option value="Dott.">Dott.</option>
            <option value="Dott.ssa">Dott.ssa</option>
            <option value="Arch.">Arch.</option>
            <option value="Ing.">Ing.</option>
            <option value="Comm.">Perito</option>
            <option value="Geom.">Geom.</option>
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome del progettista"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome del progettista"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del progettista"/>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:15%;">
          <p class="Labelcella">Data di nascita</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella">Sesso</p>
        </td>
        <td style="width: 26%;">
          <p class="Labelcella">Cittadinanza</p>
        </td>
        <td style="width: 50%;">
          <p class="Labelcella">Luogo di nascita</p>
        </td>
      </tr>
      <tr>
        <td>
          <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
        </td>
        <td>
          <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
            <option value=""></option>
            <option value="M">M</option>
            <option value="F">F</option>
          </select>
        </td>
        <td>
          <input class="" id="{{ prefix }}_Cittadinanza" name="{{ prefix }}_Cittadinanza" style="width:100%;" label="Nazionalità"/>
        </td>
        <td>
          <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
    <tbody>
      <tr class="Rigaintestazioneridotta">
        <td style="width:24%">
          <p class="Labelcella">Partita IVA</p>
        </td>
        <td style="width:42%">
          <p class="Labelcella">Albo o Ordine</p>
        </td>
        <td style="width:9%">
          <p class="Labelcella">Provincia</p>
        </td>
        <td style="width:15%">
          <p class="Labelcella">Numero iscrizione</p>
        </td>
        <td style="width:10%">
          <p class="Labelcella">Sezione</p>
        </td>
      </tr>
      <tr>
        <td>
          <input style="width: 100%" id="{{ prefix }}_PartitaIVA" class="inputNormal" name="{{ prefix }}_PartitaIVA" format="cfpiva" label="Partita IVA" enabled="true"/>
        </td>
        <td mandatory="true">
          {{ utils.albi( prefix + '_Attributi_Albo' )}}
        </td>
        <td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
          {{ utils.provincie( prefix + '_Attributi_DellaProvincia', label="Provincia iscrizione Albo") }}
        </td>
        <td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
          <input style="width: 100%" id="{{ prefix }}_Attributi_AlNumero" class="inputNormal" name="{{ prefix }}_Attributi_AlNumero" label="Numero iscrizione Albo"/>
        </td>
        <td mandatory_enabled="#{{ prefix }}_Attributi_Albo.value() != '' and #{{ prefix }}_Attributi_Albo.value() != 'non tenuto all\'iscrizione all\'Albo o all\'Ordine'">
          <input style="width: 100%" id="{{ prefix }}_Attributi_Sezione" class="inputNormal" name="{{ prefix }}_Attributi_Sezione" label="Sezione iscrizione Albo"/>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<br>

<div class="simpatico-block simpatico-query-and-answer">
  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
    <tbody>
      <tr class="Rigaintestazione">
        <td colspan="6">
          <p><b>Con studio in:</b></p>
        </td>
      </tr>
      <tr class="Rigaintestazioneridotta">
        <td style="width:9%;">
          <p class="Labelcella">Provincia</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella">Comune</p>
        </td>
        <td style="width:33%;">
          <p class="Labelcella">Indirizzo</p>
        </td>
        <td style="width:9%;">
          <p class="Labelcella">Civico</p>
        </td>
				<td style="width:9%;">
          <p class="Labelcella">Barra</p>
        </td>
        <td style="width:16%;">
          <p class="Labelcella">CAP</p>
        </td>
      </tr>
      <tr>
        <td>
          {{ utils.provincie( prefix + '_ProvinciaStudio', label="Provincia dello studio") }}
        </td>
        <td>
          <input class="" id="{{ prefix }}_ComuneStudio" name="{{ prefix }}_ComuneStudio" style="width:100%" label="Comune dello Studio" mandatory="#{{ prefix }}_ProvinciaStudio.value() != 'EE'" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_ViaStudio" name="{{ prefix }}_ViaStudio" maxlength="40" style="width:100%;" label="Via dello Studio" mandatory_enabled="true" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_CivicoStudio" name="{{ prefix }}_CivicoStudio" style="width:100%;" format="number" label="Civico dello Studio" maxlength="10" mandatory_enabled="true" />
        </td>
    		<td>
          <input class="" id="{{ prefix }}_BarraStudio" name="{{ prefix }}_BarraStudio" style="width:100%;" label="Barra dello Studio" maxlength="3" />
        </td>
        <td>
          <input class="" id="{{ prefix }}_CAPStudio" name="{{ prefix }}_CAPStudio" style="width:100%;" format="cap" label="CAP dello Studio" enabled="#{{ prefix }}_CodiceFiscale.value() != '' and #{{ prefix }}_ProvinciaStudio.value() != 'EE'" mandatory="#{{ prefix }}_ProvinciaStudio.value() != 'EE'" />
        </td>
      </tr>
    </tbody>
  </table>

  <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
    <tbody>
  	  <tr class="Rigaintestazioneridotta">
  			<td style="width:30%;">
  				<p class="Labelcella">Recapito telefonico</p>
 				</td>
				<td style="width:70%;">
  				<p class="Labelcella">E-mail PEC</p>
  			</td>
 			</tr>
 			<tr>
 				<td>
  				<input class="inputNormal" id="{{ prefix }}_Recapito_telefonico" label="Recapito telefonico" name="{{ prefix }}_Recapito_telefonico" style="width:100%" maxlength="13"/>
  			</td>
  			<td>
          <input class="inputNormal" format="pec" id="{{ prefix }}_EMailPEC" label="PEC del progettista" name="{{ prefix }}_EMailPEC" style="width:100%;" maxlength="60"/>
  			</td>
  		</tr>
  	</tbody>
  </table>
</div>
{%- endmacro %}