{% import 'utils.html' as utils %}
{% import 'utilsGemmlab.html' as utilsGemmlab %}

{% macro cognome_nome( prefix='Titolare', intestazione="Il sottoscritto", Solo1="Richiedente", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility" ) -%}
{% do all_prefix.append( prefix ) %}
<!-- visibility:visibility or display:none, cursor:pointer or default -->
{% set Temp = prefix|replace("NonImportare", "NI") %}
{% if prefix != Temp %}
    {% do TitolareNonImportarePresente.append('0') %}
{% endif %}
<div type="Anagrafica_Cognome_Nome">
    <input id="{{ prefix }}_Titolo" name="{{ prefix }}_Titolo" type="hidden" value="{{ Solo1 }}"/>
    <input id="{{ prefix }}_Ruolo"  name="{{ prefix }}_Ruolo"  type="hidden" value="{{ Solo1 }}"/>	
	<table class="Modulo" style="border:1px solid grey; {{ visibility_intestazione }}">
        <tbody>
            <tr class="Rigaintestazione">
                <td style="border-right:0px">
                    <p class="Labeltabella">{{ intestazione|safe }}
					</p>
                </td>
				<td style="width:3%; border-left:0px; {{ pointer_carica_dati }}">
                    <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
						{{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
					</span>
                </td>
            </tr>
		</tbody>
    </table>
	<table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory="true">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width: 33%;">
                    <p class="Labelcella">Cognome</p>
                </td>
                <td style="width: 33%;">
                    <p class="Labelcella">Nome</p>
                </td>
                <td style="width: 34%;">
                    <p class="Labelcella">Codice Fiscale</p>
                </td>
            </tr>
            <tr>
                <td>
                    <input id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
                </td>
                <td>
                    <input id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
                </td>
                <td>
                    <input format="cf" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" label="Il codice fiscale del {{ Solo1 }}"/>
                </td>
            </tr>
        </tbody>
    </table>
</div>
{%- endmacro %}

{% macro persona_fisica( prefix='AventeTitolo', intestazione="Il sottoscritto", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", visibility_residenza="visibility:visibility", visibility_mail="no_mail", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}
<!-- visibility:visibility or display:none, cursor:pointer or default; visibility_mail: no_mail or mail_ordinaria or mail_pec -->
<!-- creare l'hidden <input id="{{ prefix }}_DatiPersonaObbligatori" name="{{ prefix }}_DatiPersonaObbligatori" type="hidden"/> -->
<!-- Creare l'hidden <input id="{{ prefix }}_Titolo" 		name="{{ prefix }}_Titolo" 		  type="hidden" value="{{Solo1}}"/> -->
<!-- Creare l'hidden <input id="{{ prefix }}_Ruolo"  		name="{{ prefix }}_Ruolo"  		  type="hidden" value="{{Solo1}}"/> -->
<div class="{{ kwargs['classe'] }}" type="Anagrafica_persona_fisica">	
	<table class="{{ kwargs['classe'] }}" style="border:1px solid grey; {{ visibility_intestazione }}">
        <tbody>
            <tr class="Rigaintestazione">
                <td style="border-right:0px">
                    <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
					</p>
                </td>
				<td style="width:38%; border-left:0px; border-right:0px">
                    <p class="Labeltabella">{{ carica_campi|safe }}</p>
                </td>
				<td style="width:3%; {{ pointer_carica_dati }}; border-left:0px">
					<span style="pd4ml-visibility: hidden; pd4ml-display: none;">
						{{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
					</span>
                </td>
            </tr>
		</tbody>
    </table>	
    <table class="{{ kwargs['classe'] }}" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="#{{ prefix }}_DatiPersonaObbligatori.checked()">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td colspan="2">
                    <p class="Labelcella">Cognome</p>
                </td>
                <td>
                    <p class="Labelcella">Nome</p>
                </td>
                <td>
                    <p class="Labelcella">Codice Fiscale</p>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del dichiarante"/>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:24%;">
                    <p class="Labelcella">Data di nascita</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Sesso (M/F)</p>
                </td>
                <td style="width: 33%;">
                    <p class="Labelcella">Cittadinanza</p>
                </td>
                <td style="width: 34%;">
                    <p class="Labelcella">Luogo di nascita</p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
                </td>
                <td>
                    <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
                        <option value=""></option>
                        <option value="M">M</option>
                        <option value="F">F</option>
                    </select>
                </td>
                <td>
                    {{ utils.nazionalita( prefix + '_Cittadinanza', 'Cittadinanza' )}}
                </td>
                <td>
                    <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
                </td>
            </tr>
        </tbody>
    </table>
    {% if visibility_residenza == 'visibility:visibility' %}
    <table class="{{ kwargs['classe'] }}" style="border:1px solid grey; margin-top:-1px; {{ visibility_residenza }} " mandatory_enabled="#{{ prefix }}_DatiPersonaObbligatori.checked()">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td colspan="5">
                    <p class="Labelcella">Residenza</p>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:9%;">
                    <p class="Labelcella">Provincia</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Comune</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Indirizzo</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Civico</p>
                </td>
                <td style="width:16%;">
                    <p class="Labelcella">CAP</p>
                </td>
            </tr>
            <tr>
                <td>
                    {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
                </td>
                <td>
					<select class="inputNormal" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaResidenza.value(), '{{ prefix }}_ComuneResidenza')"></select>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" style="width:100%;" label="Via di residenza"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" label="Civico di residenza"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza"/>
                </td>
            </tr>
        </tbody>
    </table>
    {% endif %}
    {% if visibility_mail == 'mail_ordinaria' %}
	<table class="{{ kwargs['classe'] }}" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_DatiPersonaObbligatori.checked()">
		<tbody>
			<tr class="Rigaintestazioneridotta">
				<td style="width:16.5%;">
					<p class="Labelcella">
						Telefono
					</p>
				</td>
				<td style="width:16.5%;">
					<p class="Labelcella">
						Fax
					</p>
				</td>
				<td style="width:33%;">
					<p class="Labelcella">
						E-mail
							<i>
								(posta elettronica ordinaria)
							</i>
					</p>
				</td>
				<td>
					<p class="Labelcella">
						E-mail PEC
							<i>
							(domicilio digitale)
							</i>
					</p>
				</td>
			</tr>
			<tr>
				<td>
					<input class="inputNormal" id="{{ prefix }}_Telefono" label="Telefono" name="{{ prefix }}_Telefono" style="width:100%"/>
				</td>
				<td>
					<input class="inputNormal" id="{{ prefix }}_Fax" label="Fax" mandatory="false" name="{{ prefix }}_Fax" style="width:100%"/>
				</td>
				<td>
					<input class="inputNormal" format="email" id="{{ prefix }}_EMail" label="E-mail ordinaria" mandatory="false" name="{{ prefix }}_EMail" style="width:100%;"/>
				</td>
				<td>
					<input class="inputNormal" format="email" id="{{ prefix }}_EMailPEC" label="E-mail PEC" mandatory="false" name="{{ prefix }}_EMailPEC" style="width:100%;"/>
				</td>
			</tr>
		</tbody>
	</table>
    {% endif %}
	{% if visibility_mail == 'mail_pec'%}                     
	<table class="{{ kwargs['classe'] }}" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_DatiPersonaObbligatori.checked()">
		<tbody>
			<tr class="Rigaintestazioneridotta">
				<td style="width:21%;">
					<p class="Labelcella">
						Telefono
					</p>
				</td>
				<td style="width:21%;">
					<p class="Labelcella">
						Fax
					</p>
				</td>
				<td>
					<p class="Labelcella">
						E-mail PEC
							<i>
								(domicilio digitale)
							</i>
					</p>
				</td>
			</tr>
			<tr>
				<td>
					<input class="inputNormal" id="{{ prefix }}_Telefono" label="Telefono" name="{{ prefix }}_Telefono" style="width:100%"/>
				</td>
				<td>
					<input class="inputNormal" id="{{ prefix }}_Fax" label="Fax" mandatory="false" name="{{ prefix }}_Fax" style="width:100%"/>
				</td>
				<td>
					<input class="inputNormal" format="email" id="{{ prefix }}_EMailPEC" label="E-mail PEC" name="{{ prefix }}_EMailPEC" style="width:100%;"/>
				</td>
			</tr>
		</tbody>
	</table>
    {% endif %}
</div>
{%- endmacro %}

{% macro persona_fisicaRL( prefix='AventeTitolo', intestazione="Il/La sottoscritto/a", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer" ) -%}
{% do all_prefix.append( prefix ) %}
<!-- visibility:visibility or display:none, cursor:pointer or default -->
<!-- Creare l'hidden <input id="{{ prefix }}_Titolo" name="{{ prefix }}_Titolo" type="hidden" value="{{Solo1}}"/> -->
<!-- Creare l'hidden <input id="{{ prefix }}_Ruolo"  name="{{ prefix }}_Ruolo"  type="hidden" value="{{Solo1}}"/> -->
<div type="Anagrafica_persona_fisicaRL" mandatory="true">
 	<table class="Modulo" style="border:1px solid grey; margin-bottom:-6px">
        <tbody>
            <tr class="RigaintestazioneRidottaRL" style="background: #ffff00 none repeat scroll 0% 50%;">
				<td style="width:3%; border-right:0px">
                </td>
                <td style="border-right:0px; border-left:0px">
                    <p class="Labeltabella" style="text-align:center">{{ intestazione|safe }}
					</p>
                </td>
				<td style="width:3%; {{ pointer_carica_dati }}; border-left:0px">
                     <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
						{{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
					</span>
                </td>
            </tr>
		</tbody>
    </table>
	<table class="Modulo" style="border:1px solid grey">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td colspan="2">
                    <p class="Labelcella">Cognome</p>
                </td>
                <td>
                    <p class="Labelcella">Nome</p>
                </td>
                <td>
                    <p class="Labelcella">Codice Fiscale</p>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del dichiarante"/>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:24%;">
                    <p class="Labelcella">Data di nascita</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Sesso (M/F)</p>
                </td>
                <td style="width: 33%;">
                    <p class="Labelcella">Cittadinanza</p>
                </td>
                <td style="width: 34%;">
                    <p class="Labelcella">Luogo di nascita</p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
                </td>
                <td>
                    <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
                        <option value=""></option>
                        <option value="M">M</option>
                        <option value="F">F</option>
                    </select>
                </td>
                <td>
                    {{ utils.nazionalita( prefix + '_Cittadinanza', 'Cittadinanza' )}}
                </td>
                <td>
                    <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td colspan="5">
                    <p class="Labelcella">Residenza</p>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:9%;">
                    <p class="Labelcella">Provincia</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Comune</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Indirizzo</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Civico</p>
                </td>
                <td style="width:16%;">
                    <p class="Labelcella">CAP</p>
                </td>
            </tr>
            <tr>
                <td>
                    {{ utils.provincie( prefix + '_ProvinciaResidenza', label="Provincia di residenza") }}
                </td>
                <td>
					<select class="inputNormal" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaResidenza.value(), '{{ prefix }}_ComuneResidenza')"></select>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" style="width:100%;" label="Via di residenza"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" label="Civico di residenza"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza"/>
                </td>
            </tr>
        </tbody>
    </table>
</div>
{%- endmacro %}

{% macro professionista( prefix='Referente1', intestazione="Il sottoscritto professionista abilitato", Solo1="Professionista", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", carica_campi="", visibility_intestazione="visibility:visibility") -%}
{% do all_prefix.append( prefix ) %}
<!-- visibility:visibility or display:none, cursor:pointer or default -->
<div type="Anagrafica_professionista">
    <!-- creare l'hidden type="checkbox" id="{{ prefix }}_DatiProfessionistaObbligatori" per settare l'obbligatorietà dei dati del professionista fuori dal <div> -->
    <!-- creare l'hidden type="checkbox" id="{{ prefix }}_DatiAlboProfessionistaObbligatori" per settare l'obbligatorietà dei dati dell'Albo del professionista fuori dal <div> -->
    <input id="{{ prefix }}_Titolo" name="{{ prefix }}_Titolo" type="hidden" value="{{ Solo1 }}"/>
    <input id="{{ prefix }}_Ruolo" name="{{ prefix }}_Ruolo" type="hidden" value="{{ Solo1 }}"/>	
	<table class="Modulo" style="border:1px solid grey; {{ visibility_intestazione }}">
        <tbody>
            <tr class="Rigaintestazione">
                <td style="border-right:0px">
                    <p class="Labeltabella">{{ intestazione|safe }}
					</p>
                </td>
				<td style="width:41%; border-left:0px; border-right:0px">
                    <p class="Labeltabella">{{ carica_campi|safe }}</p>
                </td>
				<td style="width:3%; {{ pointer_carica_dati }}; border-left:0px">
                    <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
						{{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
					</span>
                </td>
            </tr>
		</tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="#{{ prefix }}_DatiProfessionistaObbligatori.checked()">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td colspan="2">
                    <p class="Labelcella">Cognome</p>
                </td>
                <td>
                    <p class="Labelcella">Nome</p>
                </td>
                <td>
                    <p class="Labelcella">Codice Fiscale</p>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del {{ Solo1 }}"/>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:24%;">
                    <p class="Labelcella">Data di nascita</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Sesso (M/F)</p>
                </td>
                <td style="width: 33%;">
                    <p class="Labelcella">Cittadinanza</p>
                </td>
                <td style="width: 34%;">
                    <p class="Labelcella">Luogo di nascita</p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data nascita"/>
                </td>
                <td>
                    <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
                        <option value=""></option>
                        <option value="M">M</option>
                        <option value="F">F</option>
                    </select>
                </td>
                <td>
                   {{ utils.nazionalita( prefix + '_Cittadinanza', 'Cittadinanza' )}}
                </td>
                <td>
                    <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Lugo di nascita"/>
                </td>
            </tr>
		</tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" enabled="#{{ prefix }}_DatiProfessionistaObbligatori.checked()">
        <tbody>
			<tr class="Rigaintestazioneridotta">
				<td style="width:24%">
					<p class="Labelcella">Partita IVA</p>
				</td>
				<td style="width:42%">
					<p class="Labelcella">Albo o Ordine</p>
				</td>
				<td style="width:9%">
					<p class="Labelcella">Provincia</p>
				</td>
				<td style="width:25%">
					<p class="Labelcella">Numero iscrizione</p>
				</td>
			</tr>
			<tr>
				<td>
					<input style="width: 100%" id="{{ prefix }}_PI" class="inputNormal" name="{{ prefix }}_PI" format="cfpiva" label="Partita IVA" mandatory="false"/>
				</td>
				<td mandatory="#{{ prefix }}_DatiAlboProfessionistaObbligatori.checked() || #{{ prefix }}_Attributi_DellaProvincia.value().length > 0 || #{{ prefix }}_Attributi_AlNumero.value().length > 0">
					{{ utils.albi( prefix + '_Attributi_Albo' )}}
				</td>
				<td mandatory="#{{ prefix }}_DatiAlboProfessionistaObbligatori.checked() || #{{ prefix }}_Attributi_Albo.value().length > 0 || #{{ prefix }}_Attributi_AlNumero.value().length > 0">
					{{ utils.provincie( prefix + '_Attributi_DellaProvincia', label="Provincia iscrizione Albo") }}
				</td>
				<td mandatory="#{{ prefix }}_DatiAlboProfessionistaObbligatori.checked() || #{{ prefix }}_Attributi_Albo.value().length > 0 || #{{ prefix }}_Attributi_DellaProvincia.value().length > 0">
					<input style="width: 100%" id="{{ prefix }}_Attributi_AlNumero" class="inputNormal" name="{{ prefix }}_Attributi_AlNumero" label="Numero iscrizione Albo"/>
				</td>
			</tr>
		</tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_DatiProfessionistaObbligatori.checked()">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td colspan="5" style="width: 100%;">
                    <p class="Labelcella">Studio Professionale</p>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:9%;">
                    <p class="Labelcella">Provincia</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Comune</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Indirizzo</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Civico</p>
                </td>
                <td style="width:16%;">
                    <p class="Labelcella">CAP</p>
                </td>
            </tr>
            <tr>
                <td>
					{{ utils.provincie( prefix + '_ProvinciaStudio', label="Provincia dello studio") }}
                </td>
                <td>
					<select class="inputNormal" id="{{ prefix }}_ComuneStudio" name="{{ prefix }}_ComuneStudio" style="width:100%" label="Comune dello studio" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaStudio.value(), '{{ prefix }}_ComuneStudio')">
					</select>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_ViaStudio" name="{{ prefix }}_ViaStudio" style="width:100%;" label="Indirizzo dello studio"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CivicoStudio" name="{{ prefix }}_CivicoStudio" style="width:100%;" label="Civico dello studio"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CAPStudio" name="{{ prefix }}_CAPStudio" style="width:100%;" format="cap" label="CAP dello studio"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_DatiProfessionistaObbligatori.checked()">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:24%;">
                    <p class="Labelcella">Telefono</p>
                </td>
                <td style="width:26%;">
                    <p class="Labelcella">Fax</p>
                </td>
                <td style="width:50%;">
                    <p class="Labelcella">
                        E-mail PEC
                            <i>(domicilio digitale, una casella mail non PEC non sarà ritenuta valida)</i>
                    </p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefix }}_TelefonoStudio" name="{{ prefix }}_TelefonoStudio" style="width:100%" label="Telefono dello studio"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_FaxStudio" name="{{ prefix }}_FaxStudio" style="width:100%" mandatory="false" label="Fax dello studio"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_EMailPEC" name="{{ prefix }}_EMailPEC" style="width:100%;" format="email" label="E-mail PEC dello studio"/>
                </td>
            </tr>
        </tbody>
    </table>
	<input id="{{ prefix }}_Attributi_Albo_categoria" 			name="{{ prefix }}_Attributi_Albo_categoria" 		   type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_Albo_nome" 				name="{{ prefix }}_Attributi_Albo_nome" 			   type="hidden" value="Albo professionale"/>
	<input id="{{ prefix }}_Attributi_AlNumero_categoria" 		name="{{ prefix }}_Attributi_AlNumero_categoria"	   type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_AlNumero_nome" 			name="{{ prefix }}_Attributi_AlNumero_nome" 		   type="hidden" value="Numero iscrizione Albo professionale"/>
	<input id="{{ prefix }}_Attributi_DellaProvincia_categoria" name="{{ prefix }}_Attributi_DellaProvincia_categoria" type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_DellaProvincia_nome" 		name="{{ prefix }}_Attributi_DellaProvincia_nome" 	   type="hidden" value="Provincia Albo professionale"/>
</div>
{%- endmacro %}

{% macro societa( prefix='Titolare', intestazione="Il sottoscritto", ruoli=["Persona fisica", "Titolare", "Legale rappresentante", "Curatore fallimentare", "Erede o avente causa", "Altro"], Solo1="Richiedente", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_mail="mail_pec" ) -%}
{% do all_prefix.append( prefix ) %}
<!-- visibility:visibility or display:none, cursor:pointer or default; visibility_mail: no_mail or mail_ordinaria or mail_pec -->
<div type="Anagrafica_Società">
    {% do all_prefix.append( prefix ) %}
    <input id="{{ prefix }}_Titolo" name="{{ prefix }}_Titolo" type="hidden" value="{{ Solo1 }}"/>
    <table class="Modulo" style="border:1px solid grey; margin-bottom:-6px">
        <tbody>
            <tr class="Rigaintestazione">
                <td style="border-right:0px">
                    <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
                    </p>
                </td>
                <td style="width:3%; {{ pointer_carica_dati }}; border-left:0px">
                    <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
                        {{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
                    </span>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey" mandatory="true">
        <tbody>     
            <tr class="Rigaintestazioneridotta">
                <td colspan="2">
                    <p class="Labelcella">Cognome</p>
                </td>
                <td>
                    <p class="Labelcella">Nome</p>
                </td>
                <td>
                    <p class="Labelcella">Codice Fiscale</p>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del {{ Solo1 }}"/>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta" style="border-top:0px">
                <td style="width:24%;">
                    <p class="Labelcella">Data di nascita</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Sesso (M/F)</p>
                </td>
                <td style="width: 33%;">
                    <p class="Labelcella">Cittadinanza</p>
                </td>
                <td style="width: 34%;">
                    <p class="Labelcella">Luogo di nascita</p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
                </td>
                <td>
                    <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
                        <option value=""></option>
                        <option value="M">M</option>
                        <option value="F">F</option>
                    </select>
                </td>

                <td>
                    {{ utils.nazionalita( prefix + '_Cittadinanza', 'Cittadinanza' )}}
                </td>
                <td>
                    <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory="true">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td colspan="5">
                    <p class="Labelcella">Residenza</p>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:9%;">
                    <p class="Labelcella">Provincia</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Comune</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Indirizzo</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Civico</p>
                </td>
                <td style="width:16%;">
                    <p class="Labelcella">CAP</p>
                </td>
            </tr>
            <tr>
                <td>
                    {{ utils.provincie( prefix + '_ProvinciaResidenza', label='Provincia di residenza' )}}
                </td>
                <td>
                    <select class="inputNormal" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza"
                    dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaResidenza.value(), '{{ prefix }}_ComuneResidenza')">
                    </select>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" style="width:100%;" label="Via di residenza"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" label="Civico di residenza"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza"/>
                </td>
            </tr>
        </tbody>
    </table>
    {% if visibility_mail == 'mail_ordinaria' %}
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory="true">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:16.5%;">
                    <p class="Labelcella">
                        Telefono
                    </p>
                </td>
                <td style="width:16.5%;">
                    <p class="Labelcella">
                        Fax
                    </p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">
                        E-mail
                            <i>
                                (posta elettronica ordinaria)
                            </i>
                    </p>
                </td>
                <td>
                    <p class="Labelcella">
                        E-mail PEC
                            <i>
                            (domicilio digitale)
                            </i>
                    </p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="inputNormal" id="{{ prefix }}_Telefono" label="Telefono" name="{{ prefix }}_Telefono" style="width:100%"/>
                </td>
                <td>
                    <input class="inputNormal" id="{{ prefix }}_Fax" label="Fax" mandatory="false" name="{{ prefix }}_Fax" style="width:100%"/>
                </td>
                <td>
                    <input class="inputNormal" format="email" id="{{ prefix }}_EMail" label="E-mail ordinaria" mandatory="false" name="{{ prefix }}_EMail" style="width:100%;"/>
                </td>
                <td>
                    <input class="inputNormal" format="email" id="{{ prefix }}_EMailPEC" label="E-mail PEC" mandatory="false" name="{{ prefix }}_EMailPEC" style="width:100%;"/>
                </td>
            </tr>
        </tbody>
    </table>
    {% endif %}
    {% if visibility_mail == 'mail_pec'%}                     
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory="true">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:21%;">
                    <p class="Labelcella">
                        Telefono
                    </p>
                </td>
                <td style="width:21%;">
                    <p class="Labelcella">
                        Fax
                    </p>
                </td>
                <td>
                    <p class="Labelcella">
                        E-mail PEC
                            <i>
                                (domicilio digitale)
                            </i>
                    </p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="inputNormal" id="{{ prefix }}_Telefono" label="Telefono" name="{{ prefix }}_Telefono" style="width:100%"/>
                </td>
                <td>
                    <input class="inputNormal" id="{{ prefix }}_Fax" label="Fax" mandatory="false" name="{{ prefix }}_Fax" style="width:100%"/>
                </td>
                <td>
                    <input class="inputNormal" format="email" id="{{ prefix }}_EMailPEC" label="E-mail PEC" name="{{ prefix }}_EMailPEC" style="width:100%;"/>
                </td>
            </tr>
        </tbody>
    </table>
    {% endif %}
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
        <tbody>
            <tr class="Rigaintestazione">
                <td colspan="5">
                    <p><b>in qualità di</b>
                       <span style="font-size:70%"><i>(questa sezione deve essere compilata se il dichiarante non è la persona fisica)</i></span>
                    </p>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td colspan="5">
                    <p class="Labelcella">Ruolo</p>
                </td>
            </tr>
            <tr>
                <td colspan="5">
                    <select class="inputNormal" id="{{ prefix }}_Ruolo" name="{{ prefix }}_Ruolo" style="width:100%;" mandatory_enabled="true" label="Ruolo">
                            <option value=""></option>
                        {% for ruolo in ruoli %}
                            {% if "{S}" in ruolo  %}
                            <option value="{{ ruolo|replace('{S}','') }}" selected="selected">{{ ruolo|replace('{S}','') }}</option>
                            {% else %}
                            <option value="{{ ruolo }}">{{ ruolo }}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td colspan="3">
                    <p class="Labelcella">Denominazione/Ragione sociale</p>
                </td>
                <td colspan="2">
                    <p class="Labelcella">Tipologia</p>
                </td>
            </tr>
            <tr mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Curatore fallimentare', 'Erede o avente causa', 'titolare e responsabile tecnico'])">
                <td colspan="3">
                    <input class="" id="{{ prefix }}_Denominazione" name="{{ prefix }}_Denominazione" style="width:100%" label="Denominazione/Ragione sociale"/>
                </td>
                <td colspan="2">
                    {{ utils.tipologiaimpresa( prefix + '_TipologiaImpresa' )}}
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td colspan="5">
                    <p class="Labelcella">Sede legale</p>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:9%;">
                    <p class="Labelcella">Provincia</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Comune</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Indirizzo</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Civico</p>
                </td>
                <td style="width:16%;">
                    <p class="Labelcella">CAP</p>
                </td>
            </tr>
            <tr mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Curatore fallimentare', 'Erede o avente causa', 'titolare e responsabile tecnico'])">
                <td>
                    {{ utils.provincie( prefix + '_ProvinciaSede', label="Provincia della sede legale") }}
                </td>
                <td>
                    <select class="inputNormal" id="{{ prefix }}_ComuneSede" name="{{ prefix }}_ComuneSede" style="width:100%" label="Comune della sede legale" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaSede.value(), '{{ prefix }}_ComuneSede')">
                    </select>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_ViaSede" name="{{ prefix }}_ViaSede" style="width:100%;" label="Indirizzo della sede legale"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CivicoSede" name="{{ prefix }}_CivicoSede" style="width:100%;" label="Civico della sede legale"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CAPSede" name="{{ prefix }}_CAPSede" style="width:100%;" format="cap" label="CAP della sede legale"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Curatore fallimentare', 'Erede o avente causa', 'titolare e responsabile tecnico'])">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:50%;">
                    <p class="Labelcella">Codice Fiscale</p>
                </td>
                <td style="width:50%;">
                    <p class="Labelcella">Partita IVA</p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefix }}_CFPI" name="{{ prefix }}_CFPI" label="Codice fiscale" style="width:100%;" format="cfpiva"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_PI" name="{{ prefix }}_PI" label="Partita IVA" style="width:100%;" format="piva" mandatory="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto' ])"/>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td>
                    <p class="Labelcella">Telefono</p>
                </td>
                <td>
                    <p class="Labelcella">Fax</p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefix }}_TelefonoSede" name="{{ prefix }}_TelefonoSede" label="Telefono della sede legale" style="width:100%;"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_FaxSede" name="{{ prefix }}_FaxSede" label="Fax della sede legale" style="width:100%;" mandatory="false"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="margin-top:-1px; border:1px solid grey;">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:50%">
                    <p class="Labelcella">Iscrizione al Registro Imprese della Camera di Commercio</p>
                </td>
                <td style="width:9%">
                    <p class="Labelcella">Provincia</p>
                </td>
                <td style="width:41%">
                    <p class="Labelcella">Numero iscrizione</p>
                </td>
            </tr>
            <tr>
                <td>
                    <select class="inputNormal" id="{{ prefix }}_Attributi_IscrittoCCIAA" name="{{ prefix }}_Attributi_IscrittoCCIAA" label="Iscrizione al Registro Imprese della Camera di Commercio" style="width:100%" mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Curatore fallimentare', 'Erede o avente causa', 'titolare e responsabile tecnico'])">
                        <option value=""></option>
                        <option value="iscritto">iscritto</option>
                        <option value="in attesa di iscrizione">in attesa di iscrizione</option>
                        <option value="non tenuto all'iscrizione">non tenuto all'iscrizione</option>
                    </select>
                </td>
                <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto','in attesa di iscrizione' ])">
                    {{ utils.provincie( prefix + '_Attributi_CCIAAProv', label="Provincia iscrizione al Registro Imprese della Camera di Commercio") }}
                </td>
                <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto' ])">
                    <input class="" id="{{ prefix }}_Attributi_CCIAANumero" name="{{ prefix }}_Attributi_CCIAANumero" label="Numero iscrizione al Registro Imprese della Camera di Commercio" style="width:100%"/>
                </td>
            </tr>
        </tbody>
    </table>
    {{ utilsGemmlab.altri_dati(prefix) }}
    <input id="{{ prefix }}_Attributi_CCIAAProv_categoria"      name="{{ prefix }}_Attributi_CCIAAProv_categoria"       type="hidden" value="Altri dati"/>
    <input id="{{ prefix }}_Attributi_CCIAAProv_nome"           name="{{ prefix }}_Attributi_CCIAAProv_nome"            type="hidden" value="Provincia registro imprese Camera Commercio"/>
    <input id="{{ prefix }}_Attributi_CCIAANumero_categoria"    name="{{ prefix }}_Attributi_CCIAANumero_categoria"     type="hidden" value="Altri dati"/>
    <input id="{{ prefix }}_Attributi_CCIAANumero_nome"         name="{{ prefix }}_Attributi_CCIAANumero_nome"          type="hidden" value="Numero iscrizione registro imprese Camera Commerci"/>
    <input id="{{ prefix }}_Attributi_IscrittoCCIAA_categoria"  name="{{ prefix }}_Attributi_IscrittoCCIAA_categoria"   type="hidden" value="Altri dati"/>
    <input id="{{ prefix }}_Attributi_IscrittoCCIAA_nome"       name="{{ prefix }}_Attributi_IscrittoCCIAA_nome"        type="hidden" value="Iscrizione registro imprese Camera Commercio"/>
</div>
{%- endmacro %}

{% macro societaRL( prefix='Titolare', intestazione="Il/La sottoscritto/a ", ruoli=["Titolare", "Legale rappresentante", "Curatore fallimentare", "Erede o avente causa","Procuratore (ex art. 1392 cc)"], titoloSolo1="Richiedente", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer" ) -%}
{% do all_prefix.append( prefix ) %}
<!-- visibility:visibility or display:none, cursor:pointer or default -->
<div type="Anagrafica_SocietàRL">
    <input id="{{ prefix }}_Titolo" name="{{ prefix }}_Titolo" type="hidden" value="{{ titoloSolo1 }}"/>
    	<table class="Modulo" style="border:1px solid grey; margin-bottom:-6px">
        <tbody>
            <tr class="RigaintestazioneRidottaRL" style="background: #ffff00 none repeat scroll 0% 50%;">
				<td style="width:3%; border-right:0px">
                </td>
                <td style="border-right:0px; border-left:0px">
                    <p class="Labeltabella" style="text-align:center">{{ intestazione|safe }}
					</p>
                </td>
				<td style="width:3%; {{ pointer_carica_dati }}; border-left:0px">
                    <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
						{{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
					</span>
                </td>
            </tr>
		</tbody>
    </table>
	<table class="Modulo" style="border:1px solid grey" mandatory="true">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td colspan="2">
                    <p class="Labelcella">Cognome</p>
                </td>
                <td>
                    <p class="Labelcella">Nome</p>
                </td>
                <td>
                    <p class="Labelcella">Codice Fiscale</p>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del {{ Solo1 }}"/>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta" style="border-top:0px">
                <td style="width:24%;">
                    <p class="Labelcella">Data di nascita</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Sesso (M/F)</p>
                </td>
                <td style="width: 33%;">
                    <p class="Labelcella">Cittadinanza</p>
                </td>
                <td style="width: 34%;">
                    <p class="Labelcella">Luogo di nascita</p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
                </td>
                <td>
                    <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
                        <option value=""></option>
                        <option value="M">M</option>
                        <option value="F">F</option>
                    </select>
                </td>

                <td>
                    {{ utils.nazionalita( prefix + '_Cittadinanza', 'Cittadinanza' )}}
                </td>
                <td>
                    <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory="true">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td colspan="5">
                    <p class="Labelcella">Residenza</p>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:9%;">
                    <p class="Labelcella">Provincia</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Comune</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Indirizzo</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Civico</p>
                </td>
                <td style="width:16%;">
                    <p class="Labelcella">CAP</p>
                </td>
            </tr>
            <tr>
                <td>
                    {{ utils.provincie( prefix + '_ProvinciaResidenza', label='Provincia di residenza' )}}
                </td>
                <td>
					<select class="inputNormal" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaResidenza.value(), '{{ prefix }}_ComuneResidenza')">
					</select>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" style="width:100%;" label="Via di residenza"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" label="Civico di residenza"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
        <tbody>
            <tr class="RigaintestazioneRidottaRL" style="background: #ffff00 none repeat scroll 0% 50%;">
                <td colspan="5">
                    <p class="Labeltabella" style="text-align:center">in qualità di</p>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td colspan="5">
                    <p class="Labelcella">Ruolo</p>
                </td>
            </tr>
            <tr>
                <td colspan="5">
                    <select class="inputNormal" id="{{ prefix }}_Ruolo" name="{{ prefix }}_Ruolo" style="width:100%;" mandatory_enabled="true" label="Ruolo">
							<option value=""></option>
						{% for ruolo in ruoli %}
							<option value="{{ ruolo }}">{{ ruolo }}</option>
						{% endfor %}
                    </select>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td colspan="3">
                    <p class="Labelcella">Denominazione/Ragione sociale</p>
                </td>
                <td colspan="2">
                    <p class="Labelcella">Tipologia</p>
                </td>
            </tr>
            <tr mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore (ex art. 1392 cc)' ])">
                <td colspan="3">
                    <input class="" id="{{ prefix }}_Denominazione" name="{{ prefix }}_Denominazione" style="width:100%" label="Denominazione/Ragione sociale"/>
                </td>
                <td colspan="2">
					{{ utils.tipologiaimpresa( prefix + '_TipologiaImpresa' )}}
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td colspan="5">
                    <p class="Labelcella">Sede legale</p>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:9%;">
                    <p class="Labelcella">Provincia</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Comune</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Indirizzo</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Civico</p>
                </td>
                <td style="width:16%;">
                    <p class="Labelcella">CAP</p>
                </td>
            </tr>
            <tr mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore (ex art. 1392 cc)' ])">
                <td>
					{{ utils.provincie( prefix + '_ProvinciaSede', label="Provincia della sede legale") }}
                </td>
				<td>
					<select class="inputNormal" id="{{ prefix }}_ComuneSede" name="{{ prefix }}_ComuneSede" style="width:100%" label="Comune della sede legale" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaSede.value(), '{{ prefix }}_ComuneSede')">
					</select>
				</td>
                <td>
                    <input class="" id="{{ prefix }}_ViaSede" name="{{ prefix }}_ViaSede" style="width:100%;" label="Indirizzo della sede legale"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CivicoSede" name="{{ prefix }}_CivicoSede" style="width:100%;" label="Civico della sede legale"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CAPSede" name="{{ prefix }}_CAPSede" style="width:100%;" format="cap" label="CAP della sede legale"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore (ex art. 1392 cc)' ])">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:50%;">
                    <p class="Labelcella">Codice Fiscale</p>
                </td>
                <td style="width:50%;">
                    <p class="Labelcella">Partita IVA</p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefix }}_CFPI" name="{{ prefix }}_CFPI" label="Codice fiscale" style="width:100%;" format="cfpiva"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_PI" name="{{ prefix }}_PI" label="Partita IVA" style="width:100%;" format="piva" mandatory="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto' ])"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="margin-top:-1px; border:1px solid grey;" mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore (ex art. 1392 cc)' ])">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:24%;">
                    <p class="Labelcella">Telefono</p>
                </td>
                <td style="width:26%;">
                    <p class="Labelcella">Fax</p>
                </td>
                <td style="width:50%;">
                    <p class="Labelcella">
                        E-mail PEC
                            <i>(domicilio digitale, una casella mail non PEC non sarà ritenuta valida)</i>
                    </p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefix }}_TelefonoSede" name="{{ prefix }}_TelefonoSede" label="Telefono della sede legale" style="width:100%;"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_FaxSede" name="{{ prefix }}_FaxSede" label="Fax della sede legale" style="width:100%;" mandatory="false"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_EMailPEC" name="{{ prefix }}_EMailPEC" label="E-mail PEC della sede legale" style="width:100%;" format="email"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="margin-top:-1px; border:1px solid grey;">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:50%">
                    <p class="Labelcella">Iscrizione al Registro Imprese della Camera di Commercio</p>
                </td>
                <td style="width:9%">
                    <p class="Labelcella">Provincia</p>
                </td>
                <td style="width:41%">
                    <p class="Labelcella">Numero iscrizione</p>
                </td>
            </tr>
            <tr>
                <td>
                    <select class="inputNormal" id="{{ prefix }}_Attributi_IscrittoCCIAA" name="{{ prefix }}_Attributi_IscrittoCCIAA" label="Iscrizione al Registro Imprese della Camera di Commercio" style="width:100%" mandatory_enabled="#{{ prefix }}_Ruolo.check_value([ 'Titolare','Legale rappresentante', 'Amministratore di condominio', 'Erede o avente causa', 'Curatore fallimentare','Procuratore (ex art. 1392 cc)' ])">
                        <option value=""></option>
                        <option value="iscritto">iscritto</option>
                        <option value="in attesa di iscrizione">in attesa di iscrizione</option>
                        <option value="non tenuto all'iscrizione">non tenuto all'iscrizione</option>
                    </select>
                </td>
                <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto','in attesa di iscrizione' ])">
					{{ utils.provincie( prefix + '_Attributi_CCIAAProv', label="Provincia iscrizione al Registro Imprese della Camera di Commercio") }}
                </td>
                <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto' ])">
                    <input class="" id="{{ prefix }}_Attributi_CCIAANumero" name="{{ prefix }}_Attributi_CCIAANumero" label="Numero iscrizione al Registro Imprese della Camera di Commercio" style="width:100%"/>
                </td>
            </tr>
        </tbody>
    </table>
	<input id="{{ prefix }}_Attributi_CCIAAProv_categoria" 		name="{{ prefix }}_Attributi_CCIAAProv_categoria" 		type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_CCIAAProv_nome" 			name="{{ prefix }}_Attributi_CCIAAProv_nome" 			type="hidden" value="Provincia registro imprese Camera Commercio"/>
	<input id="{{ prefix }}_Attributi_CCIAANumero_categoria" 	name="{{ prefix }}_Attributi_CCIAANumero_categoria" 	type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_CCIAANumero_nome" 		name="{{ prefix }}_Attributi_CCIAANumero_nome" 			type="hidden" value="Numero iscrizione registro imprese Camera Commerci"/>
	<input id="{{ prefix }}_Attributi_IscrittoCCIAA_categoria" 	name="{{ prefix }}_Attributi_IscrittoCCIAA_categoria" 	type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_IscrittoCCIAA_nome" 		name="{{ prefix }}_Attributi_IscrittoCCIAA_nome" 		type="hidden" value="Iscrizione registro imprese Camera Commercio"/>
</div>
{%- endmacro %}

<!-- ad esempio in STU-EDI-SOG -->
{% macro societa_secondaria( prefix='Referente1', intestazione="Il sottoscritto", ruoli=["Titolare", "Legale rappresentante"], Solo1="Impresa esecutrice", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer",carica_campi="" ) -%}
{% do all_prefix.append( prefix ) %}
<!-- visibility:visibility or display:none, cursor:pointer or default -->
<!-- creare l'hidden type="checkbox" id="{{ prefix }}_DatiSocietaObbligatori" per settare l'obbligatorietà dei dati della società fuori dal <div> -->
	<<div type="Anagrafica_Società_secondaria">
    {% do all_prefix.append( prefix ) %}
    <input id="{{ prefix }}_Titolo" name="{{ prefix }}_Titolo" type="hidden" value="{{ Solo1 }}"/>
    <input id="{{ prefix }}_Ruolo" name="{{ prefix }}_Ruolo" type="hidden" value="{{ Solo1 }}"/>
	<table class="Modulo" style="border:1px solid grey; margin-bottom:-6px">
        <tbody>
            <tr class="Rigaintestazione">
                <td style="border-right:0px">
                    <p class="Labeltabella"  style="vertical-align:middle">{{ intestazione|safe }}
					</p>
                </td>
				<td style="width:41%; border-left:0px; border-right:0px">
                    <p class="Labeltabella">{{ carica_campi|safe }}</p>
                </td>
				<td style="width:3%; {{ pointer_carica_dati }}; border-left:0px">
					<span style="pd4ml-visibility: hidden; pd4ml-display: none;">
						{{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
					</span>
                </td>
            </tr>
		</tbody>
    </table>
	<table class="Modulo" style="border:1px solid grey" mandatory_enabled="#{{ prefix }}_DatiSocietaObbligatori.checked()">
        <tbody>		
            <tr class="Rigaintestazioneridotta">
                <td colspan="2">
                    <p class="Labelcella">Cognome</p>
                </td>
                <td>
                    <p class="Labelcella">Nome</p>
                </td>
                <td>
                    <p class="Labelcella">Codice Fiscale</p>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <input class="" id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del soggetto rappresentante dell'{{ Solo1 }}"/>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta" style="border-top:0px">
                <td style="width:24%;">
                    <p class="Labelcella">Data di nascita</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Sesso (M/F)</p>
                </td>
                <td style="width: 33%;">
                    <p class="Labelcella">Cittadinanza</p>
                </td>
                <td style="width: 34%;">
                    <p class="Labelcella">Luogo di nascita</p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefix }}_DataNascita" name="{{ prefix }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
                </td>
                <td>
                    <select class="inputNormal" id="{{ prefix }}_Sesso" name="{{ prefix }}_Sesso" style="width:100%;" label="Sesso">
                        <option value=""></option>
                        <option value="M">M</option>
                        <option value="F">F</option>
                    </select>
                </td>

                <td>
                    {{ utils.nazionalita( prefix + '_Cittadinanza', 'Cittadinanza' )}}
                </td>
                <td>
                    <input class="" id="{{ prefix }}_LuogoNascita" name="{{ prefix }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_DatiSocietaObbligatori.checked()">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td colspan="5">
                    <p class="Labelcella">Residenza</p>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:9%;">
                    <p class="Labelcella">Provincia</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Comune</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Indirizzo</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Civico</p>
                </td>
                <td style="width:16%;">
                    <p class="Labelcella">CAP</p>
                </td>
            </tr>
            <tr>
                <td>
                    {{ utils.provincie( prefix + '_ProvinciaResidenza', label='Provincia di residenza' )}}
                </td>
                <td>
					<select class="inputNormal" id="{{ prefix }}_ComuneResidenza" name="{{ prefix }}_ComuneResidenza" style="width:100%" label="Comune di residenza"
					dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaResidenza.value(), '{{ prefix }}_ComuneResidenza')">
					</select>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_ViaResidenza" name="{{ prefix }}_ViaResidenza" style="width:100%;" label="Via di residenza"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CivicoResidenza" name="{{ prefix }}_CivicoResidenza" style="width:100%;" label="Civico di residenza"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CAPResidenza" name="{{ prefix }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_DatiSocietaObbligatori.checked()">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:24%;">
                    <p class="Labelcella">Telefono</p>
                </td>
                <td style="width:26%;">
                    <p class="Labelcella">Fax</p>
                </td>
                <td style="width:50%;">
                    <p class="Labelcella">
                        E-mail PEC
                            <i>(domicilio digitale, una casella mail non PEC non sarà ritenuta valida)</i>
                    </p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefix }}_Telefono" name="{{ prefix }}_Telefono" style="width:100%" label="Telefono"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_Fax" name="{{ prefix }}_Fax" style="width:100%" mandatory="false" label="Fax"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_EMailPEC" name="{{ prefix }}_EMailPEC" style="width:100%;" format="email" label="E-mail PEC"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
        <tbody>
            <tr class="Rigaintestazione">
                <td colspan="5">
                    <p><b>in qualità di</b>
                    </p>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td colspan="5">
                    <p class="Labelcella">Ruolo</p>
                </td>
            </tr>
            <tr>
                <td colspan="5">
                    <select class="inputNormal" id="{{ prefix }}_RuoloNonImportare" name="{{ prefix }}_RuoloNonImportare" style="width:100%;" mandatory_enabled="#{{ prefix }}_DatiSocietaObbligatori.checked()" label="Ruolo">
							<option value=""></option>
						{% for ruolo in ruoli %}
							<option value="{{ ruolo }}">{{ ruolo }}</option>
						{% endfor %}
                    </select>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td colspan="3">
                    <p class="Labelcella">Denominazione/Ragione sociale</p>
                </td>
                <td colspan="2">
                    <p class="Labelcella">Tipologia</p>
                </td>
            </tr>
            <tr mandatory_enabled="#{{ prefix }}_RuoloNonImportare.check_value([ 'Titolare','Legale rappresentante', 'Procuratore (ex art. 1392 cc)' ])">
                <td colspan="3">
                    <input class="" id="{{ prefix }}_Denominazione" name="{{ prefix }}_Denominazione" style="width:100%" label="Denominazione/Ragione sociale"/>
                </td>
                <td colspan="2">
					{{ utils.tipologiaimpresa( prefix + '_TipologiaImpresa' )}}
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td colspan="5">
                    <p class="Labelcella">Sede legale</p>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:9%;">
                    <p class="Labelcella">Provincia</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Comune</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Indirizzo</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Civico</p>
                </td>
                <td style="width:16%;">
                    <p class="Labelcella">CAP</p>
                </td>
            </tr>
            <tr mandatory_enabled="#{{ prefix }}_RuoloNonImportare.check_value([ 'Titolare','Legale rappresentante', 'Procuratore (ex art. 1392 cc)' ])">
                <td>
					{{ utils.provincie( prefix + '_ProvinciaSede', label="Provincia della sede legale") }}
                </td>
				<td>
					<select class="inputNormal" id="{{ prefix }}_ComuneSede" name="{{ prefix }}_ComuneSede" style="width:100%" label="Comune della sede legale" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaSede.value(), '{{ prefix }}_ComuneSede')">
					</select>
				</td>
                <td>
                    <input class="" id="{{ prefix }}_ViaSede" name="{{ prefix }}_ViaSede" style="width:100%;" label="Indirizzo della sede legale"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CivicoSede" name="{{ prefix }}_CivicoSede" style="width:100%;" label="Civico della sede legale"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CAPSede" name="{{ prefix }}_CAPSede" style="width:100%;" format="cap" label="CAP della sede legale"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefix }}_RuoloNonImportare.check_value([ 'Titolare','Legale rappresentante', 'Procuratore (ex art. 1392 cc)' ])">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:50%;">
                    <p class="Labelcella">Codice Fiscale</p>
                </td>
                <td style="width:50%;">
                    <p class="Labelcella">Partita IVA</p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefix }}_CFPI" name="{{ prefix }}_CFPI" label="Codice fiscale" style="width:100%;" format="cfpiva"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_PI" name="{{ prefix }}_PI" label="Partita IVA" style="width:100%;" format="piva"/>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td>
                    <p class="Labelcella">Telefono</p>
                </td>
                <td>
                    <p class="Labelcella">Fax</p>
                </td>
             </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefix }}_TelefonoSede" name="{{ prefix }}_TelefonoSede" label="Telefono della sede legale" style="width:100%;"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_FaxSede" name="{{ prefix }}_FaxSede" label="Fax della sede legale" style="width:100%;" mandatory="false"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="margin-top:-1px; border:1px solid grey;">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:50%">
                    <p class="Labelcella">Iscrizione al Registro Imprese della Camera di Commercio</p>
                </td>
                <td style="width:9%">
                    <p class="Labelcella">Provincia</p>
                </td>
                <td style="width:41%">
                    <p class="Labelcella">Numero iscrizione</p>
                </td>
            </tr>
            <tr mandatory_enabled="#{{ prefix }}_RuoloNonImportare.check_value([ 'Titolare','Legale rappresentante', 'Procuratore (ex art. 1392 cc)' ])">
                <td>
                    <p>iscritto</p>
                </td>
                <td>
					{{ utils.provincie( prefix + '_Attributi_CCIAAProv', label="Provincia iscrizione al Registro Imprese della Camera di Commercio") }}
                </td>
                <td>
                    <input class="" id="{{ prefix }}_Attributi_CCIAANumero" name="{{ prefix }}_Attributi_CCIAANumero" label="Numero iscrizione al Registro Imprese della Camera di Commercio" style="width:100%"/>
                </td>
            </tr>
        </tbody>
    </table>
	<input id="{{ prefix }}_Attributi_CCIAAProv_categoria" 		name="{{ prefix }}_Attributi_CCIAAProv_categoria" 		type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_CCIAAProv_nome" 			name="{{ prefix }}_Attributi_CCIAAProv_nome" 			type="hidden" value="Provincia registro imprese Camera Commercio"/>
	<input id="{{ prefix }}_Attributi_CCIAANumero_categoria" 	name="{{ prefix }}_Attributi_CCIAANumero_categoria" 	type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_CCIAANumero_nome" 		name="{{ prefix }}_Attributi_CCIAANumero_nome" 			type="hidden" value="Numero iscrizione registro imprese Camera Commerci"/>
	<input id="{{ prefix }}_Attributi_IscrittoCCIAA_categoria" 	name="{{ prefix }}_Attributi_IscrittoCCIAA_categoria" 	type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_IscrittoCCIAA_nome" 		name="{{ prefix }}_Attributi_IscrittoCCIAA_nome" 		type="hidden" value="Iscrizione registro imprese Camera Commercio"/>
</div>
{%- endmacro %}

{% macro societa_senza_richiedente( prefix='Referente1', intestazione="società", Solo1="Società", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer", visibility_intestazione="visibility:visibility", carica_campi="") -%}
{% do all_prefix.append( prefix ) %}
<!-- visibility:visibility or display:none, cursor:pointer or default -->
<!-- creare l'hidden <input id="{{ prefix }}_DatiSocietaObbligatori" name="{{ prefix }}_DatiSocietaObbligatori" type="hidden"/> -->
	<div type="Anagrafica_Società_senza_richiedente">
    {% do all_prefix.append( prefix ) %}
    <input id="{{ prefix }}_Titolo" name="{{ prefix }}_Titolo" type="hidden" value="{{ Solo1 }}"/>
    <input id="{{ prefix }}_Ruolo"  name="{{ prefix }}_Ruolo"  type="hidden" value="{{ Solo1 }}"/>	
	<table class="Modulo" style="border:1px solid grey; {{ visibility_intestazione }}">
        <tbody>
            <tr class="Rigaintestazione">
                <td style="border-right:0px">
                    <p class="Labeltabella">{{ intestazione|safe }}
					</p>
                </td>
				<td style="width:41%; border-left:0px; border-right:0px">
                    <p class="Labeltabella">{{ carica_campi|safe }}</p>
                </td>
				<td style="width:3%; {{ pointer_carica_dati }}; border-left:0px">
                    <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
						{{ utils.recupero_dati( prefix, visibility_carica_dati ) }}
					</span>
                </td>
            </tr>
		</tbody>
    </table>
	<table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="#{{ prefix }}_DatiSocietaObbligatori.checked()">
        <tbody>	
            <tr class="Rigaintestazioneridotta">
                <td colspan="3">
                    <p class="Labelcella">Denominazione/Ragione sociale</p>
                </td>
                <td colspan="2">
                    <p class="Labelcella">Tipologia</p>
                </td>
            </tr>
            <tr>
                <td colspan="3">
                    <input class="" id="{{ prefix }}_Denominazione" name="{{ prefix }}_Denominazione" style="width:100%" label="Denominazione/Ragione sociale"/>
                </td>
                <td colspan="2">
					{{ utils.tipologiaimpresa( prefix + '_TipologiaImpresa' )}}
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td colspan="5">
                    <p class="Labelcella">Sede legale</p>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:9%;">
                    <p class="Labelcella">Provincia</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Comune</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Indirizzo</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Civico</p>
                </td>
                <td style="width:16%;">
                    <p class="Labelcella">CAP</p>
                </td>
            </tr>
            <tr>
                <td>
					{{ utils.provincie( prefix + '_ProvinciaSede', label="Provincia della sede legale") }}
                </td>
				<td>
					<select class="inputNormal" id="{{ prefix }}_ComuneSede" name="{{ prefix }}_ComuneSede" style="width:100%" label="Comune della sede legale" dynamic_value="getComuniFromProvincia( #{{ prefix }}_ProvinciaSede.value(), '{{ prefix }}_ComuneSede')">
					</select>
				</td>
                <td>
                    <input class="" id="{{ prefix }}_ViaSede" name="{{ prefix }}_ViaSede" style="width:100%;" label="Indirizzo della sede legale"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CivicoSede" name="{{ prefix }}_CivicoSede" style="width:100%;" label="Civico della sede legale"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_CAPSede" name="{{ prefix }}_CAPSede" style="width:100%;" format="cap" label="CAP della sede legale"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="#{{ prefix }}_DatiSocietaObbligatori.checked()">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:50%;">
                    <p class="Labelcella">Codice Fiscale</p>
                </td>
                <td style="width:50%;">
                    <p class="Labelcella">Partita IVA</p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefix }}_CFPI" name="{{ prefix }}_CFPI" label="Codice fiscale" style="width:100%;" format="cfpiva"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_PI" name="{{ prefix }}_PI" label="Partita IVA" style="width:100%;" format="piva" mandatory="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto' ])"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="margin-top:-1px; border:1px solid grey;" mandatory_enabled="#{{ prefix }}_DatiSocietaObbligatori.checked()">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:24%;">
                    <p class="Labelcella">Telefono</p>
                </td>
                <td style="width:26%;">
                    <p class="Labelcella">Fax</p>
                </td>
                <td style="width:50%;">
                    <p class="Labelcella">
                        E-mail PEC
                            <i>(domicilio digitale, una casella mail non PEC non sarà ritenuta valida)</i>
                    </p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefix }}_TelefonoSede" name="{{ prefix }}_TelefonoSede" label="Telefono della sede legale" style="width:100%;"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_FaxSede" name="{{ prefix }}_FaxSede" label="Fax della sede legale" style="width:100%;" mandatory="false"/>
                </td>
                <td>
                    <input class="" id="{{ prefix }}_EMailPEC" name="{{ prefix }}_EMailPEC" label="E-mail PEC della sede legale" style="width:100%;" format="email"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="margin-top:-1px; border:1px solid grey;" mandatory_enabled="#{{ prefix }}_DatiSocietaObbligatori.checked()">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:50%">
                    <p class="Labelcella">Iscrizione al Registro Imprese della Camera di Commercio</p>
                </td>
                <td style="width:9%">
                    <p class="Labelcella">Provincia</p>
                </td>
                <td style="width:41%">
                    <p class="Labelcella">Numero iscrizione</p>
                </td>
            </tr>
            <tr>
                <td>
                    <select class="inputNormal" id="{{ prefix }}_Attributi_IscrittoCCIAA" name="{{ prefix }}_Attributi_IscrittoCCIAA" label="Iscrizione al Registro Imprese della Camera di Commercio" style="width:100%" mandatory_enabled="#{{ prefix }}_DatiSocietaObbligatori.checked()">
                        <option value=""></option>
                        <option value="iscritto">iscritto</option>
                        <option value="in attesa di iscrizione">in attesa di iscrizione</option>
                        <option value="non tenuto all'iscrizione">non tenuto all'iscrizione</option>
                    </select>
                </td>
                <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto','in attesa di iscrizione' ])">
					{{ utils.provincie( prefix + '_Attributi_CCIAAProv', label="Provincia iscrizione al Registro Imprese della Camera di Commercio") }}
                </td>
                <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoCCIAA.check_value([ 'iscritto' ])">
                    <input class="" id="{{ prefix }}_Attributi_CCIAANumero" name="{{ prefix }}_Attributi_CCIAANumero" label="Numero iscrizione al Registro Imprese della Camera di Commercio" style="width:100%"/>
                </td>
            </tr>
        </tbody>
    </table>
    <div type="Anagrafica_altri_dati">
    <table class="Modulo" style="margin-top:-1px; border:1px solid grey">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:59%">
                    <p class="Labelcella">Iscrizione al Repertorio Econimico e Amministrativo (REA)</p>
                </td>
                <td style="width:41%">
                    <p class="Labelcella">Numero iscrizione</p>
                </td>
            </tr>
            <tr>
                <td>
                    <select class="inputNormal" id="{{ prefix }}_Attributi_IscrittoREA" name="{{ prefix }}_Attributi_IscrittoREA" style="width:84.5%; float:left" label="Iscrizione al Repertorio Economico Amministrativo (REA)" mandatory_enabled="#{{ prefix }}_DatiSocietaObbligatori.checked()">
                        <option value=""></option>
                        <option value="iscritto">iscritto</option>
                        <option value="in attesa di iscrizione">in attesa di iscrizione</option>
                        <option value="non tenuto all'iscrizione">non tenuto all'iscrizione</option>
                    </select>
                </td>
                <td mandatory_enabled="#{{ prefix }}_Attributi_IscrittoREA.check_value([ 'iscritto' ])">
                    <input class="inputNormal" id="{{ prefix }}_Attributi_REANumero" name="{{ prefix }}_Attributi_REANumero" style="width:100%" label="Numero iscrizione al Repertorio Economico Amministrativo (REA)"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="margin-top:-1px; border:1px solid grey">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td style="width:50%;">
                    <p class="Labelcella">Posizione INAIL</p>
                </td>
                <td style="width:50%;">
                    <p class="Labelcella">Codice INAIL impresa</p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="inputNormal" id="{{ prefix }}_Attributi_INAILPos" name="{{ prefix }}_Attributi_INAILPos" style="width:100%" label="Posizione INAIL"
                    enabled="#{{ prefix }}_DatiSocietaObbligatori.checked()"/>
                </td>
                <td>
                    <input class="inputNormal" id="{{ prefix }}_Attributi_INAILCod" name="{{ prefix }}_Attributi_INAILCod" style="width:100%" label="Codice INAIL impresa" enabled="#{{ prefix }}_DatiSocietaObbligatori.checked()"/>
                </td>
            </tr>
        </tbody>
    </table>
    <input id="{{ prefix }}_Attributi_REANumero_categoria" name="{{ prefix }}_Attributi_REANumero_categoria" type="hidden" value="Altri dati"/>
    <input id="{{ prefix }}_Attributi_REANumero_nome" name="{{ prefix }}_Attributi_REANumero_nome" type="hidden" value="Numero iscrizione R.E.A."/>
    <input id="{{ prefix }}_Attributi_INAILPos_categoria" name="{{ prefix }}_Attributi_INAILPos_categoria" type="hidden" value="Altri dati"/>
    <input id="{{ prefix }}_Attributi_INAILPos_nome" name="{{ prefix }}_Attributi_INAILPos_nome" type="hidden" value="Posizione INAIL"/>
    <input id="{{ prefix }}_Attributi_INAILCod_categoria" name="{{ prefix }}_Attributi_INAILCod_categoria" type="hidden" value="Altri dati"/>
    <input id="{{ prefix }}_Attributi_INAILCod_nome" name="{{ prefix }}_Attributi_INAILCod_nome" type="hidden" value="Codice INAIL impresa"/>
</div>
	<input id="{{ prefix }}_Attributi_CCIAAProv_categoria" 		name="{{ prefix }}_Attributi_CCIAAProv_categoria" 		type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_CCIAAProv_nome" 			name="{{ prefix }}_Attributi_CCIAAProv_nome" 			type="hidden" value="Provincia registro imprese Camera Commercio"/>
	<input id="{{ prefix }}_Attributi_CCIAANumero_categoria" 	name="{{ prefix }}_Attributi_CCIAANumero_categoria" 	type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_CCIAANumero_nome" 		name="{{ prefix }}_Attributi_CCIAANumero_nome" 			type="hidden" value="Numero iscrizione registro imprese Camera Commerci"/>
	<input id="{{ prefix }}_Attributi_IscrittoCCIAA_categoria" 	name="{{ prefix }}_Attributi_IscrittoCCIAA_categoria" 	type="hidden" value="Altri dati"/>
	<input id="{{ prefix }}_Attributi_IscrittoCCIAA_nome" 		name="{{ prefix }}_Attributi_IscrittoCCIAA_nome" 		type="hidden" value="Iscrizione registro imprese Camera Commercio"/>
</div>
{%- endmacro %}

{% macro soggetto_riferimento_servizi_demografici( prefix='AventeTitolo', testo_altra_persona="riferito alla persona di seguito specificata", testo_persona="riferito alla propria persona" ) -%}
<div type="soggetto_riferimento_servizi_demografici">
	<input id="{{ prefix }}_Titolo" name="{{ prefix }}_Titolo" type="hidden" value="Soggetto interessato"/>
    <input id="{{ prefix }}_Ruolo"  name="{{ prefix }}_Ruolo"  type="hidden" value="Soggetto interessato"/>	
	<table class="Modulo" style="border:1px solid grey;margin-top:-1px">
		<tbody>
			<tr class="Rigaintestazioneridotta">
				<td colspan="5">
					<p class="Labelcella">
						Soggetto interessato
					</p>
				</td>
			</tr>
			<tr>
				<td style="width:3%">
					<div id="Tassonomia_SoggettoInteressato" label="Soggetto interessato" mandatory="true"></div>
					<input id="Tassonomia_SoggettoInteressato1" name="Tassonomia_SoggettoInteressato" type="radio" value="1"/>
				</td>
				<td colspan="4">
					<p>
						{{ testo_persona }}
					</p>
				</td>
			</tr>
			<tr>
				<td rowspan="5" style="vertical-align:top; background-color:white">
					<input id="Tassonomia_SoggettoInteressato2" name="Tassonomia_SoggettoInteressato" type="radio" value="2"/>
				</td>
				<td colspan="4">
					<p>
						{{ testo_altra_persona }}
					</p>
				</td>
			</tr>
			<tr class="Rigaintestazioneridotta">
				<td colspan="2">
					<p class="Labelcella">
						Cognome
					</p>
				</td>
				<td>
					<p class="Labelcella">
						Nome
					</p>
				</td>
				<td>
					<p class="Labelcella">
						Codice Fiscale
					</p>
				</td>
			</tr>
			<tr mandatory_enabled="#Tassonomia_SoggettoInteressato2.checked()">
				<td colspan="2">
					<input class="inputNormal" id="{{ prefix }}_Cognome" label="Cognome soggetto interessato" name="{{ prefix }}_Cognome" style="width:100%"/>
				</td>
				<td>
					<input class="inputNormal" id="{{ prefix }}_Nome" label="Nome soggetto interessato" name="{{ prefix }}_Nome" style="width:100%"/>
				</td>
				<td>
					<input class="inputNormal" format="cf" id="{{ prefix }}_CodiceFiscale" label="Codice Fiscale soggetto interessato" name="{{ prefix }}_CodiceFiscale" style="width:100%"/>
				</td>
			</tr>
			<tr class="Rigaintestazioneridotta">
				<td style="width:24%;">
					<p class="Labelcella">
						Data di nascita
					</p>
				</td>
				<td style="width:9%;">
					<p class="Labelcella">
						Sesso (M/F)
					</p>
				</td>
				<td style="width: 33%;">
					<p class="Labelcella">
						Cittadinanza
					</p>
				</td>
				<td style="width: 34%;">
					<p class="Labelcella">
						Luogo di nascita
					</p>
				</td>
			</tr>
			<tr mandatory_enabled="#Tassonomia_SoggettoInteressato2.checked()">
				<td>
					<input class="inputNormal" format="date" id="AventeTitolo_DataNascita" label="Data di nascita soggetto interessato" name="AventeTitolo_DataNascita" style="width:100%;"/>
				</td>
				<td>
					<select class="inputNormal" id="AventeTitolo_Sesso" label="Sesso soggetto interessato" name="AventeTitolo_Sesso" style="width:100%;">
						<option value=""></option>
						<option value="M">M</option>
						<option value="F">F</option>
					</select>
				</td>
				<td>
					{{ utils.nazionalita( prefix + '_Cittadinanza', 'Cittadinanza soggetto interessato' )}}
				</td>
				<td>
					<input class="inputNormal" id="AventeTitolo_LuogoNascita" label="Luogo di nascita" name="AventeTitolo_LuogoNascita" style="width:100%;"/>
				</td>
			</tr>
		</tbody>
	</table>
</div>
{%- endmacro %}

{% macro anagrafica_genitori( prefixGenitore1='AventeTitolo', prefixGenitore2='AventeTitolo1', frase_iniziale="L'istanza deve essere sottoscritta da entrambi i genitori o dal tutore legale", visibility_carica_dati="visibility:visibility", pointer_carica_dati="cursor:pointer" ) -%}
{% do all_prefix.append( prefixGenitore1 ) %}
<div type="Anagrafica_genitori">	
	<p class="Modulo" style="text-align:center"><span style="font-size:93%">{{ frase_iniziale }}</span></p>
	<table class="Modulo" style="border:1px solid grey">
        <tbody>
            <tr class="Rigaintestazione">
                <td style="border-right:0px">
                    <p class="Labeltabella">il/la sottoscritto/a
					</p>
                </td>
				<td style="width:3%; {{ pointer_carica_dati }}; border-left:0px">
                    <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
						{{ utils.recupero_dati( prefixGenitore1, visibility_carica_dati ) }}
					</span>
                </td>
            </tr>
		</tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory="true">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td colspan="2">
                    <p class="Labelcella">Cognome</p>
                </td>
                <td>
                    <p class="Labelcella">Nome</p>
                </td>
                <td>
                    <p class="Labelcella">Codice Fiscale</p>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <input class="" id="{{ prefixGenitore1 }}_Cognome" name="{{ prefixGenitore1 }}_Cognome" style="width:100%" label="Cognome"/>
                </td>
                <td>
                    <input class="" id="{{ prefixGenitore1 }}_Nome" name="{{ prefixGenitore1 }}_Nome" style="width:100%" label="Nome"/>
                </td>
                <td>
                    <input class="" id="{{ prefixGenitore1 }}_CodiceFiscale" name="{{ prefixGenitore1 }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del genitore/tutore legale"/>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:24%;">
                    <p class="Labelcella">Data di nascita</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Sesso (M/F)</p>
                </td>
                <td style="width: 33%;">
                    <p class="Labelcella">Cittadinanza</p>
                </td>
                <td style="width: 34%;">
                    <p class="Labelcella">Luogo di nascita</p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefixGenitore1 }}_DataNascita" name="{{ prefixGenitore1 }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
                </td>
                <td>
                    <select class="inputNormal" id="{{ prefixGenitore1 }}_Sesso" name="{{ prefixGenitore1 }}_Sesso" style="width:100%;" label="Sesso">
                        <option value=""></option>
                        <option value="M">M</option>
                        <option value="F">F</option>
                    </select>
                </td>
                <td>
                    {{ utils.nazionalita( prefixGenitore1 + '_Cittadinanza', 'Cittadinanza' )}}
                </td>
                <td>
                    <input class="" id="{{ prefixGenitore1 }}_LuogoNascita" name="{{ prefixGenitore1 }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory="true">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td colspan="5">
                    <p class="Labelcella">Residenza</p>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:9%;">
                    <p class="Labelcella">Provincia</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Comune</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Indirizzo</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Civico</p>
                </td>
                <td style="width:16%;">
                    <p class="Labelcella">CAP</p>
                </td>
            </tr>
            <tr>
                <td>
                    {{ utils.provincie( prefixGenitore1 + '_ProvinciaResidenza', label="Provincia di residenza") }}
                </td>
                <td>
					<select class="inputNormal" id="{{ prefixGenitore1 }}_ComuneResidenza" name="{{ prefixGenitore1 }}_ComuneResidenza" style="width:100%" label="Comune di residenza" dynamic_value="getComuniFromProvincia( #{{ prefixGenitore1 }}_ProvinciaResidenza.value(), '{{ prefixGenitore1 }}_ComuneResidenza')"></select>
                </td>
                <td>
                    <input class="" id="{{ prefixGenitore1 }}_ViaResidenza" name="{{ prefixGenitore1 }}_ViaResidenza" style="width:100%;" label="Via di residenza"/>
                </td>
                <td>
                    <input class="" id="{{ prefixGenitore1 }}_CivicoResidenza" name="{{ prefixGenitore1 }}_CivicoResidenza" style="width:100%;" label="Civico di residenza"/>
                </td>
                <td>
                    <input class="" id="{{ prefixGenitore1 }}_CAPResidenza" name="{{ prefixGenitore1 }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza"/>
                </td>
            </tr>
        </tbody>
    </table>
	<table class="Modulo" mandatory="true" style="border:1px solid grey; margin-top:-1px;">
		<tbody>
			<tr class="Rigaintestazioneridotta">
				<td style="width:16.5%;">
					<p class="Labelcella">
						Telefono
					</p>
				</td>
				<td style="width:16.5%;">
					<p class="Labelcella">
						Fax
					</p>
				</td>
				<td style="width:33%;">
					<p class="Labelcella">
						E-mail
						<i>
							(posta elettronica ordinaria)
						</i>
					</p>
				</td>
				<td>
					<p class="Labelcella">
						E-mail PEC
						<i>
							(domicilio digitale)
						</i>
					</p>
				</td>
			</tr>
			<tr>
				<td>
					<input class="inputNormal" id="{{ prefixGenitore1 }}_Telefono" label="Telefono" name="{{ prefixGenitore1 }}_Telefono" style="width:100%"/>
				</td>
				<td>
					<input class="inputNormal" id="{{ prefixGenitore1 }}_Fax" label="Fax" mandatory="false" name="{{ prefixGenitore1 }}_Fax" style="width:100%"/>
				</td>
				<td>
					<input class="inputNormal" format="email" id="{{ prefixGenitore1 }}_EMail" label="E-mail ordinaria" mandatory="false" name="{{ prefixGenitore1 }}_EMail" style="width:100%;"/>
				</td>
				<td>
					<input class="inputNormal" format="email" id="{{ prefixGenitore1 }}_EMailPEC" label="E-mail PEC" mandatory="false" name="{{ prefixGenitore1 }}_EMailPEC" style="width:100%;"/>
				</td>
			</tr>
		</tbody>
	</table>
	<table class="Modulo" style="border:1px solid grey; margin-top:-1px;">
        <tbody>
			<tr class="Rigaintestazioneridotta">
				<td colspan="2">
					<p class="Labelcella">
						In qualità di (madre, padre o tutore legale)
					</p>
				</td>
			</tr>
			<tr>
				<td style="border-right:0px">
					<select class="inputNormal" id="{{ prefixGenitore1 }}_Titolo" name="{{ prefixGenitore1 }}_Titolo" style="width:100%" label="Ruolo" mandatory="true">
						<option value=""></option>
						<option value="madre">madre</option>
						<option value="padre">padre</option>
						<option value="tutore legale">tutore legale</option>
					</select>
				</td>
			</tr>
		</tbody>
	</table>
	<table class="Modulo" style="border:1px solid grey">
        <tbody>
            <tr class="Rigaintestazione">
                <td style="border-right:0px">
                    <p class="Labeltabella"><input id="{{ prefixGenitore2 }}_Attivazione" name="{{ prefixGenitore2 }}_Attivazione" type="checkbox" value="si"/> e il/la sottoscritto/a
					</p>
                </td>
				<td style="width:3%; {{ pointer_carica_dati }}; border-left:0px">
                    <span style="pd4ml-visibility: hidden; pd4ml-display: none;">
						{{ utils.recupero_dati( prefixGenitore2, visibility_carica_dati ) }}
					</span>
                </td>
            </tr>
		</tbody>
    </table>	
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="#{{ prefixGenitore2 }}_Attivazione.checked()">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td colspan="2">
                    <p class="Labelcella">Cognome</p>
                </td>
                <td>
                    <p class="Labelcella">Nome</p>
                </td>
                <td>
                    <p class="Labelcella">Codice Fiscale</p>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <input class="" id="{{ prefixGenitore2 }}_Cognome" name="{{ prefixGenitore2 }}_Cognome" style="width:100%" label="Cognome"/>
                </td>
                <td>
                    <input class="" id="{{ prefixGenitore2 }}_Nome" name="{{ prefixGenitore2 }}_Nome" style="width:100%" label="Nome"/>
                </td>
                <td>
                    <input class="" id="{{ prefixGenitore2 }}_CodiceFiscale" name="{{ prefixGenitore2 }}_CodiceFiscale" style="width:100%" format="cf" label="Il codice fiscale del genitore/tutore legale"/>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:24%;">
                    <p class="Labelcella">Data di nascita</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Sesso (M/F)</p>
                </td>
                <td style="width: 33%;">
                    <p class="Labelcella">Cittadinanza</p>
                </td>
                <td style="width: 34%;">
                    <p class="Labelcella">Luogo di nascita</p>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="" id="{{ prefixGenitore2 }}_DataNascita" name="{{ prefixGenitore2 }}_DataNascita" style="width:100%;" format="date" label="Data di nascita"/>
                </td>
                <td>
                    <select class="inputNormal" id="{{ prefixGenitore2 }}_Sesso" name="{{ prefixGenitore2 }}_Sesso" style="width:100%;" label="Sesso">
                        <option value=""></option>
                        <option value="M">M</option>
                        <option value="F">F</option>
                    </select>
                </td>
                <td>
                    {{ utils.nazionalita( prefixGenitore2 + '_Cittadinanza', 'Cittadinanza' )}}
                </td>
                <td>
                    <input class="" id="{{ prefixGenitore2 }}_LuogoNascita" name="{{ prefixGenitore2 }}_LuogoNascita" style="width:100%;" label="Luogo di nascita"/>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="Modulo" style="border:1px solid grey; margin-top:-1px" mandatory_enabled="#{{ prefixGenitore2 }}_Attivazione.checked()">
        <tbody>
            <tr class="Rigaintestazioneridotta">
                <td colspan="5">
                    <p class="Labelcella">Residenza</p>
                </td>
            </tr>
            <tr class="Rigaintestazioneridotta">
                <td style="width:9%;">
                    <p class="Labelcella">Provincia</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Comune</p>
                </td>
                <td style="width:33%;">
                    <p class="Labelcella">Indirizzo</p>
                </td>
                <td style="width:9%;">
                    <p class="Labelcella">Civico</p>
                </td>
                <td style="width:16%;">
                    <p class="Labelcella">CAP</p>
                </td>
            </tr>
            <tr>
                <td>
                    {{ utils.provincie( prefixGenitore2 + '_ProvinciaResidenza', label="Provincia di residenza") }}
                </td>
                <td>
					<select class="inputNormal" id="{{ prefixGenitore2 }}_ComuneResidenza" name="{{ prefixGenitore2 }}_ComuneResidenza" style="width:100%" label="Comune di residenza" dynamic_value="getComuniFromProvincia( #{{ prefixGenitore2 }}_ProvinciaResidenza.value(), '{{ prefixGenitore2 }}_ComuneResidenza')"></select>
                </td>
                <td>
                    <input class="" id="{{ prefixGenitore2 }}_ViaResidenza" name="{{ prefixGenitore2 }}_ViaResidenza" style="width:100%;" label="Via di residenza"/>
                </td>
                <td>
                    <input class="" id="{{ prefixGenitore2 }}_CivicoResidenza" name="{{ prefixGenitore2 }}_CivicoResidenza" style="width:100%;" label="Civico di residenza"/>
                </td>
                <td>
                    <input class="" id="{{ prefixGenitore2 }}_CAPResidenza" name="{{ prefixGenitore2 }}_CAPResidenza" style="width:100%;" format="cap" label="CAP di residenza"/>
                </td>
            </tr>
        </tbody>
    </table>
	<table class="Modulo" mandatory_enabled="#{{ prefixGenitore2 }}_Attivazione.checked()" style="border:1px solid grey; margin-top:-1px;">
		<tbody>
			<tr class="Rigaintestazioneridotta">
				<td style="width:18%;">
					<p class="Labelcella">
						Telefono
					</p>
				</td>
				<td style="width:18%;">
					<p class="Labelcella">
						Fax
					</p>
				</td>
				<td style="width:32%;">
					<p class="Labelcella">
						E-mail
						<i>
							(posta elettronica ordinaria)
						</i>
					</p>
				</td>
				<td>
					<p class="Labelcella">
						E-mail PEC
						<i>
							(domicilio digitale)
						</i>
					</p>
				</td>
			</tr>
			<tr>
				<td>
					<input class="inputNormal" id="{{ prefixGenitore2 }}_Telefono" label="Telefono" name="{{ prefixGenitore2 }}_Telefono" style="width:100%"/>
				</td>
				<td>
					<input class="inputNormal" id="{{ prefixGenitore2 }}_Fax" label="Fax" mandatory="false" name="{{ prefixGenitore2 }}_Fax" style="width:100%"/>
				</td>
				<td>
					<input class="inputNormal" format="email" id="{{ prefixGenitore2 }}_EMail" label="E-mail ordinaria" mandatory="false" name="{{ prefixGenitore2 }}_EMail" style="width:100%;"/>
				</td>
				<td>
					<input class="inputNormal" format="email" id="{{ prefixGenitore2 }}_EMailPEC" label="E-mail PEC" mandatory="false" name="{{ prefixGenitore2 }}_EMailPEC" style="width:100%;"/>
				</td>
			</tr>
		</tbody>
	</table>
	<table class="Modulo" style="border:1px solid grey; margin-top:-1px;" mandatory_enabled="#{{ prefixGenitore2 }}_Attivazione.checked()">
        <tbody>
			<tr class="Rigaintestazioneridotta">
				<td colspan="2">
					<p class="Labelcella">
						In qualità di (madre, padre o tutore legale)
					</p>
				</td>
			</tr>
			<tr>
				<td style="border-right:0px">
					<select class="inputNormal" id="{{ prefixGenitore2 }}_Titolo" name="{{ prefixGenitore2 }}_Titolo" style="width:100%" label="Ruolo">
						<option value=""></option>
						<option value="madre">madre</option>
						<option value="padre">padre</option>
						<option value="tutore legale">tutore legale</option>
					</select>
				</td>
			</tr>
		</tbody>
	</table>
	</div>


{%- endmacro %}

<!-- per i moduli senza porzioni standard immobili o anagrafica -->
{% macro cognome_nome_fittizio( prefix='Referente9999') -%}
{% do all_prefix.append( prefix ) %}
<div type="Anagrafica_cognome_nome_fittizio" style="pd4ml-display: none; display:none">
	<table class="Modulo">
        <tbody>
            <tr>
                <td>
                    <input id="{{ prefix }}_Cognome" name="{{ prefix }}_Cognome" style="width:100%" label="Cognome"/>
                </td>
                <td>
                    <input id="{{ prefix }}_Nome" name="{{ prefix }}_Nome" style="width:100%" label="Nome"/>
                </td>
                <td>
                    <input id="{{ prefix }}_CodiceFiscale" name="{{ prefix }}_CodiceFiscale" style="width:100%" label="Codice fiscale"/>
                </td>
            </tr>
        </tbody>
    </table>
</div>
{%- endmacro %}


